import{c5 as Cd,c6 as Od,c7 as Be,g as Dr,c8 as Bu,c9 as Ce,ca as Pd,cb as Fo,cc as cn,cd as Dd}from"./index-DnmWLAUw.js";import{e as bt}from"./events-DaA0pI3A.js";function Ld(e,t){if(e==null)return{};var r=Cd(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G(e,t,r){return t=Od(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vu={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.log=r()})(Be,function(){var t=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},a=null;function d(w,m){var $=w[m];if(typeof $.bind=="function")return $.bind(w);try{return Function.prototype.bind.call($,w)}catch{return function(){return Function.prototype.apply.apply($,[w,arguments])}}}function f(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(w){return w==="debug"&&(w="log"),typeof console===r?!1:w==="trace"&&n?f:console[w]!==void 0?d(console,w):console.log!==void 0?d(console,"log"):t}function c(){for(var w=this.getLevel(),m=0;m<i.length;m++){var $=i[m];this[$]=m<w?t:this.methodFactory($,w,this.name)}if(this.log=this.debug,typeof console===r&&w<this.levels.SILENT)return"No console available for logging"}function y(w){return function(){typeof console!==r&&(c.call(this),this[w].apply(this,arguments))}}function p(w,m,$){return u(w)||y.apply(this,arguments)}function h(w,m){var $=this,C,E,H,I="loglevel";typeof w=="string"?I+=":"+w:typeof w=="symbol"&&(I=void 0);function V(K){var x=(i[K]||"silent").toUpperCase();if(!(typeof window===r||!I)){try{window.localStorage[I]=x;return}catch{}try{window.document.cookie=encodeURIComponent(I)+"="+x+";"}catch{}}}function te(){var K;if(!(typeof window===r||!I)){try{K=window.localStorage[I]}catch{}if(typeof K===r)try{var x=window.document.cookie,_=encodeURIComponent(I),T=x.indexOf(_+"=");T!==-1&&(K=/^([^;]+)/.exec(x.slice(T+_.length+1))[1])}catch{}return $.levels[K]===void 0&&(K=void 0),K}}function q(){if(!(typeof window===r||!I)){try{window.localStorage.removeItem(I)}catch{}try{window.document.cookie=encodeURIComponent(I)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function z(K){var x=K;if(typeof x=="string"&&$.levels[x.toUpperCase()]!==void 0&&(x=$.levels[x.toUpperCase()]),typeof x=="number"&&x>=0&&x<=$.levels.SILENT)return x;throw new TypeError("log.setLevel() called with invalid level: "+K)}$.name=w,$.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},$.methodFactory=m||p,$.getLevel=function(){return H??E??C},$.setLevel=function(K,x){return H=z(K),x!==!1&&V(H),c.call($)},$.setDefaultLevel=function(K){E=z(K),te()||$.setLevel(K,!1)},$.resetLevel=function(){H=null,q(),c.call($)},$.enableAll=function(K){$.setLevel($.levels.TRACE,K)},$.disableAll=function(K){$.setLevel($.levels.SILENT,K)},$.rebuild=function(){if(a!==$&&(C=z(a.getLevel())),c.call($),a===$)for(var K in o)o[K].rebuild()},C=z(a?a.getLevel():"WARN");var ee=te();ee!=null&&(H=z(ee)),c.call($)}a=new h,a.getLogger=function(m){if(typeof m!="symbol"&&typeof m!="string"||m==="")throw new TypeError("You must supply a name when creating a logger.");var $=o[m];return $||($=o[m]=new h(m,a.methodFactory)),$};var S=typeof window!==r?window.log:void 0;return a.noConflict=function(){return typeof window!==r&&window.log===a&&(window.log=S),a},a.getLoggers=function(){return o},a.default=a,a})})(Vu);var Hu=Vu.exports;const Gu=Dr(Hu);function ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ua(Object(r),!0).forEach(function(n){G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Wo=Gu.getLogger("http-helpers");Wo.setLevel(Hu.levels.INFO);let Uo="torus-default";const Md="x-api-key";function jd(e){Uo=e}async function kd(e,t){let r=null;try{r=new URL(e)}catch{}return fetch(e,t)}function Fd(){const e={};return Uo&&(e[Md]=Uo),e}function Wd(e){Wo.info(`Response: ${e.status} ${e.statusText}`),Wo.info(`Url: ${e.url}`)}const qu=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=ca(ca({},n.headers),Fd()));const i=Bu(n,t,{method:"GET"}),o=await kd(e,i);if(o.ok)return o.json();throw Wd(o),o};var Ju={exports:{}},Bi={exports:{}},fe={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},Ku={exports:{}},Zr={exports:{}},fa;function dt(){if(fa)return Zr.exports;fa=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Zr.exports=e,Zr.exports.AbortSignal=t,Zr.exports.default=e,Zr.exports}(function(e){const t=Ce,{kResistStopPropagation:r,SymbolDispose:n}=fe,i=globalThis.AbortSignal||dt().AbortSignal,o=globalThis.AbortController||dt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||t.Blob,f=typeof d<"u"?function(h){return h instanceof d}:function(h){return!1},u=(p,h)=>{if(p!==void 0&&(p===null||typeof p!="object"||!("aborted"in p)))throw new ERR_INVALID_ARG_TYPE(h,"AbortSignal",p)},c=(p,h)=>{if(typeof p!="function")throw new ERR_INVALID_ARG_TYPE(h,"Function",p)};class y extends Error{constructor(h){if(!Array.isArray(h))throw new TypeError(`Expected input to be an Array, got ${typeof h}`);let S="";for(let w=0;w<h.length;w++)S+=`    ${h[w].stack}
`;super(S),this.name="AggregateError",this.errors=h}}e.exports={AggregateError:y,kEmptyObject:Object.freeze({}),once(p){let h=!1;return function(...S){h||(h=!0,p.apply(this,S))}},createDeferredPromise:function(){let p,h;return{promise:new Promise((w,m)=>{p=w,h=m}),resolve:p,reject:h}},promisify(p){return new Promise((h,S)=>{p((w,...m)=>w?S(w):h(...m))})},debuglog(){return function(){}},format(p,...h){return p.replace(/%([sdifj])/g,function(...[S,w]){const m=h.shift();return w==="f"?m.toFixed(6):w==="j"?JSON.stringify(m):w==="s"&&typeof m=="object"?`${m.constructor!==Object?m.constructor.name:""} {}`.trim():m.toString()})},inspect(p){switch(typeof p){case"string":if(p.includes("'"))if(p.includes('"')){if(!p.includes("`")&&!p.includes("${"))return`\`${p}\``}else return`"${p}"`;return`'${p}'`;case"number":return isNaN(p)?"NaN":Object.is(p,-0)?String(p):p;case"bigint":return`${String(p)}n`;case"boolean":case"undefined":return String(p);case"object":return"{}"}},types:{isAsyncFunction(p){return p instanceof a},isArrayBufferView(p){return ArrayBuffer.isView(p)}},isBlob:f,deprecate(p,h){return p},addAbortListener:bt.addAbortListener||function(h,S){if(h===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",h);u(h,"signal"),c(S,"listener");let w;return h.aborted?queueMicrotask(()=>S()):(h.addEventListener("abort",S,{__proto__:null,once:!0,[r]:!0}),w=()=>{h.removeEventListener("abort",S)}),{__proto__:null,[n](){var m;(m=w)===null||m===void 0||m()}}},AbortSignalAny:i.any||function(h){if(h.length===1)return h[0];const S=new o,w=()=>S.abort();return h.forEach(m=>{u(m,"signals"),m.addEventListener("abort",w,{once:!0})}),S.signal.addEventListener("abort",()=>{h.forEach(m=>m.removeEventListener("abort",w))},{once:!0}),S.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(Ku);var Oe=Ku.exports,ws={};const{format:Ud,inspect:Bn,AggregateError:xd}=Oe,Bd=globalThis.AggregateError||xd,Vd=Symbol("kIsNodeError"),Hd=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Gd=/^([A-Z][a-z0-9]*)+$/,qd="__node_internal_",Yn={};function rr(e,t){if(!e)throw new Yn.ERR_INTERNAL_ASSERTION(t)}function da(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Jd(e,t,r){if(typeof t=="function")return rr(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return rr(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:Ud(t,...r)}function me(e,t,r){r||(r=Error);class n extends r{constructor(...o){super(Jd(e,t,o))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[Vd]=!0,Yn[e]=n}function ha(e){const t=qd+e.name;return Object.defineProperty(e,"name",{value:t}),e}function Kd(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new Bd([t,e],t.message);return r.code=t.code,r}return e||t}let zd=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Yn.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};me("ERR_ASSERTION","%s",Error);me("ERR_INVALID_ARG_TYPE",(e,t,r)=>{rr(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const i=[],o=[],a=[];for(const f of t)rr(typeof f=="string","All expected entries have to be of type string"),Hd.includes(f)?i.push(f.toLowerCase()):Gd.test(f)?o.push(f):(rr(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(o.length>0){const f=i.indexOf("object");f!==-1&&(i.splice(i,f,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{const f=i.pop();n+=`one of type ${i.join(", ")}, or ${f}`}}(o.length>0||a.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+=`an instance of ${o[0]}`;break;case 2:n+=`an instance of ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`an instance of ${o.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var d;if((d=r.constructor)!==null&&d!==void 0&&d.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=Bn(r,{depth:-1});n+=`. Received ${f}`}}else{let f=Bn(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError);me("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=Bn(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError);me("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError);me("ERR_MISSING_ARGS",(...e)=>{rr(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);me("ERR_OUT_OF_RANGE",(e,t,r)=>{rr(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=da(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=da(n)),n+="n"):n=Bn(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);me("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);me("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);me("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);me("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);me("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);me("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);me("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);me("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);me("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);me("ERR_STREAM_WRITE_AFTER_END","write after end",Error);me("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Me={AbortError:zd,aggregateTwoErrors:ha(Kd),hideStackFrames:ha,codes:Yn};const{ArrayIsArray:_s,ArrayPrototypeIncludes:zu,ArrayPrototypeJoin:Yu,ArrayPrototypeMap:Yd,NumberIsInteger:Ss,NumberIsNaN:Xd,NumberMAX_SAFE_INTEGER:Zd,NumberMIN_SAFE_INTEGER:Qd,NumberParseInt:eh,ObjectPrototypeHasOwnProperty:th,RegExpPrototypeExec:Xu,String:rh,StringPrototypeToUpperCase:nh,StringPrototypeTrim:ih}=fe,{hideStackFrames:qe,codes:{ERR_SOCKET_BAD_PORT:oh,ERR_INVALID_ARG_TYPE:Ae,ERR_INVALID_ARG_VALUE:Lr,ERR_OUT_OF_RANGE:ir,ERR_UNKNOWN_SIGNAL:pa}}=Me,{normalizeEncoding:sh}=Oe,{isAsyncFunction:ah,isArrayBufferView:lh}=Oe.types,ba={};function uh(e){return e===(e|0)}function ch(e){return e===e>>>0}const fh=/^[0-7]+$/,dh="must be a 32-bit unsigned integer or an octal string";function hh(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(Xu(fh,e)===null)throw new Lr(t,e,dh);e=eh(e,8)}return Zu(e,t),e}const ph=qe((e,t,r=Qd,n=Zd)=>{if(typeof e!="number")throw new Ae(t,"number",e);if(!Ss(e))throw new ir(t,"an integer",e);if(e<r||e>n)throw new ir(t,`>= ${r} && <= ${n}`,e)}),bh=qe((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Ae(t,"number",e);if(!Ss(e))throw new ir(t,"an integer",e);if(e<r||e>n)throw new ir(t,`>= ${r} && <= ${n}`,e)}),Zu=qe((e,t,r=!1)=>{if(typeof e!="number")throw new Ae(t,"number",e);if(!Ss(e))throw new ir(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new ir(t,`>= ${n} && <= ${i}`,e)});function ms(e,t){if(typeof e!="string")throw new Ae(t,"string",e)}function gh(e,t,r=void 0,n){if(typeof e!="number")throw new Ae(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&Xd(e))throw new ir(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const yh=qe((e,t,r)=>{if(!zu(r,e)){const i="must be one of: "+Yu(Yd(r,o=>typeof o=="string"?`'${o}'`:rh(o)),", ");throw new Lr(t,e,i)}});function Qu(e,t){if(typeof e!="boolean")throw new Ae(t,"boolean",e)}function Vi(e,t,r){return e==null||!th(e,t)?r:e[t]}const wh=qe((e,t,r=null)=>{const n=Vi(r,"allowArray",!1),i=Vi(r,"allowFunction",!1);if(!Vi(r,"nullable",!1)&&e===null||!n&&_s(e)||typeof e!="object"&&(!i||typeof e!="function"))throw new Ae(t,"Object",e)}),_h=qe((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new Ae(t,"a dictionary",e)}),Xn=qe((e,t,r=0)=>{if(!_s(e))throw new Ae(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new Lr(t,e,n)}});function Sh(e,t){Xn(e,t);for(let r=0;r<e.length;r++)ms(e[r],`${t}[${r}]`)}function mh(e,t){Xn(e,t);for(let r=0;r<e.length;r++)Qu(e[r],`${t}[${r}]`)}function Eh(e,t){Xn(e,t);for(let r=0;r<e.length;r++){const n=e[r],i=`${t}[${r}]`;if(n==null)throw new Ae(i,"AbortSignal",n);ec(n,i)}}function Rh(e,t="signal"){if(ms(e,t),ba[e]===void 0)throw ba[nh(e)]!==void 0?new pa(e+" (signals must use all capital letters)"):new pa(e)}const Ah=qe((e,t="buffer")=>{if(!lh(e))throw new Ae(t,["Buffer","TypedArray","DataView"],e)});function vh(e,t){const r=sh(t),n=e.length;if(r==="hex"&&n%2!==0)throw new Lr("encoding",t,`is invalid for data of length ${n}`)}function $h(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&ih(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new oh(t,e,r);return e|0}const ec=qe((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Ae(t,"AbortSignal",e)}),Ih=qe((e,t)=>{if(typeof e!="function")throw new Ae(t,"Function",e)}),Th=qe((e,t)=>{if(typeof e!="function"||ah(e))throw new Ae(t,"Function",e)}),Nh=qe((e,t)=>{if(e!==void 0)throw new Ae(t,"undefined",e)});function Ch(e,t,r){if(!zu(r,e))throw new Ae(t,`('${Yu(r,"|")}')`,e)}const Oh=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ga(e,t){if(typeof e>"u"||!Xu(Oh,e))throw new Lr(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Ph(e){if(typeof e=="string")return ga(e,"hints"),e;if(_s(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const i=e[n];ga(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new Lr("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var pn={isInt32:uh,isUint32:ch,parseFileMode:hh,validateArray:Xn,validateStringArray:Sh,validateBooleanArray:mh,validateAbortSignalArray:Eh,validateBoolean:Qu,validateBuffer:Ah,validateDictionary:_h,validateEncoding:vh,validateFunction:Ih,validateInt32:bh,validateInteger:ph,validateNumber:gh,validateObject:wh,validateOneOf:yh,validatePlainFunction:Th,validatePort:$h,validateSignalName:Rh,validateString:ms,validateUint32:Zu,validateUndefined:Nh,validateUnion:Ch,validateAbortSignal:ec,validateLinkHeaderValue:Ph},Es={exports:{}},tc={exports:{}},he=tc.exports={},it,ot;function xo(){throw new Error("setTimeout has not been defined")}function Bo(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?it=setTimeout:it=xo}catch{it=xo}try{typeof clearTimeout=="function"?ot=clearTimeout:ot=Bo}catch{ot=Bo}})();function rc(e){if(it===setTimeout)return setTimeout(e,0);if((it===xo||!it)&&setTimeout)return it=setTimeout,setTimeout(e,0);try{return it(e,0)}catch{try{return it.call(null,e,0)}catch{return it.call(this,e,0)}}}function Dh(e){if(ot===clearTimeout)return clearTimeout(e);if((ot===Bo||!ot)&&clearTimeout)return ot=clearTimeout,clearTimeout(e);try{return ot(e)}catch{try{return ot.call(null,e)}catch{return ot.call(this,e)}}}var At=[],Er=!1,Qt,kn=-1;function Lh(){!Er||!Qt||(Er=!1,Qt.length?At=Qt.concat(At):kn=-1,At.length&&nc())}function nc(){if(!Er){var e=rc(Lh);Er=!0;for(var t=At.length;t;){for(Qt=At,At=[];++kn<t;)Qt&&Qt[kn].run();kn=-1,t=At.length}Qt=null,Er=!1,Dh(e)}}he.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];At.push(new ic(e,t)),At.length===1&&!Er&&rc(nc)};function ic(e,t){this.fun=e,this.array=t}ic.prototype.run=function(){this.fun.apply(null,this.array)};he.title="browser";he.browser=!0;he.env={};he.argv=[];he.version="";he.versions={};function Nt(){}he.on=Nt;he.addListener=Nt;he.once=Nt;he.off=Nt;he.removeListener=Nt;he.removeAllListeners=Nt;he.emit=Nt;he.prependListener=Nt;he.prependOnceListener=Nt;he.listeners=function(e){return[]};he.binding=function(e){throw new Error("process.binding is not supported")};he.cwd=function(){return"/"};he.chdir=function(e){throw new Error("process.chdir is not supported")};he.umask=function(){return 0};var je=tc.exports;const{SymbolAsyncIterator:ya,SymbolIterator:wa,SymbolFor:ur}=fe,oc=ur("nodejs.stream.destroyed"),sc=ur("nodejs.stream.errored"),Vo=ur("nodejs.stream.readable"),Ho=ur("nodejs.stream.writable"),ac=ur("nodejs.stream.disturbed"),Mh=ur("nodejs.webstream.isClosedPromise"),jh=ur("nodejs.webstream.controllerErrorFunction");function Zn(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function Qn(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function kh(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function gt(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function lc(e){return!!(e&&!gt(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function uc(e){return!!(e&&!gt(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function cc(e){return!!(e&&!gt(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function Fh(e){return lc(e)||uc(e)||cc(e)}function Wh(e,t){return e==null?!1:t===!0?typeof e[ya]=="function":t===!1?typeof e[wa]=="function":typeof e[ya]=="function"||typeof e[wa]=="function"}function ei(e){if(!gt(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[oc]||n!=null&&n.destroyed)}function fc(e){if(!Qn(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function Uh(e,t){if(!Qn(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function xh(e){if(!Zn(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function dc(e,t){if(!Zn(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function hc(e){return e&&e[Vo]!=null?e[Vo]:typeof(e==null?void 0:e.readable)!="boolean"?null:ei(e)?!1:Zn(e)&&e.readable&&!dc(e)}function pc(e){return e&&e[Ho]!=null?e[Ho]:typeof(e==null?void 0:e.writable)!="boolean"?null:ei(e)?!1:Qn(e)&&e.writable&&!fc(e)}function Bh(e,t){return gt(e)?ei(e)?!0:!((t==null?void 0:t.readable)!==!1&&hc(e)||(t==null?void 0:t.writable)!==!1&&pc(e)):null}function Vh(e){var t,r;return gt(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Hh(e){var t,r;return gt(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Gh(e){if(!gt(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&bc(e)?e._closed:null}function bc(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function gc(e){return typeof e._sent100=="boolean"&&bc(e)}function qh(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function Jh(e){if(!gt(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&gc(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Kh(e){var t;return!!(e&&((t=e[ac])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function zh(e){var t,r,n,i,o,a,d,f,u,c;return!!(e&&((t=(r=(n=(i=(o=(a=e[sc])!==null&&a!==void 0?a:e.readableErrored)!==null&&o!==void 0?o:e.writableErrored)!==null&&i!==void 0?i:(d=e._readableState)===null||d===void 0?void 0:d.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((c=e._writableState)===null||c===void 0)&&c.errored))}var Ct={isDestroyed:ei,kIsDestroyed:oc,isDisturbed:Kh,kIsDisturbed:ac,isErrored:zh,kIsErrored:sc,isReadable:hc,kIsReadable:Vo,kIsClosedPromise:Mh,kControllerErrorFunction:jh,kIsWritable:Ho,isClosed:Gh,isDuplexNodeStream:kh,isFinished:Bh,isIterable:Wh,isReadableNodeStream:Zn,isReadableStream:lc,isReadableEnded:xh,isReadableFinished:dc,isReadableErrored:Hh,isNodeStream:gt,isWebStream:Fh,isWritable:pc,isWritableNodeStream:Qn,isWritableStream:uc,isWritableEnded:fc,isWritableFinished:Uh,isWritableErrored:Vh,isServerRequest:qh,isServerResponse:gc,willEmitClose:Jh,isTransformStream:cc};const Pt=je,{AbortError:yc,codes:Yh}=Me,{ERR_INVALID_ARG_TYPE:Xh,ERR_STREAM_PREMATURE_CLOSE:_a}=Yh,{kEmptyObject:Go,once:qo}=Oe,{validateAbortSignal:Zh,validateFunction:Qh,validateObject:ep,validateBoolean:tp}=pn,{Promise:rp,PromisePrototypeThen:np,SymbolDispose:wc}=fe,{isClosed:ip,isReadable:Sa,isReadableNodeStream:Hi,isReadableStream:op,isReadableFinished:ma,isReadableErrored:Ea,isWritable:Ra,isWritableNodeStream:Aa,isWritableStream:sp,isWritableFinished:va,isWritableErrored:$a,isNodeStream:ap,willEmitClose:lp,kIsClosedPromise:up}=Ct;let Rr;function cp(e){return e.setHeader&&typeof e.abort=="function"}const Jo=()=>{};function _c(e,t,r){var n,i;if(arguments.length===2?(r=t,t=Go):t==null?t=Go:ep(t,"options"),Qh(r,"callback"),Zh(t.signal,"options.signal"),r=qo(r),op(e)||sp(e))return fp(e,t,r);if(!ap(e))throw new Xh("stream",["ReadableStream","WritableStream","Stream"],e);const o=(n=t.readable)!==null&&n!==void 0?n:Hi(e),a=(i=t.writable)!==null&&i!==void 0?i:Aa(e),d=e._writableState,f=e._readableState,u=()=>{e.writable||p()};let c=lp(e)&&Hi(e)===o&&Aa(e)===a,y=va(e,!1);const p=()=>{y=!0,e.destroyed&&(c=!1),!(c&&(!e.readable||o))&&(!o||h)&&r.call(e)};let h=ma(e,!1);const S=()=>{h=!0,e.destroyed&&(c=!1),!(c&&(!e.writable||a))&&(!a||y)&&r.call(e)},w=I=>{r.call(e,I)};let m=ip(e);const $=()=>{m=!0;const I=$a(e)||Ea(e);if(I&&typeof I!="boolean")return r.call(e,I);if(o&&!h&&Hi(e,!0)&&!ma(e,!1))return r.call(e,new _a);if(a&&!y&&!va(e,!1))return r.call(e,new _a);r.call(e)},C=()=>{m=!0;const I=$a(e)||Ea(e);if(I&&typeof I!="boolean")return r.call(e,I);r.call(e)},E=()=>{e.req.on("finish",p)};cp(e)?(e.on("complete",p),c||e.on("abort",$),e.req?E():e.on("request",E)):a&&!d&&(e.on("end",u),e.on("close",u)),!c&&typeof e.aborted=="boolean"&&e.on("aborted",$),e.on("end",S),e.on("finish",p),t.error!==!1&&e.on("error",w),e.on("close",$),m?Pt.nextTick($):d!=null&&d.errorEmitted||f!=null&&f.errorEmitted?c||Pt.nextTick(C):(!o&&(!c||Sa(e))&&(y||Ra(e)===!1)||!a&&(!c||Ra(e))&&(h||Sa(e)===!1)||f&&e.req&&e.aborted)&&Pt.nextTick(C);const H=()=>{r=Jo,e.removeListener("aborted",$),e.removeListener("complete",p),e.removeListener("abort",$),e.removeListener("request",E),e.req&&e.req.removeListener("finish",p),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",p),e.removeListener("end",S),e.removeListener("error",w),e.removeListener("close",$)};if(t.signal&&!m){const I=()=>{const V=r;H(),V.call(e,new yc(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Pt.nextTick(I);else{Rr=Rr||Oe.addAbortListener;const V=Rr(t.signal,I),te=r;r=qo((...q)=>{V[wc](),te.apply(e,q)})}}return H}function fp(e,t,r){let n=!1,i=Jo;if(t.signal)if(i=()=>{n=!0,r.call(e,new yc(void 0,{cause:t.signal.reason}))},t.signal.aborted)Pt.nextTick(i);else{Rr=Rr||Oe.addAbortListener;const a=Rr(t.signal,i),d=r;r=qo((...f)=>{a[wc](),d.apply(e,f)})}const o=(...a)=>{n||Pt.nextTick(()=>r.apply(e,a))};return np(e[up].promise,o,o),Jo}function dp(e,t){var r;let n=!1;return t===null&&(t=Go),(r=t)!==null&&r!==void 0&&r.cleanup&&(tp(t.cleanup,"cleanup"),n=t.cleanup),new rp((i,o)=>{const a=_c(e,t,d=>{n&&a(),d?o(d):i()})})}Es.exports=_c;Es.exports.finished=dp;var Mt=Es.exports;const ut=je,{aggregateTwoErrors:hp,codes:{ERR_MULTIPLE_CALLBACK:pp},AbortError:bp}=Me,{Symbol:Sc}=fe,{kIsDestroyed:gp,isDestroyed:yp,isFinished:wp,isServerRequest:_p}=Ct,mc=Sc("kDestroy"),Ko=Sc("kConstruct");function Ec(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function Sp(e,t){const r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(Ec(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?Ia(this,e,t):this.once(mc,function(o){Ia(this,hp(o,e),t)}),this)}function Ia(e,t,r){let n=!1;function i(o){if(n)return;n=!0;const a=e._readableState,d=e._writableState;Ec(o,d,a),d&&(d.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(o),o?ut.nextTick(mp,e,o):ut.nextTick(Rc,e)}try{e._destroy(t||null,i)}catch(o){i(o)}}function mp(e,t){zo(e,t),Rc(e)}function Rc(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function zo(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function Ep(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function Yo(e,t,r){const n=e._readableState,i=e._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?ut.nextTick(zo,e,t):zo(e,t))}function Rp(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(Ko,t),!(e.listenerCount(Ko)>1)&&ut.nextTick(Ap,e)}function Ap(e){let t=!1;function r(n){if(t){Yo(e,n??new pp);return}t=!0;const i=e._readableState,o=e._writableState,a=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),a.destroyed?e.emit(mc,n):n?Yo(e,n,!0):ut.nextTick(vp,e)}try{e._construct(n=>{ut.nextTick(r,n)})}catch(n){ut.nextTick(r,n)}}function vp(e){e.emit(Ko)}function Ta(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function Ac(e){e.emit("close")}function $p(e,t){e.emit("error",t),ut.nextTick(Ac,e)}function Ip(e,t){!e||yp(e)||(!t&&!wp(e)&&(t=new bp),_p(e)?(e.socket=null,e.destroy(t)):Ta(e)?e.abort():Ta(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?ut.nextTick($p,e,t):ut.nextTick(Ac,e),e.destroyed||(e[gp]=!0))}var Mr={construct:Rp,destroyer:Ip,destroy:Sp,undestroy:Ep,errorOrDestroy:Yo};const{ArrayIsArray:Tp,ObjectSetPrototypeOf:vc}=fe,{EventEmitter:ti}=bt;function ri(e){ti.call(this,e)}vc(ri.prototype,ti.prototype);vc(ri,ti);ri.prototype.pipe=function(e,t){const r=this;function n(c){e.writable&&e.write(c)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",d));let o=!1;function a(){o||(o=!0,e.end())}function d(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}function f(c){u(),ti.listenerCount(this,"error")===0&&this.emit("error",c)}Xo(r,"error",f),Xo(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",d),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function Xo(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Tp(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var Rs={Stream:ri,prependListener:Xo},$c={exports:{}};(function(e){const{SymbolDispose:t}=fe,{AbortError:r,codes:n}=Me,{isNodeStream:i,isWebStream:o,kControllerErrorFunction:a}=Ct,d=Mt,{ERR_INVALID_ARG_TYPE:f}=n;let u;const c=(y,p)=>{if(typeof y!="object"||!("aborted"in y))throw new f(p,"AbortSignal",y)};e.exports.addAbortSignal=function(p,h){if(c(p,"signal"),!i(h)&&!o(h))throw new f("stream",["ReadableStream","WritableStream","Stream"],h);return e.exports.addAbortSignalNoValidate(p,h)},e.exports.addAbortSignalNoValidate=function(y,p){if(typeof y!="object"||!("aborted"in y))return p;const h=i(p)?()=>{p.destroy(new r(void 0,{cause:y.reason}))}:()=>{p[a](new r(void 0,{cause:y.reason}))};if(y.aborted)h();else{u=u||Oe.addAbortListener;const S=u(y,h);d(p,S[t])}return p}})($c);var ni=$c.exports;const{StringPrototypeSlice:Na,SymbolIterator:Np,TypedArrayPrototypeSet:An,Uint8Array:Cp}=fe,{Buffer:Gi}=Ce,{inspect:Op}=Oe;var Pp=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return Gi.alloc(0);const r=Gi.allocUnsafe(t>>>0);let n=this.head,i=0;for(;n;)An(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const i=n.slice(0,t);return this.head.data=n.slice(t),i}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[Np](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,i=0;do{const o=n.data;if(t>o.length)r+=o,t-=o.length;else{t===o.length?(r+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=Na(o,0,t),this.head=n,n.data=Na(o,t));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(t){const r=Gi.allocUnsafe(t),n=t;let i=this.head,o=0;do{const a=i.data;if(t>a.length)An(r,a,n-t),t-=a.length;else{t===a.length?(An(r,a,n-t),++o,i.next?this.head=i.next:this.head=this.tail=null):(An(r,new Cp(a.buffer,a.byteOffset,t),n-t),this.head=i,i.data=a.slice(t));break}++o}while((i=i.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return Op(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:Dp,NumberIsInteger:Lp}=fe,{validateInteger:Mp}=pn,{ERR_INVALID_ARG_VALUE:jp}=Me.codes;let Ic=16*1024,Tc=16;function kp(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Nc(e){return e?Tc:Ic}function Fp(e,t){Mp(t,"value",0),e?Tc=t:Ic=t}function Wp(e,t,r,n){const i=kp(t,n,r);if(i!=null){if(!Lp(i)||i<0){const o=n?`options.${r}`:"options.highWaterMark";throw new jp(o,i)}return Dp(i)}return Nc(e.objectMode)}var ii={getHighWaterMark:Wp,getDefaultHighWaterMark:Nc,setDefaultHighWaterMark:Fp},As={},Zo={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=Ce,n=r.Buffer;function i(a,d){for(var f in a)d[f]=a[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o);function o(a,d,f){return n(a,d,f)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(a,d,f){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,d,f)},o.alloc=function(a,d,f){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=n(a);return d!==void 0?typeof f=="string"?u.fill(d,f):u.fill(d):u.fill(0),u},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(Zo,Zo.exports);var Up=Zo.exports,vs=Up.Buffer,Ca=vs.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function xp(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Bp(e){var t=xp(e);if(typeof t!="string"&&(vs.isEncoding===Ca||!Ca(e)))throw new Error("Unknown encoding: "+e);return t||e}As.StringDecoder=bn;function bn(e){this.encoding=Bp(e);var t;switch(this.encoding){case"utf16le":this.text=Kp,this.end=zp,t=4;break;case"utf8":this.fillLast=Gp,t=4;break;case"base64":this.text=Yp,this.end=Xp,t=3;break;default:this.write=Zp,this.end=Qp;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=vs.allocUnsafe(t)}bn.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};bn.prototype.end=Jp;bn.prototype.text=qp;bn.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function qi(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Vp(e,t,r){var n=t.length-1;if(n<r)return 0;var i=qi(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=qi(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=qi(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Hp(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"�"}}function Gp(e){var t=this.lastTotal-this.lastNeed,r=Hp(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function qp(e,t){var r=Vp(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Jp(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function Kp(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function zp(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Yp(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Xp(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Zp(e){return e.toString(this.encoding)}function Qp(e){return e&&e.length?this.write(e):""}const Oa=je,{PromisePrototypeThen:eb,SymbolAsyncIterator:Pa,SymbolIterator:Da}=fe,{Buffer:tb}=Ce,{ERR_INVALID_ARG_TYPE:rb,ERR_STREAM_NULL_VALUES:nb}=Me.codes;function ib(e,t,r){let n;if(typeof t=="string"||t instanceof tb)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let i;if(t&&t[Pa])i=!0,n=t[Pa]();else if(t&&t[Da])i=!1,n=t[Da]();else throw new rb("iterable",["Iterable"],t);const o=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;o._read=function(){a||(a=!0,f())},o._destroy=function(u,c){eb(d(u),()=>Oa.nextTick(c,u),y=>Oa.nextTick(c,y||u))};async function d(u){const c=u!=null,y=typeof n.throw=="function";if(c&&y){const{value:p,done:h}=await n.throw(u);if(await p,h)return}if(typeof n.return=="function"){const{value:p}=await n.return();await p}}async function f(){for(;;){try{const{value:u,done:c}=i?await n.next():n.next();if(c)o.push(null);else{const y=u&&typeof u.then=="function"?await u:u;if(y===null)throw a=!1,new nb;if(o.push(y))continue;a=!1}}catch(u){o.destroy(u)}break}}return o}var Cc=ib,Ji,La;function oi(){if(La)return Ji;La=1;const e=je,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:d,Promise:f,SafeSet:u,SymbolAsyncDispose:c,SymbolAsyncIterator:y,Symbol:p}=fe;Ji=W,W.ReadableState=be;const{EventEmitter:h}=bt,{Stream:S,prependListener:w}=Rs,{Buffer:m}=Ce,{addAbortSignal:$}=ni,C=Mt;let E=Oe.debuglog("stream",s=>{E=s});const H=Pp,I=Mr,{getHighWaterMark:V,getDefaultHighWaterMark:te}=ii,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:z,ERR_METHOD_NOT_IMPLEMENTED:ee,ERR_OUT_OF_RANGE:K,ERR_STREAM_PUSH_AFTER_EOF:x,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:_},AbortError:T}=Me,{validateObject:O}=pn,P=p("kPaused"),{StringDecoder:k}=As,j=Cc;d(W.prototype,S.prototype),d(W,S);const U=()=>{},{errorOrDestroy:B}=I,F=1,Q=2,M=4,J=8,se=16,Le=32,We=64,Ue=128,Ke=256,kt=512,ze=1024,xe=2048,b=4096,g=8192,R=16384,D=32768,L=65536,X=1<<17,Z=1<<18;function Y(s){return{enumerable:!1,get(){return(this.state&s)!==0},set(l){l?this.state|=s:this.state&=~s}}}o(be.prototype,{objectMode:Y(F),ended:Y(Q),endEmitted:Y(M),reading:Y(J),constructed:Y(se),sync:Y(Le),needReadable:Y(We),emittedReadable:Y(Ue),readableListening:Y(Ke),resumeScheduled:Y(kt),errorEmitted:Y(ze),emitClose:Y(xe),autoDestroy:Y(b),destroyed:Y(g),closed:Y(R),closeEmitted:Y(D),multiAwaitDrain:Y(L),readingMore:Y(X),dataEmitted:Y(Z)});function be(s,l,A){typeof A!="boolean"&&(A=l instanceof vt()),this.state=xe|b|se|Le,s&&s.objectMode&&(this.state|=F),A&&s&&s.readableObjectMode&&(this.state|=F),this.highWaterMark=s?V(this,s,"readableHighWaterMark",A):te(!1),this.buffer=new H,this.length=0,this.pipes=[],this.flowing=null,this[P]=null,s&&s.emitClose===!1&&(this.state&=~xe),s&&s.autoDestroy===!1&&(this.state&=~b),this.errored=null,this.defaultEncoding=s&&s.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,s&&s.encoding&&(this.decoder=new k(s.encoding),this.encoding=s.encoding)}function W(s){if(!(this instanceof W))return new W(s);const l=this instanceof vt();this._readableState=new be(s,this,l),s&&(typeof s.read=="function"&&(this._read=s.read),typeof s.destroy=="function"&&(this._destroy=s.destroy),typeof s.construct=="function"&&(this._construct=s.construct),s.signal&&!l&&$(s.signal,this)),S.call(this,s),I.construct(this,()=>{this._readableState.needReadable&&_t(this,this._readableState)})}W.prototype.destroy=I.destroy,W.prototype._undestroy=I.undestroy,W.prototype._destroy=function(s,l){l(s)},W.prototype[h.captureRejectionSymbol]=function(s){this.destroy(s)},W.prototype[c]=function(){let s;return this.destroyed||(s=this.readableEnded?null:new T,this.destroy(s)),new f((l,A)=>C(this,v=>v&&v!==s?A(v):l(null)))},W.prototype.push=function(s,l){return _e(this,s,l,!1)},W.prototype.unshift=function(s,l){return _e(this,s,l,!0)};function _e(s,l,A,v){E("readableAddChunk",l);const N=s._readableState;let re;if(N.state&F||(typeof l=="string"?(A=A||N.defaultEncoding,N.encoding!==A&&(v&&N.encoding?l=m.from(l,A).toString(N.encoding):(l=m.from(l,A),A=""))):l instanceof m?A="":S._isUint8Array(l)?(l=S._uint8ArrayToBuffer(l),A=""):l!=null&&(re=new z("chunk",["string","Buffer","Uint8Array"],l))),re)B(s,re);else if(l===null)N.state&=~J,Pi(s,N);else if(N.state&F||l&&l.length>0)if(v)if(N.state&M)B(s,new _);else{if(N.destroyed||N.errored)return!1;Ft(s,N,l,!0)}else if(N.ended)B(s,new x);else{if(N.destroyed||N.errored)return!1;N.state&=~J,N.decoder&&!A?(l=N.decoder.write(l),N.objectMode||l.length!==0?Ft(s,N,l,!1):_t(s,N)):Ft(s,N,l,!1)}else v||(N.state&=~J,_t(s,N));return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function Ft(s,l,A,v){l.flowing&&l.length===0&&!l.sync&&s.listenerCount("data")>0?(l.state&L?l.awaitDrainWriters.clear():l.awaitDrainWriters=null,l.dataEmitted=!0,s.emit("data",A)):(l.length+=l.objectMode?1:A.length,v?l.buffer.unshift(A):l.buffer.push(A),l.state&We&&wt(s)),_t(s,l)}W.prototype.isPaused=function(){const s=this._readableState;return s[P]===!0||s.flowing===!1},W.prototype.setEncoding=function(s){const l=new k(s);this._readableState.decoder=l,this._readableState.encoding=this._readableState.decoder.encoding;const A=this._readableState.buffer;let v="";for(const N of A)v+=l.write(N);return A.clear(),v!==""&&A.push(v),this._readableState.length=v.length,this};const Ci=1073741824;function Oi(s){if(s>Ci)throw new K("size","<= 1GiB",s);return s--,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s++,s}function xr(s,l){return s<=0||l.length===0&&l.ended?0:l.state&F?1:n(s)?l.flowing&&l.length?l.buffer.first().length:l.length:s<=l.length?s:l.ended?l.length:0}W.prototype.read=function(s){E("read",s),s===void 0?s=NaN:r(s)||(s=i(s,10));const l=this._readableState,A=s;if(s>l.highWaterMark&&(l.highWaterMark=Oi(s)),s!==0&&(l.state&=~Ue),s===0&&l.needReadable&&((l.highWaterMark!==0?l.length>=l.highWaterMark:l.length>0)||l.ended))return E("read: emitReadable",l.length,l.ended),l.length===0&&l.ended?Wt(this):wt(this),null;if(s=xr(s,l),s===0&&l.ended)return l.length===0&&Wt(this),null;let v=(l.state&We)!==0;if(E("need readable",v),(l.length===0||l.length-s<l.highWaterMark)&&(v=!0,E("length less than watermark",v)),l.ended||l.reading||l.destroyed||l.errored||!l.constructed)v=!1,E("reading, ended or constructing",v);else if(v){E("do read"),l.state|=J|Le,l.length===0&&(l.state|=We);try{this._read(l.highWaterMark)}catch(re){B(this,re)}l.state&=~Le,l.reading||(s=xr(A,l))}let N;return s>0?N=qr(s,l):N=null,N===null?(l.needReadable=l.length<=l.highWaterMark,s=0):(l.length-=s,l.multiAwaitDrain?l.awaitDrainWriters.clear():l.awaitDrainWriters=null),l.length===0&&(l.ended||(l.needReadable=!0),A!==s&&l.ended&&Wt(this)),N!==null&&!l.errorEmitted&&!l.closeEmitted&&(l.dataEmitted=!0,this.emit("data",N)),N};function Pi(s,l){if(E("onEofChunk"),!l.ended){if(l.decoder){const A=l.decoder.end();A&&A.length&&(l.buffer.push(A),l.length+=l.objectMode?1:A.length)}l.ended=!0,l.sync?wt(s):(l.needReadable=!1,l.emittedReadable=!0,Br(s))}}function wt(s){const l=s._readableState;E("emitReadable",l.needReadable,l.emittedReadable),l.needReadable=!1,l.emittedReadable||(E("emitReadable",l.flowing),l.emittedReadable=!0,e.nextTick(Br,s))}function Br(s){const l=s._readableState;E("emitReadable_",l.destroyed,l.length,l.ended),!l.destroyed&&!l.errored&&(l.length||l.ended)&&(s.emit("readable"),l.emittedReadable=!1),l.needReadable=!l.flowing&&!l.ended&&l.length<=l.highWaterMark,Hr(s)}function _t(s,l){!l.readingMore&&l.constructed&&(l.readingMore=!0,e.nextTick(Di,s,l))}function Di(s,l){for(;!l.reading&&!l.ended&&(l.length<l.highWaterMark||l.flowing&&l.length===0);){const A=l.length;if(E("maybeReadMore read 0"),s.read(0),A===l.length)break}l.readingMore=!1}W.prototype._read=function(s){throw new ee("_read()")},W.prototype.pipe=function(s,l){const A=this,v=this._readableState;v.pipes.length===1&&(v.multiAwaitDrain||(v.multiAwaitDrain=!0,v.awaitDrainWriters=new u(v.awaitDrainWriters?[v.awaitDrainWriters]:[]))),v.pipes.push(s),E("pipe count=%d opts=%j",v.pipes.length,l);const re=(!l||l.end!==!1)&&s!==e.stdout&&s!==e.stderr?Kr:Ye;v.endEmitted?e.nextTick(re):A.once("end",re),s.on("unpipe",le);function le(Ie,ge){E("onunpipe"),Ie===A&&ge&&ge.hasUnpiped===!1&&(ge.hasUnpiped=!0,xi())}function Kr(){E("onend"),s.end()}let $e,zr=!1;function xi(){E("cleanup"),s.removeListener("close",Bt),s.removeListener("finish",Vt),$e&&s.removeListener("drain",$e),s.removeListener("error",xt),s.removeListener("unpipe",le),A.removeListener("end",Kr),A.removeListener("end",Ye),A.removeListener("data",Xr),zr=!0,$e&&v.awaitDrainWriters&&(!s._writableState||s._writableState.needDrain)&&$e()}function Yr(){zr||(v.pipes.length===1&&v.pipes[0]===s?(E("false write response, pause",0),v.awaitDrainWriters=s,v.multiAwaitDrain=!1):v.pipes.length>1&&v.pipes.includes(s)&&(E("false write response, pause",v.awaitDrainWriters.size),v.awaitDrainWriters.add(s)),A.pause()),$e||($e=Li(A,s),s.on("drain",$e))}A.on("data",Xr);function Xr(Ie){E("ondata");const ge=s.write(Ie);E("dest.write",ge),ge===!1&&Yr()}function xt(Ie){if(E("onerror",Ie),Ye(),s.removeListener("error",xt),s.listenerCount("error")===0){const ge=s._writableState||s._readableState;ge&&!ge.errorEmitted?B(s,Ie):s.emit("error",Ie)}}w(s,"error",xt);function Bt(){s.removeListener("finish",Vt),Ye()}s.once("close",Bt);function Vt(){E("onfinish"),s.removeListener("close",Bt),Ye()}s.once("finish",Vt);function Ye(){E("unpipe"),A.unpipe(s)}return s.emit("pipe",A),s.writableNeedDrain===!0?Yr():v.flowing||(E("pipe resume"),A.resume()),s};function Li(s,l){return function(){const v=s._readableState;v.awaitDrainWriters===l?(E("pipeOnDrain",1),v.awaitDrainWriters=null):v.multiAwaitDrain&&(E("pipeOnDrain",v.awaitDrainWriters.size),v.awaitDrainWriters.delete(l)),(!v.awaitDrainWriters||v.awaitDrainWriters.size===0)&&s.listenerCount("data")&&s.resume()}}W.prototype.unpipe=function(s){const l=this._readableState,A={hasUnpiped:!1};if(l.pipes.length===0)return this;if(!s){const N=l.pipes;l.pipes=[],this.pause();for(let re=0;re<N.length;re++)N[re].emit("unpipe",this,{hasUnpiped:!1});return this}const v=t(l.pipes,s);return v===-1?this:(l.pipes.splice(v,1),l.pipes.length===0&&this.pause(),s.emit("unpipe",this,A),this)},W.prototype.on=function(s,l){const A=S.prototype.on.call(this,s,l),v=this._readableState;return s==="data"?(v.readableListening=this.listenerCount("readable")>0,v.flowing!==!1&&this.resume()):s==="readable"&&!v.endEmitted&&!v.readableListening&&(v.readableListening=v.needReadable=!0,v.flowing=!1,v.emittedReadable=!1,E("on readable",v.length,v.reading),v.length?wt(this):v.reading||e.nextTick(Mi,this)),A},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(s,l){const A=S.prototype.removeListener.call(this,s,l);return s==="readable"&&e.nextTick(Vr,this),A},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(s){const l=S.prototype.removeAllListeners.apply(this,arguments);return(s==="readable"||s===void 0)&&e.nextTick(Vr,this),l};function Vr(s){const l=s._readableState;l.readableListening=s.listenerCount("readable")>0,l.resumeScheduled&&l[P]===!1?l.flowing=!0:s.listenerCount("data")>0?s.resume():l.readableListening||(l.flowing=null)}function Mi(s){E("readable nexttick read 0"),s.read(0)}W.prototype.resume=function(){const s=this._readableState;return s.flowing||(E("resume"),s.flowing=!s.readableListening,ji(this,s)),s[P]=!1,this};function ji(s,l){l.resumeScheduled||(l.resumeScheduled=!0,e.nextTick(ki,s,l))}function ki(s,l){E("resume",l.reading),l.reading||s.read(0),l.resumeScheduled=!1,s.emit("resume"),Hr(s),l.flowing&&!l.reading&&s.read(0)}W.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[P]=!0,this};function Hr(s){const l=s._readableState;for(E("flow",l.flowing);l.flowing&&s.read()!==null;);}W.prototype.wrap=function(s){let l=!1;s.on("data",v=>{!this.push(v)&&s.pause&&(l=!0,s.pause())}),s.on("end",()=>{this.push(null)}),s.on("error",v=>{B(this,v)}),s.on("close",()=>{this.destroy()}),s.on("destroy",()=>{this.destroy()}),this._read=()=>{l&&s.resume&&(l=!1,s.resume())};const A=a(s);for(let v=1;v<A.length;v++){const N=A[v];this[N]===void 0&&typeof s[N]=="function"&&(this[N]=s[N].bind(s))}return this},W.prototype[y]=function(){return Gr(this)},W.prototype.iterator=function(s){return s!==void 0&&O(s,"options"),Gr(this,s)};function Gr(s,l){typeof s.read!="function"&&(s=W.wrap(s,{objectMode:!0}));const A=Fi(s,l);return A.stream=s,A}async function*Fi(s,l){let A=U;function v(le){this===s?(A(),A=U):A=le}s.on("readable",v);let N;const re=C(s,{writable:!1},le=>{N=le?q(N,le):null,A(),A=U});try{for(;;){const le=s.destroyed?null:s.read();if(le!==null)yield le;else{if(N)throw N;if(N===null)return;await new f(v)}}}catch(le){throw N=q(N,le),N}finally{(N||(l==null?void 0:l.destroyOnReturn)!==!1)&&(N===void 0||s._readableState.autoDestroy)?I.destroyer(s,null):(s.off("readable",v),re())}}o(W.prototype,{readable:{__proto__:null,get(){const s=this._readableState;return!!s&&s.readable!==!1&&!s.destroyed&&!s.errorEmitted&&!s.endEmitted},set(s){this._readableState&&(this._readableState.readable=!!s)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(s){this._readableState&&(this._readableState.flowing=s)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(s){this._readableState&&(this._readableState.destroyed=s)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(be.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[P]!==!1},set(s){this[P]=!!s}}}),W._fromList=qr;function qr(s,l){if(l.length===0)return null;let A;return l.objectMode?A=l.buffer.shift():!s||s>=l.length?(l.decoder?A=l.buffer.join(""):l.buffer.length===1?A=l.buffer.first():A=l.buffer.concat(l.length),l.buffer.clear()):A=l.buffer.consume(s,l.decoder),A}function Wt(s){const l=s._readableState;E("endReadable",l.endEmitted),l.endEmitted||(l.ended=!0,e.nextTick(Wi,l,s))}function Wi(s,l){if(E("endReadableNT",s.endEmitted,s.length),!s.errored&&!s.closeEmitted&&!s.endEmitted&&s.length===0){if(s.endEmitted=!0,l.emit("end"),l.writable&&l.allowHalfOpen===!1)e.nextTick(Ui,l);else if(s.autoDestroy){const A=l._writableState;(!A||A.autoDestroy&&(A.finished||A.writable===!1))&&l.destroy()}}}function Ui(s){s.writable&&!s.writableEnded&&!s.destroyed&&s.end()}W.from=function(s,l){return j(W,s,l)};let Ut;function Jr(){return Ut===void 0&&(Ut={}),Ut}return W.fromWeb=function(s,l){return Jr().newStreamReadableFromReadableStream(s,l)},W.toWeb=function(s,l){return Jr().newReadableStreamFromStreamReadable(s,l)},W.wrap=function(s,l){var A,v;return new W({objectMode:(A=(v=s.readableObjectMode)!==null&&v!==void 0?v:s.objectMode)!==null&&A!==void 0?A:!0,...l,destroy(N,re){I.destroyer(s,N),re(N)}}).wrap(s)},Ji}var Ki,Ma;function $s(){if(Ma)return Ki;Ma=1;const e=je,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:d,Symbol:f,SymbolHasInstance:u}=fe;Ki=O,O.WritableState=_;const{EventEmitter:c}=bt,y=Rs.Stream,{Buffer:p}=Ce,h=Mr,{addAbortSignal:S}=ni,{getHighWaterMark:w,getDefaultHighWaterMark:m}=ii,{ERR_INVALID_ARG_TYPE:$,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:H,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:V,ERR_STREAM_NULL_VALUES:te,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:z}=Me.codes,{errorOrDestroy:ee}=h;a(O.prototype,y.prototype),a(O,y);function K(){}const x=f("kOnFinished");function _(b,g,R){typeof R!="boolean"&&(R=g instanceof vt()),this.objectMode=!!(b&&b.objectMode),R&&(this.objectMode=this.objectMode||!!(b&&b.writableObjectMode)),this.highWaterMark=b?w(this,b,"writableHighWaterMark",R):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const D=!!(b&&b.decodeStrings===!1);this.decodeStrings=!D,this.defaultEncoding=b&&b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,g),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,T(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!b||b.emitClose!==!1,this.autoDestroy=!b||b.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[x]=[]}function T(b){b.buffered=[],b.bufferedIndex=0,b.allBuffers=!0,b.allNoop=!0}_.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(_.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function O(b){const g=this instanceof vt();if(!g&&!n(O,this))return new O(b);this._writableState=new _(b,this,g),b&&(typeof b.write=="function"&&(this._write=b.write),typeof b.writev=="function"&&(this._writev=b.writev),typeof b.destroy=="function"&&(this._destroy=b.destroy),typeof b.final=="function"&&(this._final=b.final),typeof b.construct=="function"&&(this._construct=b.construct),b.signal&&S(b.signal,this)),y.call(this,b),h.construct(this,()=>{const R=this._writableState;R.writing||J(this,R),Ue(this,R)})}i(O,u,{__proto__:null,value:function(b){return n(this,b)?!0:this!==O?!1:b&&b._writableState instanceof _}}),O.prototype.pipe=function(){ee(this,new H)};function P(b,g,R,D){const L=b._writableState;if(typeof R=="function")D=R,R=L.defaultEncoding;else{if(!R)R=L.defaultEncoding;else if(R!=="buffer"&&!p.isEncoding(R))throw new z(R);typeof D!="function"&&(D=K)}if(g===null)throw new te;if(!L.objectMode)if(typeof g=="string")L.decodeStrings!==!1&&(g=p.from(g,R),R="buffer");else if(g instanceof p)R="buffer";else if(y._isUint8Array(g))g=y._uint8ArrayToBuffer(g),R="buffer";else throw new $("chunk",["string","Buffer","Uint8Array"],g);let X;return L.ending?X=new q:L.destroyed&&(X=new I("write")),X?(e.nextTick(D,X),ee(b,X,!0),X):(L.pendingcb++,k(b,L,g,R,D))}O.prototype.write=function(b,g,R){return P(this,b,g,R)===!0},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){const b=this._writableState;b.corked&&(b.corked--,b.writing||J(this,b))},O.prototype.setDefaultEncoding=function(g){if(typeof g=="string"&&(g=d(g)),!p.isEncoding(g))throw new z(g);return this._writableState.defaultEncoding=g,this};function k(b,g,R,D,L){const X=g.objectMode?1:R.length;g.length+=X;const Z=g.length<g.highWaterMark;return Z||(g.needDrain=!0),g.writing||g.corked||g.errored||!g.constructed?(g.buffered.push({chunk:R,encoding:D,callback:L}),g.allBuffers&&D!=="buffer"&&(g.allBuffers=!1),g.allNoop&&L!==K&&(g.allNoop=!1)):(g.writelen=X,g.writecb=L,g.writing=!0,g.sync=!0,b._write(R,D,g.onwrite),g.sync=!1),Z&&!g.errored&&!g.destroyed}function j(b,g,R,D,L,X,Z){g.writelen=D,g.writecb=Z,g.writing=!0,g.sync=!0,g.destroyed?g.onwrite(new I("write")):R?b._writev(L,g.onwrite):b._write(L,X,g.onwrite),g.sync=!1}function U(b,g,R,D){--g.pendingcb,D(R),M(g),ee(b,R)}function B(b,g){const R=b._writableState,D=R.sync,L=R.writecb;if(typeof L!="function"){ee(b,new E);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,g?(g.stack,R.errored||(R.errored=g),b._readableState&&!b._readableState.errored&&(b._readableState.errored=g),D?e.nextTick(U,b,R,g,L):U(b,R,g,L)):(R.buffered.length>R.bufferedIndex&&J(b,R),D?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===L?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:L,stream:b,state:R},e.nextTick(F,R.afterWriteTickInfo)):Q(b,R,1,L))}function F({stream:b,state:g,count:R,cb:D}){return g.afterWriteTickInfo=null,Q(b,g,R,D)}function Q(b,g,R,D){for(!g.ending&&!b.destroyed&&g.length===0&&g.needDrain&&(g.needDrain=!1,b.emit("drain"));R-- >0;)g.pendingcb--,D();g.destroyed&&M(g),Ue(b,g)}function M(b){if(b.writing)return;for(let L=b.bufferedIndex;L<b.buffered.length;++L){var g;const{chunk:X,callback:Z}=b.buffered[L],Y=b.objectMode?1:X.length;b.length-=Y,Z((g=b.errored)!==null&&g!==void 0?g:new I("write"))}const R=b[x].splice(0);for(let L=0;L<R.length;L++){var D;R[L]((D=b.errored)!==null&&D!==void 0?D:new I("end"))}T(b)}function J(b,g){if(g.corked||g.bufferProcessing||g.destroyed||!g.constructed)return;const{buffered:R,bufferedIndex:D,objectMode:L}=g,X=R.length-D;if(!X)return;let Z=D;if(g.bufferProcessing=!0,X>1&&b._writev){g.pendingcb-=X-1;const Y=g.allNoop?K:W=>{for(let _e=Z;_e<R.length;++_e)R[_e].callback(W)},be=g.allNoop&&Z===0?R:t(R,Z);be.allBuffers=g.allBuffers,j(b,g,!0,g.length,be,"",Y),T(g)}else{do{const{chunk:Y,encoding:be,callback:W}=R[Z];R[Z++]=null;const _e=L?1:Y.length;j(b,g,!1,_e,Y,be,W)}while(Z<R.length&&!g.writing);Z===R.length?T(g):Z>256?(R.splice(0,Z),g.bufferedIndex=0):g.bufferedIndex=Z}g.bufferProcessing=!1}O.prototype._write=function(b,g,R){if(this._writev)this._writev([{chunk:b,encoding:g}],R);else throw new C("_write()")},O.prototype._writev=null,O.prototype.end=function(b,g,R){const D=this._writableState;typeof b=="function"?(R=b,b=null,g=null):typeof g=="function"&&(R=g,g=null);let L;if(b!=null){const X=P(this,b,g);X instanceof r&&(L=X)}return D.corked&&(D.corked=1,this.uncork()),L||(!D.errored&&!D.ending?(D.ending=!0,Ue(this,D,!0),D.ended=!0):D.finished?L=new V("end"):D.destroyed&&(L=new I("end"))),typeof R=="function"&&(L||D.finished?e.nextTick(R,L):D[x].push(R)),this};function se(b){return b.ending&&!b.destroyed&&b.constructed&&b.length===0&&!b.errored&&b.buffered.length===0&&!b.finished&&!b.writing&&!b.errorEmitted&&!b.closeEmitted}function Le(b,g){let R=!1;function D(L){if(R){ee(b,L??E());return}if(R=!0,g.pendingcb--,L){const X=g[x].splice(0);for(let Z=0;Z<X.length;Z++)X[Z](L);ee(b,L,g.sync)}else se(g)&&(g.prefinished=!0,b.emit("prefinish"),g.pendingcb++,e.nextTick(Ke,b,g))}g.sync=!0,g.pendingcb++;try{b._final(D)}catch(L){D(L)}g.sync=!1}function We(b,g){!g.prefinished&&!g.finalCalled&&(typeof b._final=="function"&&!g.destroyed?(g.finalCalled=!0,Le(b,g)):(g.prefinished=!0,b.emit("prefinish")))}function Ue(b,g,R){se(g)&&(We(b,g),g.pendingcb===0&&(R?(g.pendingcb++,e.nextTick((D,L)=>{se(L)?Ke(D,L):L.pendingcb--},b,g)):se(g)&&(g.pendingcb++,Ke(b,g))))}function Ke(b,g){g.pendingcb--,g.finished=!0;const R=g[x].splice(0);for(let D=0;D<R.length;D++)R[D]();if(b.emit("finish"),g.autoDestroy){const D=b._readableState;(!D||D.autoDestroy&&(D.endEmitted||D.readable===!1))&&b.destroy()}}o(O.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(b){this._writableState&&(this._writableState.destroyed=b)}},writable:{__proto__:null,get(){const b=this._writableState;return!!b&&b.writable!==!1&&!b.destroyed&&!b.errored&&!b.ending&&!b.ended},set(b){this._writableState&&(this._writableState.writable=!!b)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const b=this._writableState;return b?!b.destroyed&&!b.ending&&b.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const kt=h.destroy;O.prototype.destroy=function(b,g){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[x].length)&&e.nextTick(M,R),kt.call(this,b,g),this},O.prototype._undestroy=h.undestroy,O.prototype._destroy=function(b,g){g(b)},O.prototype[c.captureRejectionSymbol]=function(b){this.destroy(b)};let ze;function xe(){return ze===void 0&&(ze={}),ze}return O.fromWeb=function(b,g){return xe().newStreamWritableFromWritableStream(b,g)},O.toWeb=function(b){return xe().newWritableStreamFromStreamWritable(b)},Ki}var zi,ja;function ob(){if(ja)return zi;ja=1;const e=je,t=Ce,{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:a,isWritableNodeStream:d,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:c}=Ct,y=Mt,{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:S}}=Me,{destroyer:w}=Mr,m=vt(),$=oi(),C=$s(),{createDeferredPromise:E}=Oe,H=Cc,I=globalThis.Blob||t.Blob,V=typeof I<"u"?function(_){return _ instanceof I}:function(_){return!1},te=globalThis.AbortController||dt().AbortController,{FunctionPrototypeCall:q}=fe;class z extends m{constructor(_){super(_),(_==null?void 0:_.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(_==null?void 0:_.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}zi=function x(_,T){if(f(_))return _;if(a(_))return K({readable:_});if(d(_))return K({writable:_});if(o(_))return K({writable:!1,readable:!1});if(u(_))return K({readable:$.fromWeb(_)});if(c(_))return K({writable:C.fromWeb(_)});if(typeof _=="function"){const{value:P,write:k,final:j,destroy:U}=ee(_);if(i(P))return H(z,P,{objectMode:!0,write:k,final:j,destroy:U});const B=P==null?void 0:P.then;if(typeof B=="function"){let F;const Q=q(B,P,M=>{if(M!=null)throw new S("nully","body",M)},M=>{w(F,M)});return F=new z({objectMode:!0,readable:!1,write:k,final(M){j(async()=>{try{await Q,e.nextTick(M,null)}catch(J){e.nextTick(M,J)}})},destroy:U})}throw new S("Iterable, AsyncIterable or AsyncFunction",T,P)}if(V(_))return x(_.arrayBuffer());if(i(_))return H(z,_,{objectMode:!0,writable:!1});if(u(_==null?void 0:_.readable)&&c(_==null?void 0:_.writable))return z.fromWeb(_);if(typeof(_==null?void 0:_.writable)=="object"||typeof(_==null?void 0:_.readable)=="object"){const P=_!=null&&_.readable?a(_==null?void 0:_.readable)?_==null?void 0:_.readable:x(_.readable):void 0,k=_!=null&&_.writable?d(_==null?void 0:_.writable)?_==null?void 0:_.writable:x(_.writable):void 0;return K({readable:P,writable:k})}const O=_==null?void 0:_.then;if(typeof O=="function"){let P;return q(O,_,k=>{k!=null&&P.push(k),P.push(null)},k=>{w(P,k)}),P=new z({objectMode:!0,writable:!1,read(){}})}throw new h(T,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],_)};function ee(x){let{promise:_,resolve:T}=E();const O=new te,P=O.signal;return{value:x(async function*(){for(;;){const j=_;_=null;const{chunk:U,done:B,cb:F}=await j;if(e.nextTick(F),B)return;if(P.aborted)throw new p(void 0,{cause:P.reason});({promise:_,resolve:T}=E()),yield U}}(),{signal:P}),write(j,U,B){const F=T;T=null,F({chunk:j,done:!1,cb:B})},final(j){const U=T;T=null,U({done:!0,cb:j})},destroy(j,U){O.abort(),U(j)}}}function K(x){const _=x.readable&&typeof x.readable.read!="function"?$.wrap(x.readable):x.readable,T=x.writable;let O=!!r(_),P=!!n(T),k,j,U,B,F;function Q(M){const J=B;B=null,J?J(M):M&&F.destroy(M)}return F=new z({readableObjectMode:!!(_!=null&&_.readableObjectMode),writableObjectMode:!!(T!=null&&T.writableObjectMode),readable:O,writable:P}),P&&(y(T,M=>{P=!1,M&&w(_,M),Q(M)}),F._write=function(M,J,se){T.write(M,J)?se():k=se},F._final=function(M){T.end(),j=M},T.on("drain",function(){if(k){const M=k;k=null,M()}}),T.on("finish",function(){if(j){const M=j;j=null,M()}})),O&&(y(_,M=>{O=!1,M&&w(_,M),Q(M)}),_.on("readable",function(){if(U){const M=U;U=null,M()}}),_.on("end",function(){F.push(null)}),F._read=function(){for(;;){const M=_.read();if(M===null){U=F._read;return}if(!F.push(M))return}}),F._destroy=function(M,J){!M&&B!==null&&(M=new p),U=null,k=null,j=null,B===null?J(M):(B=J,w(T,M),w(_,M))},F}return zi}var Yi,ka;function vt(){if(ka)return Yi;ka=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=fe;Yi=a;const i=oi(),o=$s();n(a.prototype,i.prototype),n(a,i);{const c=r(o.prototype);for(let y=0;y<c.length;y++){const p=c[y];a.prototype[p]||(a.prototype[p]=o.prototype[p])}}function a(c){if(!(this instanceof a))return new a(c);i.call(this,c),o.call(this,c),c?(this.allowHalfOpen=c.allowHalfOpen!==!1,c.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),c.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(c){this._readableState&&this._writableState&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}});let d;function f(){return d===void 0&&(d={}),d}a.fromWeb=function(c,y){return f().newStreamDuplexFromReadableWritablePair(c,y)},a.toWeb=function(c){return f().newReadableWritablePairFromDuplex(c)};let u;return a.from=function(c){return u||(u=ob()),u(c,"body")},Yi}const{ObjectSetPrototypeOf:Oc,Symbol:sb}=fe;var Pc=$t;const{ERR_METHOD_NOT_IMPLEMENTED:ab}=Me.codes,Is=vt(),{getHighWaterMark:lb}=ii;Oc($t.prototype,Is.prototype);Oc($t,Is);const an=sb("kCallback");function $t(e){if(!(this instanceof $t))return new $t(e);const t=e?lb(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),Is.call(this,e),this._readableState.sync=!1,this[an]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",ub)}function Qo(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function ub(){this._final!==Qo&&Qo.call(this)}$t.prototype._final=Qo;$t.prototype._transform=function(e,t,r){throw new ab("_transform()")};$t.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(a,d)=>{if(a){r(a);return}d!=null&&this.push(d),i.ended||o===n.length||n.length<n.highWaterMark?r():this[an]=r})};$t.prototype._read=function(){if(this[an]){const e=this[an];this[an]=null,e()}};const{ObjectSetPrototypeOf:Dc}=fe;var Lc=Tr;const Ts=Pc;Dc(Tr.prototype,Ts.prototype);Dc(Tr,Ts);function Tr(e){if(!(this instanceof Tr))return new Tr(e);Ts.call(this,e)}Tr.prototype._transform=function(e,t,r){r(null,e)};const on=je,{ArrayIsArray:cb,Promise:fb,SymbolAsyncIterator:db,SymbolDispose:hb}=fe,Vn=Mt,{once:pb}=Oe,bb=Mr,Fa=vt(),{aggregateTwoErrors:gb,codes:{ERR_INVALID_ARG_TYPE:es,ERR_INVALID_RETURN_VALUE:Xi,ERR_MISSING_ARGS:yb,ERR_STREAM_DESTROYED:wb,ERR_STREAM_PREMATURE_CLOSE:_b},AbortError:Sb}=Me,{validateFunction:mb,validateAbortSignal:Eb}=pn,{isIterable:Kt,isReadable:Zi,isReadableNodeStream:Fn,isNodeStream:Wa,isTransformStream:Sr,isWebStream:Rb,isReadableStream:Qi,isReadableFinished:Ab}=Ct,vb=globalThis.AbortController||dt().AbortController;let eo,to,ro;function Ua(e,t,r){let n=!1;e.on("close",()=>{n=!0});const i=Vn(e,{readable:t,writable:r},o=>{n=!o});return{destroy:o=>{n||(n=!0,bb.destroyer(e,o||new wb("pipe")))},cleanup:i}}function $b(e){return mb(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function no(e){if(Kt(e))return e;if(Fn(e))return Ib(e);throw new es("val",["Readable","Iterable","AsyncIterable"],e)}async function*Ib(e){to||(to=oi()),yield*to.prototype[db].call(e)}async function vn(e,t,r,{end:n}){let i,o=null;const a=u=>{if(u&&(i=u),o){const c=o;o=null,c()}},d=()=>new fb((u,c)=>{i?c(i):o=()=>{i?c(i):u()}});t.on("drain",a);const f=Vn(t,{readable:!1},a);try{t.writableNeedDrain&&await d();for await(const u of e)t.write(u)||await d();n&&(t.end(),await d()),r()}catch(u){r(i!==u?gb(i,u):u)}finally{f(),t.off("drain",a)}}async function io(e,t,r,{end:n}){Sr(t)&&(t=t.writable);const i=t.getWriter();try{for await(const o of e)await i.ready,i.write(o).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(o){try{await i.abort(o),r(o)}catch(a){r(a)}}}function Tb(...e){return Mc(e,pb($b(e)))}function Mc(e,t,r){if(e.length===1&&cb(e[0])&&(e=e[0]),e.length<2)throw new yb("streams");const n=new vb,i=n.signal,o=r==null?void 0:r.signal,a=[];Eb(o,"options.signal");function d(){S(new Sb)}ro=ro||Oe.addAbortListener;let f;o&&(f=ro(o,d));let u,c;const y=[];let p=0;function h(C){S(C,--p===0)}function S(C,E){var H;if(C&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=C),!(!u&&!E)){for(;y.length;)y.shift()(u);(H=f)===null||H===void 0||H[hb](),n.abort(),E&&(u||a.forEach(I=>I()),on.nextTick(t,u,c))}}let w;for(let C=0;C<e.length;C++){const E=e[C],H=C<e.length-1,I=C>0,V=H||(r==null?void 0:r.end)!==!1,te=C===e.length-1;if(Wa(E)){let q=function(z){z&&z.name!=="AbortError"&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"&&h(z)};if(V){const{destroy:z,cleanup:ee}=Ua(E,H,I);y.push(z),Zi(E)&&te&&a.push(ee)}E.on("error",q),Zi(E)&&te&&a.push(()=>{E.removeListener("error",q)})}if(C===0)if(typeof E=="function"){if(w=E({signal:i}),!Kt(w))throw new Xi("Iterable, AsyncIterable or Stream","source",w)}else Kt(E)||Fn(E)||Sr(E)?w=E:w=Fa.from(E);else if(typeof E=="function"){if(Sr(w)){var m;w=no((m=w)===null||m===void 0?void 0:m.readable)}else w=no(w);if(w=E(w,{signal:i}),H){if(!Kt(w,!0))throw new Xi("AsyncIterable",`transform[${C-1}]`,w)}else{var $;eo||(eo=Lc);const q=new eo({objectMode:!0}),z=($=w)===null||$===void 0?void 0:$.then;if(typeof z=="function")p++,z.call(w,x=>{c=x,x!=null&&q.write(x),V&&q.end(),on.nextTick(h)},x=>{q.destroy(x),on.nextTick(h,x)});else if(Kt(w,!0))p++,vn(w,q,h,{end:V});else if(Qi(w)||Sr(w)){const x=w.readable||w;p++,vn(x,q,h,{end:V})}else throw new Xi("AsyncIterable or Promise","destination",w);w=q;const{destroy:ee,cleanup:K}=Ua(w,!1,!0);y.push(ee),te&&a.push(K)}}else if(Wa(E)){if(Fn(w)){p+=2;const q=Nb(w,E,h,{end:V});Zi(E)&&te&&a.push(q)}else if(Sr(w)||Qi(w)){const q=w.readable||w;p++,vn(q,E,h,{end:V})}else if(Kt(w))p++,vn(w,E,h,{end:V});else throw new es("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],w);w=E}else if(Rb(E)){if(Fn(w))p++,io(no(w),E,h,{end:V});else if(Qi(w)||Kt(w))p++,io(w,E,h,{end:V});else if(Sr(w))p++,io(w.readable,E,h,{end:V});else throw new es("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],w);w=E}else w=Fa.from(E)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&on.nextTick(d),w}function Nb(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new _b)}),e.pipe(t,{end:!1}),n){let o=function(){i=!0,t.end()};Ab(e)?on.nextTick(o):e.once("end",o)}else r();return Vn(e,{readable:!0,writable:!1},o=>{const a=e._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(o)}),Vn(t,{readable:!1,writable:!0},r)}var Ns={pipelineImpl:Mc,pipeline:Tb};const{pipeline:Cb}=Ns,$n=vt(),{destroyer:Ob}=Mr,{isNodeStream:In,isReadable:xa,isWritable:Ba,isWebStream:oo,isTransformStream:Ht,isWritableStream:Va,isReadableStream:Ha}=Ct,{AbortError:Pb,codes:{ERR_INVALID_ARG_VALUE:Ga,ERR_MISSING_ARGS:Db}}=Me,Lb=Mt;var jc=function(...t){if(t.length===0)throw new Db("streams");if(t.length===1)return $n.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=$n.from(t[0])),typeof t[t.length-1]=="function"){const h=t.length-1;t[h]=$n.from(t[h])}for(let h=0;h<t.length;++h)if(!(!In(t[h])&&!oo(t[h]))){if(h<t.length-1&&!(xa(t[h])||Ha(t[h])||Ht(t[h])))throw new Ga(`streams[${h}]`,r[h],"must be readable");if(h>0&&!(Ba(t[h])||Va(t[h])||Ht(t[h])))throw new Ga(`streams[${h}]`,r[h],"must be writable")}let n,i,o,a,d;function f(h){const S=a;a=null,S?S(h):h?d.destroy(h):!p&&!y&&d.destroy()}const u=t[0],c=Cb(t,f),y=!!(Ba(u)||Va(u)||Ht(u)),p=!!(xa(c)||Ha(c)||Ht(c));if(d=new $n({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(c!=null&&c.readableObjectMode),writable:y,readable:p}),y){if(In(u))d._write=function(S,w,m){u.write(S,w)?m():n=m},d._final=function(S){u.end(),i=S},u.on("drain",function(){if(n){const S=n;n=null,S()}});else if(oo(u)){const w=(Ht(u)?u.writable:u).getWriter();d._write=async function(m,$,C){try{await w.ready,w.write(m).catch(()=>{}),C()}catch(E){C(E)}},d._final=async function(m){try{await w.ready,w.close().catch(()=>{}),i=m}catch($){m($)}}}const h=Ht(c)?c.readable:c;Lb(h,()=>{if(i){const S=i;i=null,S()}})}if(p){if(In(c))c.on("readable",function(){if(o){const h=o;o=null,h()}}),c.on("end",function(){d.push(null)}),d._read=function(){for(;;){const h=c.read();if(h===null){o=d._read;return}if(!d.push(h))return}};else if(oo(c)){const S=(Ht(c)?c.readable:c).getReader();d._read=async function(){for(;;)try{const{value:w,done:m}=await S.read();if(!d.push(w))return;if(m){d.push(null);return}}catch{return}}}}return d._destroy=function(h,S){!h&&a!==null&&(h=new Pb),o=null,n=null,i=null,a===null?S(h):(a=S,In(c)&&Ob(c,h))},d};const Mb=globalThis.AbortController||dt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:jb,ERR_INVALID_ARG_TYPE:gn,ERR_MISSING_ARGS:kb,ERR_OUT_OF_RANGE:Fb},AbortError:ht}=Me,{validateAbortSignal:cr,validateInteger:qa,validateObject:fr}=pn,Wb=fe.Symbol("kWeak"),Ub=fe.Symbol("kResistStopPropagation"),{finished:xb}=Mt,Bb=jc,{addAbortSignalNoValidate:Vb}=ni,{isWritable:Hb,isNodeStream:Gb}=Ct,{deprecate:qb}=Oe,{ArrayPrototypePush:Jb,Boolean:Kb,MathFloor:Ja,Number:zb,NumberIsNaN:Yb,Promise:Ka,PromiseReject:za,PromiseResolve:Xb,PromisePrototypeThen:Ya,Symbol:kc}=fe,Hn=kc("kEmpty"),Xa=kc("kEof");function Zb(e,t){if(t!=null&&fr(t,"options"),(t==null?void 0:t.signal)!=null&&cr(t.signal,"options.signal"),Gb(e)&&!Hb(e))throw new jb("stream",e,"must be writable");const r=Bb(this,e);return t!=null&&t.signal&&Vb(t.signal,r),r}function si(e,t){if(typeof e!="function")throw new gn("fn",["Function","AsyncFunction"],e);t!=null&&fr(t,"options"),(t==null?void 0:t.signal)!=null&&cr(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=Ja(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=Ja(t.highWaterMark)),qa(r,"options.concurrency",1),qa(n,"options.highWaterMark",0),n+=r,(async function*(){const o=Oe.AbortSignalAny([t==null?void 0:t.signal].filter(Kb)),a=this,d=[],f={signal:o};let u,c,y=!1,p=0;function h(){y=!0,S()}function S(){p-=1,w()}function w(){c&&!y&&p<r&&d.length<n&&(c(),c=null)}async function m(){try{for await(let $ of a){if(y)return;if(o.aborted)throw new ht;try{if($=e($,f),$===Hn)continue;$=Xb($)}catch(C){$=za(C)}p+=1,Ya($,S,h),d.push($),u&&(u(),u=null),!y&&(d.length>=n||p>=r)&&await new Ka(C=>{c=C})}d.push(Xa)}catch($){const C=za($);Ya(C,S,h),d.push(C)}finally{y=!0,u&&(u(),u=null)}}m();try{for(;;){for(;d.length>0;){const $=await d[0];if($===Xa)return;if(o.aborted)throw new ht;$!==Hn&&(yield $),d.shift(),w()}await new Ka($=>{u=$})}}finally{y=!0,c&&(c(),c=null)}}).call(this)}function Qb(e=void 0){return e!=null&&fr(e,"options"),(e==null?void 0:e.signal)!=null&&cr(e.signal,"options.signal"),(async function*(){let r=0;for await(const i of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ht({cause:e.signal.reason});yield[r++,i]}}).call(this)}async function Fc(e,t=void 0){for await(const r of Cs.call(this,e,t))return!0;return!1}async function eg(e,t=void 0){if(typeof e!="function")throw new gn("fn",["Function","AsyncFunction"],e);return!await Fc.call(this,async(...r)=>!await e(...r),t)}async function tg(e,t){for await(const r of Cs.call(this,e,t))return r}async function rg(e,t){if(typeof e!="function")throw new gn("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i),Hn}for await(const n of si.call(this,r,t));}function Cs(e,t){if(typeof e!="function")throw new gn("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i)?n:Hn}return si.call(this,r,t)}let ng=class extends kb{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ig(e,t,r){var n;if(typeof e!="function")throw new gn("reducer",["Function","AsyncFunction"],e);r!=null&&fr(r,"options"),(r==null?void 0:r.signal)!=null&&cr(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new ht(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await xb(this.destroy(u)),u}const o=new Mb,a=o.signal;if(r!=null&&r.signal){const u={once:!0,[Wb]:this,[Ub]:!0};r.signal.addEventListener("abort",()=>o.abort(),u)}let d=!1;try{for await(const u of this){var f;if(d=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new ht;i?t=await e(t,u,{signal:a}):(t=u,i=!0)}if(!d&&!i)throw new ng}finally{o.abort()}return t}async function og(e){e!=null&&fr(e,"options"),(e==null?void 0:e.signal)!=null&&cr(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new ht(void 0,{cause:e.signal.reason});Jb(t,n)}return t}function sg(e,t){const r=si.call(this,e,t);return(async function*(){for await(const i of r)yield*i}).call(this)}function Wc(e){if(e=zb(e),Yb(e))return 0;if(e<0)throw new Fb("number",">= 0",e);return e}function ag(e,t=void 0){return t!=null&&fr(t,"options"),(t==null?void 0:t.signal)!=null&&cr(t.signal,"options.signal"),e=Wc(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ht;for await(const o of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new ht;e--<=0&&(yield o)}}).call(this)}function lg(e,t=void 0){return t!=null&&fr(t,"options"),(t==null?void 0:t.signal)!=null&&cr(t.signal,"options.signal"),e=Wc(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ht;for await(const o of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new ht;if(e-- >0&&(yield o),e<=0)return}}).call(this)}ws.streamReturningOperators={asIndexedPairs:qb(Qb,"readable.asIndexedPairs will be removed in a future version."),drop:ag,filter:Cs,flatMap:sg,map:si,take:lg,compose:Zb};ws.promiseReturningOperators={every:eg,forEach:rg,reduce:ig,toArray:og,some:Fc,find:tg};var so,Za;function Uc(){if(Za)return so;Za=1;const{ArrayPrototypePop:e,Promise:t}=fe,{isIterable:r,isNodeStream:n,isWebStream:i}=Ct,{pipelineImpl:o}=Ns,{finished:a}=Mt;xc();function d(...f){return new t((u,c)=>{let y,p;const h=f[f.length-1];if(h&&typeof h=="object"&&!n(h)&&!r(h)&&!i(h)){const S=e(f);y=S.signal,p=S.end}o(f,(S,w)=>{S?c(S):u(w)},{signal:y,end:p})})}return so={finished:a,pipeline:d},so}var Qa;function xc(){if(Qa)return Bi.exports;Qa=1;const{Buffer:e}=Ce,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=fe,{promisify:{custom:i}}=Oe,{streamReturningOperators:o,promiseReturningOperators:a}=ws,{codes:{ERR_ILLEGAL_CONSTRUCTOR:d}}=Me,f=jc,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:c}=ii,{pipeline:y}=Ns,{destroyer:p}=Mr,h=Mt,S=Uc(),w=Ct,m=Bi.exports=Rs.Stream;m.isDestroyed=w.isDestroyed,m.isDisturbed=w.isDisturbed,m.isErrored=w.isErrored,m.isReadable=w.isReadable,m.isWritable=w.isWritable,m.Readable=oi();for(const C of r(o)){let H=function(...I){if(new.target)throw d();return m.Readable.from(n(E,this,I))};const E=o[C];t(H,"name",{__proto__:null,value:E.name}),t(H,"length",{__proto__:null,value:E.length}),t(m.Readable.prototype,C,{__proto__:null,value:H,enumerable:!1,configurable:!0,writable:!0})}for(const C of r(a)){let H=function(...I){if(new.target)throw d();return n(E,this,I)};const E=a[C];t(H,"name",{__proto__:null,value:E.name}),t(H,"length",{__proto__:null,value:E.length}),t(m.Readable.prototype,C,{__proto__:null,value:H,enumerable:!1,configurable:!0,writable:!0})}m.Writable=$s(),m.Duplex=vt(),m.Transform=Pc,m.PassThrough=Lc,m.pipeline=y;const{addAbortSignal:$}=ni;return m.addAbortSignal=$,m.finished=h,m.destroy=p,m.compose=f,m.setDefaultHighWaterMark=u,m.getDefaultHighWaterMark=c,t(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return S}}),t(y,i,{__proto__:null,enumerable:!0,get(){return S.pipeline}}),t(h,i,{__proto__:null,enumerable:!0,get(){return S.finished}}),m.Stream=m,m._isUint8Array=function(E){return E instanceof Uint8Array},m._uint8ArrayToBuffer=function(E){return e.from(E.buffer,E.byteOffset,E.byteLength)},Bi.exports}(function(e){const t=xc(),r=Uc(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(Ju);var ai=Ju.exports,Bc=fn;fn.default=fn;fn.stable=Gc;fn.stableStringify=Gc;var Gn="[...]",Vc="[Circular]",or=[],er=[];function Hc(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function fn(e,t,r,n){typeof n>"u"&&(n=Hc()),ts(e,"",0,[],void 0,0,n);var i;try{er.length===0?i=JSON.stringify(e,t,r):i=JSON.stringify(e,qc(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;or.length!==0;){var o=or.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Ar(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:e}),or.push([n,r,t,i])):er.push([t,r,e]):(n[r]=e,or.push([n,r,t]))}function ts(e,t,r,n,i,o,a){o+=1;var d;if(typeof e=="object"&&e!==null){for(d=0;d<n.length;d++)if(n[d]===e){Ar(Vc,e,t,i);return}if(typeof a.depthLimit<"u"&&o>a.depthLimit){Ar(Gn,e,t,i);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){Ar(Gn,e,t,i);return}if(n.push(e),Array.isArray(e))for(d=0;d<e.length;d++)ts(e[d],d,d,n,e,o,a);else{var f=Object.keys(e);for(d=0;d<f.length;d++){var u=f[d];ts(e[u],u,d,n,e,o,a)}}n.pop()}}function ug(e,t){return e<t?-1:e>t?1:0}function Gc(e,t,r,n){typeof n>"u"&&(n=Hc());var i=rs(e,"",0,[],void 0,0,n)||e,o;try{er.length===0?o=JSON.stringify(i,t,r):o=JSON.stringify(i,qc(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;or.length!==0;){var a=or.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return o}function rs(e,t,r,n,i,o,a){o+=1;var d;if(typeof e=="object"&&e!==null){for(d=0;d<n.length;d++)if(n[d]===e){Ar(Vc,e,t,i);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof a.depthLimit<"u"&&o>a.depthLimit){Ar(Gn,e,t,i);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){Ar(Gn,e,t,i);return}if(n.push(e),Array.isArray(e))for(d=0;d<e.length;d++)rs(e[d],d,d,n,e,o,a);else{var f={},u=Object.keys(e).sort(ug);for(d=0;d<u.length;d++){var c=u[d];rs(e[c],c,d,n,e,o,a),f[c]=e[c]}if(typeof i<"u")or.push([i,t,e]),i[t]=f;else return f}n.pop()}}function qc(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(er.length>0)for(var n=0;n<er.length;n++){var i=er[n];if(i[1]===t&&i[0]===r){r=i[2],er.splice(n,1);break}}return e.call(this,t,r)}}const cg=Dr(Bc);var Rt={},sr={},Os={},Se={};class Jc extends TypeError{constructor(t,r){let n;const{message:i,explanation:o,...a}=t,{path:d}=t,f=d.length===0?i:`At path: ${d.join(".")} -- ${i}`;super(o??f),o!=null&&(this.cause=f),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function fg(e){return Ge(e)&&typeof e[Symbol.iterator]=="function"}function Ge(e){return typeof e=="object"&&e!=null}function el(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function ye(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function dg(e){const{done:t,value:r}=e.next();return t?void 0:r}function hg(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:a}=r,{refinement:d,message:f=`Expected a value of type \`${a}\`${d?` with refinement \`${d}\``:""}, but received: \`${ye(n)}\``}=e;return{value:n,type:a,refinement:d,key:i[i.length-1],path:i,branch:o,...e,message:f}}function*ns(e,t,r,n){fg(e)||(e=[e]);for(const i of e){const o=hg(i,t,r,n);o&&(yield o)}}function*Ps(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:a=!1}=r,d={path:n,branch:i};if(o&&(e=t.coercer(e,d),a&&t.type!=="type"&&Ge(t.schema)&&Ge(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let f="valid";for(const u of t.validator(e,d))u.explanation=r.message,f="not_valid",yield[u,void 0];for(let[u,c,y]of t.entries(e,d)){const p=Ps(c,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,c],coerce:o,mask:a,message:r.message});for(const h of p)h[0]?(f=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):o&&(c=h[1],u===void 0?e=c:e instanceof Map?e.set(u,c):e instanceof Set?e.add(c):Ge(e)&&(c!==void 0||u in e)&&(e[u]=c))}if(f!=="not_valid")for(const u of t.refiner(e,d))u.explanation=r.message,f="not_refined",yield[u,void 0];f==="valid"&&(yield[void 0,e])}class pe{constructor(t){const{type:r,schema:n,validator:i,refiner:o,coercer:a=f=>f,entries:d=function*(){}}=t;this.type=r,this.schema=n,this.entries=d,this.coercer=a,i?this.validator=(f,u)=>{const c=i(f,u);return ns(c,u,this,f)}:this.validator=()=>[],o?this.refiner=(f,u)=>{const c=o(f,u);return ns(c,u,this,f)}:this.refiner=()=>[]}assert(t,r){return Kc(t,this,r)}create(t,r){return zc(t,this,r)}is(t){return Ds(t,this)}mask(t,r){return Yc(t,this,r)}validate(t,r={}){return jr(t,this,r)}}function Kc(e,t,r){const n=jr(e,t,{message:r});if(n[0])throw n[0]}function zc(e,t,r){const n=jr(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Yc(e,t,r){const n=jr(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Ds(e,t){return!jr(e,t)[0]}function jr(e,t,r={}){const n=Ps(e,t,r),i=dg(n);return i[0]?[new Jc(i[0],function*(){for(const a of n)a[0]&&(yield a[0])}),void 0]:[void 0,i[1]]}function pg(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?Ms(n):yn(n)}function ke(e,t){return new pe({type:e,schema:null,validator:t})}function bg(e,t){return new pe({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function gg(e){return new pe({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function yg(e){let t;return new pe({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function wg(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return Ms(n);default:return yn(n)}}function _g(e){const t=e instanceof pe?{...e.schema}:{...e};for(const r in t)t[r]=Xc(t[r]);return yn(t)}function Sg(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];return yn(n)}function mg(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),ke(e,t)}function Eg(){return ke("any",()=>!0)}function Rg(e){return new pe({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${ye(t)}`}})}function Ag(){return ke("bigint",e=>typeof e=="bigint")}function vg(){return ke("boolean",e=>typeof e=="boolean")}function $g(){return ke("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${ye(e)}`)}function Ig(e){const t={},r=e.map(n=>ye(n)).join();for(const n of e)t[n]=n;return new pe({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${ye(n)}`}})}function Tg(){return ke("func",e=>typeof e=="function"||`Expected a function, but received: ${ye(e)}`)}function Ng(e){return ke("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${ye(t)}`)}function Cg(){return ke("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${ye(e)}`)}function Og(e){return new pe({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function Pg(e){const t=ye(e),r=typeof e;return new pe({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${ye(n)}`}})}function Dg(e,t){return new pe({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${ye(r)}`}})}function Ls(){return ke("never",()=>!1)}function Lg(e){return new pe({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Mg(){return ke("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${ye(e)}`)}function yn(e){const t=e?Object.keys(e):[],r=Ls();return new pe({type:"object",schema:e||null,*entries(n){if(e&&Ge(n)){const i=new Set(Object.keys(n));for(const o of t)i.delete(o),yield[o,n[o],e[o]];for(const o of i)yield[o,n[o],r]}},validator(n){return Ge(n)||`Expected an object, but received: ${ye(n)}`},coercer(n){return Ge(n)?{...n}:n}})}function Xc(e){return new pe({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function jg(e,t){return new pe({type:"record",schema:null,*entries(r){if(Ge(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return Ge(r)||`Expected an object, but received: ${ye(r)}`}})}function kg(){return ke("regexp",e=>e instanceof RegExp)}function Fg(e){return new pe({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${ye(t)}`}})}function Zc(){return ke("string",e=>typeof e=="string"||`Expected a string, but received: ${ye(e)}`)}function Wg(e){const t=Ls();return new pe({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${ye(r)}`}})}function Ms(e){const t=Object.keys(e);return new pe({type:"type",schema:e,*entries(r){if(Ge(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return Ge(r)||`Expected an object, but received: ${ye(r)}`},coercer(r){return Ge(r)?{...r}:r}})}function Ug(e){const t=e.map(r=>r.type).join(" | ");return new pe({type:"union",schema:null,coercer(r){for(const n of e){const[i,o]=n.validate(r,{coerce:!0});if(!i)return o}return r},validator(r,n){const i=[];for(const o of e){const[...a]=Ps(r,o,n),[d]=a;if(d[0])for(const[f]of a)f&&i.push(f);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${ye(r)}`,...i]}})}function Qc(){return ke("unknown",()=>!0)}function js(e,t,r){return new pe({...e,coercer:(n,i)=>Ds(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function xg(e,t,r={}){return js(e,Qc(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&el(n)&&el(i)){const o={...n};let a=!1;for(const d in i)o[d]===void 0&&(o[d]=i[d],a=!0);if(a)return o}return n})}function Bg(e){return js(e,Zc(),t=>t.trim())}function Vg(e){return dr(e,"empty",t=>{const r=ef(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function ef(e){return e instanceof Map||e instanceof Set?e.size:e.length}function Hg(e,t,r={}){const{exclusive:n}=r;return dr(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function Gg(e,t,r={}){const{exclusive:n}=r;return dr(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function qg(e){return dr(e,"nonempty",t=>ef(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function Jg(e,t){return dr(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function Kg(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return dr(e,"size",o=>{if(typeof o=="number"||o instanceof Date)return t<=o&&o<=r||`${n} ${i} but received \`${o}\``;if(o instanceof Map||o instanceof Set){const{size:a}=o;return t<=a&&a<=r||`${n} with a size ${i} but received one with a size of \`${a}\``}else{const{length:a}=o;return t<=a&&a<=r||`${n} with a length ${i} but received one with a length of \`${a}\``}})}function dr(e,t,r){return new pe({...e,*refiner(n,i){yield*e.refiner(n,i);const o=r(n,i),a=ns(o,i,e,n);for(const d of a)yield{...d,refinement:t}}})}const zg=Object.freeze(Object.defineProperty({__proto__:null,Struct:pe,StructError:Jc,any:Eg,array:Rg,assert:Kc,assign:pg,bigint:Ag,boolean:vg,coerce:js,create:zc,date:$g,defaulted:xg,define:ke,deprecated:bg,dynamic:gg,empty:Vg,enums:Ig,func:Tg,instance:Ng,integer:Cg,intersection:Og,is:Ds,lazy:yg,literal:Pg,map:Dg,mask:Yc,max:Hg,min:Gg,never:Ls,nonempty:qg,nullable:Lg,number:Mg,object:yn,omit:wg,optional:Xc,partial:_g,pattern:Jg,pick:Sg,record:jg,refine:dr,regexp:kg,set:Fg,size:Kg,string:Zc,struct:mg,trimmed:Bg,tuple:Wg,type:Ms,union:Ug,unknown:Qc,validate:jr},Symbol.toStringTag,{value:"Module"})),hr=Pd(zg);Object.defineProperty(Se,"__esModule",{value:!0});Se.assertExhaustive=Se.assertStruct=Se.assert=Se.AssertionError=void 0;const Yg=hr;function Xg(e){return typeof e=="object"&&e!==null&&"message"in e}function Zg(e){var t,r;return typeof((r=(t=e==null?void 0:e.prototype)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)=="string"}function Qg(e){const t=Xg(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function tf(e,t){return Zg(e)?new e({message:t}):e({message:t})}class ks extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}Se.AssertionError=ks;function ey(e,t="Assertion failed.",r=ks){if(!e)throw t instanceof Error?t:tf(r,t)}Se.assert=ey;function ty(e,t,r="Assertion failed",n=ks){try{(0,Yg.assert)(e,t)}catch(i){throw tf(n,`${r}: ${Qg(i)}.`)}}Se.assertStruct=ty;function ry(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}Se.assertExhaustive=ry;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.base64=void 0;const ny=hr,iy=Se,oy=(e,t={})=>{var r,n;const i=(r=t.paddingRequired)!==null&&r!==void 0?r:!1,o=(n=t.characterSet)!==null&&n!==void 0?n:"base64";let a;o==="base64"?a=String.raw`[A-Za-z0-9+\/]`:((0,iy.assert)(o==="base64url"),a=String.raw`[-_A-Za-z0-9]`);let d;return i?d=new RegExp(`^(?:${a}{4})*(?:${a}{3}=|${a}{2}==)?$`,"u"):d=new RegExp(`^(?:${a}{4})*(?:${a}{2,3}|${a}{3}=|${a}{2}==)?$`,"u"),(0,ny.pattern)(e,d)};wn.base64=oy;var ne={},_n={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=hr,r=Se;e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,t.is)(u,e.HexStruct)}e.isHexString=n;function i(u){return(0,t.is)(u,e.StrictHexStruct)}e.isStrictHexString=i;function o(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}e.assertIsHexString=o;function a(u){(0,r.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=a;function d(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}e.add0x=d;function f(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}e.remove0x=f})(_n);Object.defineProperty(ne,"__esModule",{value:!0});ne.createDataView=ne.concatBytes=ne.valueToBytes=ne.stringToBytes=ne.numberToBytes=ne.signedBigIntToBytes=ne.bigIntToBytes=ne.hexToBytes=ne.bytesToString=ne.bytesToNumber=ne.bytesToSignedBigInt=ne.bytesToBigInt=ne.bytesToHex=ne.assertIsBytes=ne.isBytes=void 0;const Ve=Se,is=_n,tl=48,rl=58,nl=87;function sy(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const ay=sy();function Fs(e){return e instanceof Uint8Array}ne.isBytes=Fs;function kr(e){(0,Ve.assert)(Fs(e),"Value must be a Uint8Array.")}ne.assertIsBytes=kr;function rf(e){if(kr(e),e.length===0)return"0x";const t=ay(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,is.add0x)(r.join(""))}ne.bytesToHex=rf;function nf(e){kr(e);const t=rf(e);return BigInt(t)}ne.bytesToBigInt=nf;function ly(e){kr(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}ne.bytesToSignedBigInt=ly;function uy(e){kr(e);const t=nf(e);return(0,Ve.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}ne.bytesToNumber=uy;function cy(e){return kr(e),new TextDecoder().decode(e)}ne.bytesToString=cy;function li(e){var t;if(((t=e==null?void 0:e.toLowerCase)===null||t===void 0?void 0:t.call(e))==="0x")return new Uint8Array;(0,is.assertIsHexString)(e);const r=(0,is.remove0x)(e).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let o=0;o<i.length;o++){const a=n.charCodeAt(o*2),d=n.charCodeAt(o*2+1),f=a-(a<rl?tl:nl),u=d-(d<rl?tl:nl);i[o]=f*16+u}return i}ne.hexToBytes=li;function of(e){(0,Ve.assert)(typeof e=="bigint","Value must be a bigint."),(0,Ve.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return li(t)}ne.bigIntToBytes=of;function fy(e,t){(0,Ve.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function dy(e,t){(0,Ve.assert)(typeof e=="bigint","Value must be a bigint."),(0,Ve.assert)(typeof t=="number","Byte length must be a number."),(0,Ve.assert)(t>0,"Byte length must be greater than 0."),(0,Ve.assert)(fy(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}ne.signedBigIntToBytes=dy;function sf(e){(0,Ve.assert)(typeof e=="number","Value must be a number."),(0,Ve.assert)(e>=0,"Value must be a non-negative number."),(0,Ve.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return li(t)}ne.numberToBytes=sf;function af(e){return(0,Ve.assert)(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}ne.stringToBytes=af;function lf(e){if(typeof e=="bigint")return of(e);if(typeof e=="number")return sf(e);if(typeof e=="string")return e.startsWith("0x")?li(e):af(e);if(Fs(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}ne.valueToBytes=lf;function hy(e){const t=new Array(e.length);let r=0;for(let i=0;i<e.length;i++){const o=lf(e[i]);t[i]=o,r+=o.length}const n=new Uint8Array(r);for(let i=0,o=0;i<t.length;i++)n.set(t[i],o),o+=t[i].length;return n}ne.concatBytes=hy;function py(e){if(typeof Fo<"u"&&e instanceof Fo){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}ne.createDataView=py;var ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.ChecksumStruct=void 0;const il=hr,by=wn;ui.ChecksumStruct=(0,il.size)((0,by.base64)((0,il.string)(),{paddingRequired:!0}),44,44);var st={};Object.defineProperty(st,"__esModule",{value:!0});st.createHex=st.createBytes=st.createBigInt=st.createNumber=void 0;const ue=hr,gy=Se,uf=ne,ci=_n,cf=(0,ue.union)([(0,ue.number)(),(0,ue.bigint)(),(0,ue.string)(),ci.StrictHexStruct]),yy=(0,ue.coerce)((0,ue.number)(),cf,Number),wy=(0,ue.coerce)((0,ue.bigint)(),cf,BigInt);(0,ue.union)([ci.StrictHexStruct,(0,ue.instance)(Uint8Array)]);const _y=(0,ue.coerce)((0,ue.instance)(Uint8Array),(0,ue.union)([ci.StrictHexStruct]),uf.hexToBytes),Sy=(0,ue.coerce)(ci.StrictHexStruct,(0,ue.instance)(Uint8Array),uf.bytesToHex);function my(e){try{const t=(0,ue.create)(e,yy);return(0,gy.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof ue.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}st.createNumber=my;function Ey(e){try{return(0,ue.create)(e,wy)}catch(t){throw t instanceof ue.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}st.createBigInt=Ey;function Ry(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return(0,ue.create)(e,_y)}catch(t){throw t instanceof ue.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}st.createBytes=Ry;function Ay(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return(0,ue.create)(e,Sy)}catch(t){throw t instanceof ue.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}st.createHex=Ay;var Nr={},ff=Be&&Be.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Ne=Be&&Be.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Xe,tt;Object.defineProperty(Nr,"__esModule",{value:!0});Nr.FrozenSet=Nr.FrozenMap=void 0;class Ws{constructor(t){Xe.set(this,void 0),ff(this,Xe,new Map(t),"f"),Object.freeze(this)}get size(){return Ne(this,Xe,"f").size}[(Xe=new WeakMap,Symbol.iterator)](){return Ne(this,Xe,"f")[Symbol.iterator]()}entries(){return Ne(this,Xe,"f").entries()}forEach(t,r){return Ne(this,Xe,"f").forEach((n,i,o)=>t.call(r,n,i,this))}get(t){return Ne(this,Xe,"f").get(t)}has(t){return Ne(this,Xe,"f").has(t)}keys(){return Ne(this,Xe,"f").keys()}values(){return Ne(this,Xe,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,r])=>`${String(t)} => ${String(r)}`).join(", ")} `:""}}`}}Nr.FrozenMap=Ws;class Us{constructor(t){tt.set(this,void 0),ff(this,tt,new Set(t),"f"),Object.freeze(this)}get size(){return Ne(this,tt,"f").size}[(tt=new WeakMap,Symbol.iterator)](){return Ne(this,tt,"f")[Symbol.iterator]()}entries(){return Ne(this,tt,"f").entries()}forEach(t,r){return Ne(this,tt,"f").forEach((n,i,o)=>t.call(r,n,i,this))}has(t){return Ne(this,tt,"f").has(t)}keys(){return Ne(this,tt,"f").keys()}values(){return Ne(this,tt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}}Nr.FrozenSet=Us;Object.freeze(Ws);Object.freeze(Ws.prototype);Object.freeze(Us);Object.freeze(Us.prototype);var df={};Object.defineProperty(df,"__esModule",{value:!0});var hf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=void 0;const t=hr,r=Se,n=()=>(0,t.define)("finite number",I=>(0,t.is)(I,(0,t.number)())&&Number.isFinite(I));e.UnsafeJsonStruct=(0,t.union)([(0,t.literal)(null),(0,t.boolean)(),n(),(0,t.string)(),(0,t.array)((0,t.lazy)(()=>e.UnsafeJsonStruct)),(0,t.record)((0,t.string)(),(0,t.lazy)(()=>e.UnsafeJsonStruct))]),e.JsonStruct=(0,t.define)("Json",(I,V)=>{function te(q,z){const K=[...z.validator(q,V)];return K.length>0?K:!0}try{const q=te(I,e.UnsafeJsonStruct);return q!==!0?q:te(JSON.parse(JSON.stringify(I)),e.UnsafeJsonStruct)}catch(q){return q instanceof RangeError?"Circular reference detected":!1}});function i(I){return(0,t.is)(I,e.JsonStruct)}e.isValidJson=i;function o(I){(0,r.assertStruct)(I,e.JsonStruct,"Invalid JSON value");const V=JSON.stringify(I);return new TextEncoder().encode(V).byteLength}e.getJsonSize=o,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function a(I){return(0,t.is)(I,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=a;function d(I,V){(0,r.assertStruct)(I,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",V)}e.assertIsJsonRpcNotification=d;function f(I){return(0,t.is)(I,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=f;function u(I,V){(0,r.assertStruct)(I,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",V)}e.assertIsJsonRpcRequest=u,e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function c(I){return(0,t.is)(I,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=c;function y(I,V){(0,r.assertStruct)(I,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",V)}e.assertIsPendingJsonRpcResponse=y;function p(I){return(0,t.is)(I,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=p;function h(I,V){(0,r.assertStruct)(I,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",V)}e.assertIsJsonRpcResponse=h;function S(I){return(0,t.is)(I,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=S;function w(I,V){(0,r.assertStruct)(I,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",V)}e.assertIsJsonRpcSuccess=w;function m(I){return(0,t.is)(I,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=m;function $(I,V){(0,r.assertStruct)(I,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",V)}e.assertIsJsonRpcFailure=$;function C(I){return(0,t.is)(I,e.JsonRpcErrorStruct)}e.isJsonRpcError=C;function E(I,V){(0,r.assertStruct)(I,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",V)}e.assertIsJsonRpcError=E;function H(I){const{permitEmptyString:V,permitFractions:te,permitNull:q}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},I);return ee=>!!(typeof ee=="number"&&(te||Number.isInteger(ee))||typeof ee=="string"&&(V||ee.length>0)||q&&ee===null)}e.getJsonRpcIdValidator=H})(hf);var pf={};Object.defineProperty(pf,"__esModule",{value:!0});var Cr={},os={exports:{}},ao,ol;function vy(){if(ol)return ao;ol=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,o=n*365.25;ao=function(c,y){y=y||{};var p=typeof c;if(p==="string"&&c.length>0)return a(c);if(p==="number"&&isFinite(c))return y.long?f(c):d(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function a(c){if(c=String(c),!(c.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(y){var p=parseFloat(y[1]),h=(y[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return p*o;case"weeks":case"week":case"w":return p*i;case"days":case"day":case"d":return p*n;case"hours":case"hour":case"hrs":case"hr":case"h":return p*r;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function d(c){var y=Math.abs(c);return y>=n?Math.round(c/n)+"d":y>=r?Math.round(c/r)+"h":y>=t?Math.round(c/t)+"m":y>=e?Math.round(c/e)+"s":c+"ms"}function f(c){var y=Math.abs(c);return y>=n?u(c,y,n,"day"):y>=r?u(c,y,r,"hour"):y>=t?u(c,y,t,"minute"):y>=e?u(c,y,e,"second"):c+" ms"}function u(c,y,p,h){var S=y>=p*1.5;return Math.round(c/p)+" "+h+(S?"s":"")}return ao}function $y(e){r.debug=r,r.default=r,r.coerce=f,r.disable=o,r.enable=i,r.enabled=a,r.humanize=vy(),r.destroy=u,Object.keys(e).forEach(c=>{r[c]=e[c]}),r.names=[],r.skips=[],r.formatters={};function t(c){let y=0;for(let p=0;p<c.length;p++)y=(y<<5)-y+c.charCodeAt(p),y|=0;return r.colors[Math.abs(y)%r.colors.length]}r.selectColor=t;function r(c){let y,p=null,h,S;function w(...m){if(!w.enabled)return;const $=w,C=Number(new Date),E=C-(y||C);$.diff=E,$.prev=y,$.curr=C,y=C,m[0]=r.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let H=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(V,te)=>{if(V==="%%")return"%";H++;const q=r.formatters[te];if(typeof q=="function"){const z=m[H];V=q.call($,z),m.splice(H,1),H--}return V}),r.formatArgs.call($,m),($.log||r.log).apply($,m)}return w.namespace=c,w.useColors=r.useColors(),w.color=r.selectColor(c),w.extend=n,w.destroy=r.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(h!==r.namespaces&&(h=r.namespaces,S=r.enabled(c)),S),set:m=>{p=m}}),typeof r.init=="function"&&r.init(w),w}function n(c,y){const p=r(this.namespace+(typeof y>"u"?":":y)+c);return p.log=this.log,p}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let y;const p=(typeof c=="string"?c:"").split(/[\s,]+/),h=p.length;for(y=0;y<h;y++)p[y]&&(c=p[y].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function o(){const c=[...r.names.map(d),...r.skips.map(d).map(y=>"-"+y)].join(",");return r.enable(""),c}function a(c){if(c[c.length-1]==="*")return!0;let y,p;for(y=0,p=r.skips.length;y<p;y++)if(r.skips[y].test(c))return!1;for(y=0,p=r.names.length;y<p;y++)if(r.names[y].test(c))return!0;return!1}function d(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function f(c){return c instanceof Error?c.stack||c.message:c}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Iy=$y;(function(e,t){var r={};t.formatArgs=i,t.save=o,t.load=a,t.useColors=n,t.storage=d(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;u.splice(1,0,c,"color: inherit");let y=0,p=0;u[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(y++,h==="%c"&&(p=y))}),u.splice(p,0,c)}t.log=console.debug||console.log||(()=>{});function o(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function a(){let u;try{u=t.storage.getItem("debug")}catch{}return!u&&typeof cn<"u"&&"env"in cn&&(u=r.DEBUG),u}function d(){try{return localStorage}catch{}}e.exports=Iy(t);const{formatters:f}=e.exports;f.j=function(u){try{return JSON.stringify(u)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(os,os.exports);var Ty=os.exports,Ny=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.createModuleLogger=Cr.createProjectLogger=void 0;const Cy=Ny(Ty),Oy=(0,Cy.default)("metamask");function Py(e){return Oy.extend(e)}Cr.createProjectLogger=Py;function Dy(e,t){return e.extend(t)}Cr.createModuleLogger=Dy;var bf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function t(u){return Array.isArray(u)&&u.length>0}e.isNonEmptyArray=t;function r(u){return u==null}e.isNullOrUndefined=r;function n(u){return!!u&&typeof u=="object"&&!Array.isArray(u)}e.isObject=n;const i=(u,c)=>Object.hasOwnProperty.call(u,c);e.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function o(u){if(typeof u!="object"||u===null)return!1;try{let c=u;for(;Object.getPrototypeOf(c)!==null;)c=Object.getPrototypeOf(c);return Object.getPrototypeOf(u)===c}catch{return!1}}e.isPlainObject=o;function a(u){return u.charCodeAt(0)<=127}e.isASCII=a;function d(u){var c;return u.split("").reduce((p,h)=>a(h)?p+1:p+2,0)+((c=u.match(e.ESCAPE_CHARACTERS_REGEXP))!==null&&c!==void 0?c:[]).length}e.calculateStringSize=d;function f(u){return u.toString().length}e.calculateNumberSize=f})(bf);var at={};Object.defineProperty(at,"__esModule",{value:!0});at.hexToBigInt=at.hexToNumber=at.bigIntToHex=at.numberToHex=void 0;const vr=Se,dn=_n,Ly=e=>((0,vr.assert)(typeof e=="number","Value must be a number."),(0,vr.assert)(e>=0,"Value must be a non-negative number."),(0,vr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,dn.add0x)(e.toString(16)));at.numberToHex=Ly;const My=e=>((0,vr.assert)(typeof e=="bigint","Value must be a bigint."),(0,vr.assert)(e>=0,"Value must be a non-negative bigint."),(0,dn.add0x)(e.toString(16)));at.bigIntToHex=My;const jy=e=>{(0,dn.assertIsHexString)(e);const t=parseInt(e,16);return(0,vr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};at.hexToNumber=jy;const ky=e=>((0,dn.assertIsHexString)(e),BigInt((0,dn.add0x)(e)));at.hexToBigInt=ky;var gf={};Object.defineProperty(gf,"__esModule",{value:!0});var yf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,function(o){o[o.Millisecond=1]="Millisecond",o[o.Second=1e3]="Second",o[o.Minute=6e4]="Minute",o[o.Hour=36e5]="Hour",o[o.Day=864e5]="Day",o[o.Week=6048e5]="Week",o[o.Year=31536e6]="Year"}(e.Duration||(e.Duration={}));const t=o=>Number.isInteger(o)&&o>=0,r=(o,a)=>{if(!t(o))throw new Error(`"${a}" must be a non-negative integer. Received: "${o}".`)};function n(o,a){return r(o,"count"),o*a}e.inMilliseconds=n;function i(o){return r(o,"timestamp"),Date.now()-o}e.timeSince=i})(yf);var wf={};Object.defineProperty(wf,"__esModule",{value:!0});var _f={},ss={exports:{}};const Fy="2.0.0",Sf=256,Wy=Number.MAX_SAFE_INTEGER||9007199254740991,Uy=16,xy=Sf-6,By=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var fi={MAX_LENGTH:Sf,MAX_SAFE_COMPONENT_LENGTH:Uy,MAX_SAFE_BUILD_LENGTH:xy,MAX_SAFE_INTEGER:Wy,RELEASE_TYPES:By,SEMVER_SPEC_VERSION:Fy,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},lo={};const Vy=typeof cn=="object"&&lo&&lo.NODE_DEBUG&&/\bsemver\b/i.test(lo.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var di=Vy;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=fi,o=di;t=e.exports={};const a=t.re=[],d=t.safeRe=[],f=t.src=[],u=t.t={};let c=0;const y="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",i],[y,n]],h=w=>{for(const[m,$]of p)w=w.split(`${m}*`).join(`${m}{0,${$}}`).split(`${m}+`).join(`${m}{1,${$}}`);return w},S=(w,m,$)=>{const C=h(m),E=c++;o(w,E,m),u[w]=E,f[E]=m,a[E]=new RegExp(m,$?"g":void 0),d[E]=new RegExp(C,$?"g":void 0)};S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),S("MAINVERSION",`(${f[u.NUMERICIDENTIFIER]})\\.(${f[u.NUMERICIDENTIFIER]})\\.(${f[u.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${f[u.NUMERICIDENTIFIERLOOSE]})\\.(${f[u.NUMERICIDENTIFIERLOOSE]})\\.(${f[u.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${f[u.NUMERICIDENTIFIER]}|${f[u.NONNUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${f[u.NUMERICIDENTIFIERLOOSE]}|${f[u.NONNUMERICIDENTIFIER]})`),S("PRERELEASE",`(?:-(${f[u.PRERELEASEIDENTIFIER]}(?:\\.${f[u.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${f[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[u.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${y}+`),S("BUILD",`(?:\\+(${f[u.BUILDIDENTIFIER]}(?:\\.${f[u.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${f[u.MAINVERSION]}${f[u.PRERELEASE]}?${f[u.BUILD]}?`),S("FULL",`^${f[u.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${f[u.MAINVERSIONLOOSE]}${f[u.PRERELEASELOOSE]}?${f[u.BUILD]}?`),S("LOOSE",`^${f[u.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${f[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${f[u.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${f[u.XRANGEIDENTIFIER]})(?:\\.(${f[u.XRANGEIDENTIFIER]})(?:\\.(${f[u.XRANGEIDENTIFIER]})(?:${f[u.PRERELEASE]})?${f[u.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${f[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[u.XRANGEIDENTIFIERLOOSE]})(?:${f[u.PRERELEASELOOSE]})?${f[u.BUILD]}?)?)?`),S("XRANGE",`^${f[u.GTLT]}\\s*${f[u.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${f[u.GTLT]}\\s*${f[u.XRANGEPLAINLOOSE]}$`),S("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),S("COERCE",`${f[u.COERCEPLAIN]}(?:$|[^\\d])`),S("COERCEFULL",f[u.COERCEPLAIN]+`(?:${f[u.PRERELEASE]})?(?:${f[u.BUILD]})?(?:$|[^\\d])`),S("COERCERTL",f[u.COERCE],!0),S("COERCERTLFULL",f[u.COERCEFULL],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${f[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",S("TILDE",`^${f[u.LONETILDE]}${f[u.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${f[u.LONETILDE]}${f[u.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${f[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",S("CARET",`^${f[u.LONECARET]}${f[u.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${f[u.LONECARET]}${f[u.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${f[u.GTLT]}\\s*(${f[u.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${f[u.GTLT]}\\s*(${f[u.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${f[u.GTLT]}\\s*(${f[u.LOOSEPLAIN]}|${f[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${f[u.XRANGEPLAIN]})\\s+-\\s+(${f[u.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${f[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[u.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ss,ss.exports);var Sn=ss.exports;const Hy=Object.freeze({loose:!0}),Gy=Object.freeze({}),qy=e=>e?typeof e!="object"?Hy:e:Gy;var xs=qy;const sl=/^[0-9]+$/,mf=(e,t)=>{const r=sl.test(e),n=sl.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Jy=(e,t)=>mf(t,e);var Ef={compareIdentifiers:mf,rcompareIdentifiers:Jy};const Tn=di,{MAX_LENGTH:al,MAX_SAFE_INTEGER:Nn}=fi,{safeRe:ll,t:ul}=Sn,Ky=xs,{compareIdentifiers:yr}=Ef;let zy=class nt{constructor(t,r){if(r=Ky(r),t instanceof nt){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>al)throw new TypeError(`version is longer than ${al} characters`);Tn("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?ll[ul.LOOSE]:ll[ul.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Nn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Nn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Nn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<Nn)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Tn("SemVer.compare",this.version,this.options,t),!(t instanceof nt)){if(typeof t=="string"&&t===this.version)return 0;t=new nt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof nt||(t=new nt(t,this.options)),yr(this.major,t.major)||yr(this.minor,t.minor)||yr(this.patch,t.patch)}comparePre(t){if(t instanceof nt||(t=new nt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(Tn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return yr(n,i)}while(++r)}compareBuild(t){t instanceof nt||(t=new nt(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(Tn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return yr(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),yr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Pe=zy;const cl=Pe,Yy=(e,t,r=!1)=>{if(e instanceof cl)return e;try{return new cl(e,t)}catch(n){if(!r)return null;throw n}};var Fr=Yy;const Xy=Fr,Zy=(e,t)=>{const r=Xy(e,t);return r?r.version:null};var Qy=Zy;const ew=Fr,tw=(e,t)=>{const r=ew(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var rw=tw;const fl=Pe,nw=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new fl(e instanceof fl?e.version:e,r).inc(t,n,i).version}catch{return null}};var iw=nw;const dl=Fr,ow=(e,t)=>{const r=dl(e,null,!0),n=dl(t,null,!0),i=r.compare(n);if(i===0)return null;const o=i>0,a=o?r:n,d=o?n:r,f=!!a.prerelease.length;if(!!d.prerelease.length&&!f)return!d.patch&&!d.minor?"major":a.patch?"patch":a.minor?"minor":"major";const c=f?"pre":"";return r.major!==n.major?c+"major":r.minor!==n.minor?c+"minor":r.patch!==n.patch?c+"patch":"prerelease"};var sw=ow;const aw=Pe,lw=(e,t)=>new aw(e,t).major;var uw=lw;const cw=Pe,fw=(e,t)=>new cw(e,t).minor;var dw=fw;const hw=Pe,pw=(e,t)=>new hw(e,t).patch;var bw=pw;const gw=Fr,yw=(e,t)=>{const r=gw(e,t);return r&&r.prerelease.length?r.prerelease:null};var ww=yw;const hl=Pe,_w=(e,t,r)=>new hl(e,r).compare(new hl(t,r));var Qe=_w;const Sw=Qe,mw=(e,t,r)=>Sw(t,e,r);var Ew=mw;const Rw=Qe,Aw=(e,t)=>Rw(e,t,!0);var vw=Aw;const pl=Pe,$w=(e,t,r)=>{const n=new pl(e,r),i=new pl(t,r);return n.compare(i)||n.compareBuild(i)};var Bs=$w;const Iw=Bs,Tw=(e,t)=>e.sort((r,n)=>Iw(r,n,t));var Nw=Tw;const Cw=Bs,Ow=(e,t)=>e.sort((r,n)=>Cw(n,r,t));var Pw=Ow;const Dw=Qe,Lw=(e,t,r)=>Dw(e,t,r)>0;var hi=Lw;const Mw=Qe,jw=(e,t,r)=>Mw(e,t,r)<0;var Vs=jw;const kw=Qe,Fw=(e,t,r)=>kw(e,t,r)===0;var Rf=Fw;const Ww=Qe,Uw=(e,t,r)=>Ww(e,t,r)!==0;var Af=Uw;const xw=Qe,Bw=(e,t,r)=>xw(e,t,r)>=0;var Hs=Bw;const Vw=Qe,Hw=(e,t,r)=>Vw(e,t,r)<=0;var Gs=Hw;const Gw=Rf,qw=Af,Jw=hi,Kw=Hs,zw=Vs,Yw=Gs,Xw=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Gw(e,r,n);case"!=":return qw(e,r,n);case">":return Jw(e,r,n);case">=":return Kw(e,r,n);case"<":return zw(e,r,n);case"<=":return Yw(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var vf=Xw;const Zw=Pe,Qw=Fr,{safeRe:Cn,t:On}=Sn,e_=(e,t)=>{if(e instanceof Zw)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Cn[On.COERCEFULL]:Cn[On.COERCE]);else{const f=t.includePrerelease?Cn[On.COERCERTLFULL]:Cn[On.COERCERTL];let u;for(;(u=f.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),f.lastIndex=u.index+u[1].length+u[2].length;f.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",o=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",d=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Qw(`${n}.${i}.${o}${a}${d}`,t)};var t_=e_,uo,bl;function r_(){return bl||(bl=1,uo=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),uo}var n_=ie;ie.Node=ar;ie.create=ie;function ie(e){var t=this;if(t instanceof ie||(t=new ie),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}ie.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};ie.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};ie.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};ie.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o_(this,arguments[e]);return this.length};ie.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s_(this,arguments[e]);return this.length};ie.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};ie.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};ie.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};ie.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};ie.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};ie.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};ie.prototype.map=function(e,t){t=t||this;for(var r=new ie,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};ie.prototype.mapReverse=function(e,t){t=t||this;for(var r=new ie,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};ie.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};ie.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};ie.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};ie.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};ie.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new ie;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};ie.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new ie;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};ie.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=i_(this,i,r[n]);return o};ie.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function i_(e,t,r){var n=t===e.head?new ar(r,null,t,e):new ar(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function o_(e,t){e.tail=new ar(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s_(e,t){e.head=new ar(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ar(e,t,r,n){if(!(this instanceof ar))return new ar(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{r_()(ie)}catch{}const a_=n_,Zt=Symbol("max"),Et=Symbol("length"),wr=Symbol("lengthCalculator"),ln=Symbol("allowStale"),tr=Symbol("maxAge"),St=Symbol("dispose"),gl=Symbol("noDisposeOnSet"),we=Symbol("lruList"),Ze=Symbol("cache"),$f=Symbol("updateAgeOnGet"),co=()=>1;class l_{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Zt]=t.max||1/0;const r=t.length||co;if(this[wr]=typeof r!="function"?co:r,this[ln]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[tr]=t.maxAge||0,this[St]=t.dispose,this[gl]=t.noDisposeOnSet||!1,this[$f]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Zt]=t||1/0,Qr(this)}get max(){return this[Zt]}set allowStale(t){this[ln]=!!t}get allowStale(){return this[ln]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[tr]=t,Qr(this)}get maxAge(){return this[tr]}set lengthCalculator(t){typeof t!="function"&&(t=co),t!==this[wr]&&(this[wr]=t,this[Et]=0,this[we].forEach(r=>{r.length=this[wr](r.value,r.key),this[Et]+=r.length})),Qr(this)}get lengthCalculator(){return this[wr]}get length(){return this[Et]}get itemCount(){return this[we].length}rforEach(t,r){r=r||this;for(let n=this[we].tail;n!==null;){const i=n.prev;yl(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[we].head;n!==null;){const i=n.next;yl(this,t,n,r),n=i}}keys(){return this[we].toArray().map(t=>t.key)}values(){return this[we].toArray().map(t=>t.value)}reset(){this[St]&&this[we]&&this[we].length&&this[we].forEach(t=>this[St](t.key,t.value)),this[Ze]=new Map,this[we]=new a_,this[Et]=0}dump(){return this[we].map(t=>qn(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[we]}set(t,r,n){if(n=n||this[tr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,o=this[wr](r,t);if(this[Ze].has(t)){if(o>this[Zt])return $r(this,this[Ze].get(t)),!1;const f=this[Ze].get(t).value;return this[St]&&(this[gl]||this[St](t,f.value)),f.now=i,f.maxAge=n,f.value=r,this[Et]+=o-f.length,f.length=o,this.get(t),Qr(this),!0}const a=new u_(t,r,o,i,n);return a.length>this[Zt]?(this[St]&&this[St](t,r),!1):(this[Et]+=a.length,this[we].unshift(a),this[Ze].set(t,this[we].head),Qr(this),!0)}has(t){if(!this[Ze].has(t))return!1;const r=this[Ze].get(t).value;return!qn(this,r)}get(t){return fo(this,t,!0)}peek(t){return fo(this,t,!1)}pop(){const t=this[we].tail;return t?($r(this,t),t.value):null}del(t){$r(this,this[Ze].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const a=o-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[Ze].forEach((t,r)=>fo(this,r,!1))}}const fo=(e,t,r)=>{const n=e[Ze].get(t);if(n){const i=n.value;if(qn(e,i)){if($r(e,n),!e[ln])return}else r&&(e[$f]&&(n.value.now=Date.now()),e[we].unshiftNode(n));return i.value}},qn=(e,t)=>{if(!t||!t.maxAge&&!e[tr])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[tr]&&r>e[tr]},Qr=e=>{if(e[Et]>e[Zt])for(let t=e[we].tail;e[Et]>e[Zt]&&t!==null;){const r=t.prev;$r(e,t),t=r}},$r=(e,t)=>{if(t){const r=t.value;e[St]&&e[St](r.key,r.value),e[Et]-=r.length,e[Ze].delete(r.key),e[we].removeNode(t)}};class u_{constructor(t,r,n,i,o){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}}const yl=(e,t,r,n)=>{let i=r.value;qn(e,i)&&($r(e,r),e[ln]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var c_=l_,ho,wl;function et(){if(wl)return ho;wl=1;class e{constructor(T,O){if(O=n(O),T instanceof e)return T.loose===!!O.loose&&T.includePrerelease===!!O.includePrerelease?T:new e(T.raw,O);if(T instanceof i)return this.raw=T.value,this.set=[[T]],this.format(),this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=T.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(k=>!S(k[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const k of this.set)if(k.length===1&&w(k[0])){this.set=[k];break}}}this.format()}format(){return this.range=this.set.map(T=>T.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(T){const P=((this.options.includePrerelease&&p)|(this.options.loose&&h))+":"+T,k=r.get(P);if(k)return k;const j=this.options.loose,U=j?d[f.HYPHENRANGELOOSE]:d[f.HYPHENRANGE];T=T.replace(U,K(this.options.includePrerelease)),o("hyphen replace",T),T=T.replace(d[f.COMPARATORTRIM],u),o("comparator trim",T),T=T.replace(d[f.TILDETRIM],c),o("tilde trim",T),T=T.replace(d[f.CARETTRIM],y),o("caret trim",T);let B=T.split(" ").map(J=>$(J,this.options)).join(" ").split(/\s+/).map(J=>ee(J,this.options));j&&(B=B.filter(J=>(o("loose invalid filter",J,this.options),!!J.match(d[f.COMPARATORLOOSE])))),o("range list",B);const F=new Map,Q=B.map(J=>new i(J,this.options));for(const J of Q){if(S(J))return[J];F.set(J.value,J)}F.size>1&&F.has("")&&F.delete("");const M=[...F.values()];return r.set(P,M),M}intersects(T,O){if(!(T instanceof e))throw new TypeError("a Range is required");return this.set.some(P=>m(P,O)&&T.set.some(k=>m(k,O)&&P.every(j=>k.every(U=>j.intersects(U,O)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new a(T,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(x(this.set[O],T,this.options))return!0;return!1}}ho=e;const t=c_,r=new t({max:1e3}),n=xs,i=pi(),o=di,a=Pe,{safeRe:d,t:f,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:y}=Sn,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:h}=fi,S=_=>_.value==="<0.0.0-0",w=_=>_.value==="",m=(_,T)=>{let O=!0;const P=_.slice();let k=P.pop();for(;O&&P.length;)O=P.every(j=>k.intersects(j,T)),k=P.pop();return O},$=(_,T)=>(o("comp",_,T),_=I(_,T),o("caret",_),_=E(_,T),o("tildes",_),_=te(_,T),o("xrange",_),_=z(_,T),o("stars",_),_),C=_=>!_||_.toLowerCase()==="x"||_==="*",E=(_,T)=>_.trim().split(/\s+/).map(O=>H(O,T)).join(" "),H=(_,T)=>{const O=T.loose?d[f.TILDELOOSE]:d[f.TILDE];return _.replace(O,(P,k,j,U,B)=>{o("tilde",_,P,k,j,U,B);let F;return C(k)?F="":C(j)?F=`>=${k}.0.0 <${+k+1}.0.0-0`:C(U)?F=`>=${k}.${j}.0 <${k}.${+j+1}.0-0`:B?(o("replaceTilde pr",B),F=`>=${k}.${j}.${U}-${B} <${k}.${+j+1}.0-0`):F=`>=${k}.${j}.${U} <${k}.${+j+1}.0-0`,o("tilde return",F),F})},I=(_,T)=>_.trim().split(/\s+/).map(O=>V(O,T)).join(" "),V=(_,T)=>{o("caret",_,T);const O=T.loose?d[f.CARETLOOSE]:d[f.CARET],P=T.includePrerelease?"-0":"";return _.replace(O,(k,j,U,B,F)=>{o("caret",_,k,j,U,B,F);let Q;return C(j)?Q="":C(U)?Q=`>=${j}.0.0${P} <${+j+1}.0.0-0`:C(B)?j==="0"?Q=`>=${j}.${U}.0${P} <${j}.${+U+1}.0-0`:Q=`>=${j}.${U}.0${P} <${+j+1}.0.0-0`:F?(o("replaceCaret pr",F),j==="0"?U==="0"?Q=`>=${j}.${U}.${B}-${F} <${j}.${U}.${+B+1}-0`:Q=`>=${j}.${U}.${B}-${F} <${j}.${+U+1}.0-0`:Q=`>=${j}.${U}.${B}-${F} <${+j+1}.0.0-0`):(o("no pr"),j==="0"?U==="0"?Q=`>=${j}.${U}.${B}${P} <${j}.${U}.${+B+1}-0`:Q=`>=${j}.${U}.${B}${P} <${j}.${+U+1}.0-0`:Q=`>=${j}.${U}.${B} <${+j+1}.0.0-0`),o("caret return",Q),Q})},te=(_,T)=>(o("replaceXRanges",_,T),_.split(/\s+/).map(O=>q(O,T)).join(" ")),q=(_,T)=>{_=_.trim();const O=T.loose?d[f.XRANGELOOSE]:d[f.XRANGE];return _.replace(O,(P,k,j,U,B,F)=>{o("xRange",_,P,k,j,U,B,F);const Q=C(j),M=Q||C(U),J=M||C(B),se=J;return k==="="&&se&&(k=""),F=T.includePrerelease?"-0":"",Q?k===">"||k==="<"?P="<0.0.0-0":P="*":k&&se?(M&&(U=0),B=0,k===">"?(k=">=",M?(j=+j+1,U=0,B=0):(U=+U+1,B=0)):k==="<="&&(k="<",M?j=+j+1:U=+U+1),k==="<"&&(F="-0"),P=`${k+j}.${U}.${B}${F}`):M?P=`>=${j}.0.0${F} <${+j+1}.0.0-0`:J&&(P=`>=${j}.${U}.0${F} <${j}.${+U+1}.0-0`),o("xRange return",P),P})},z=(_,T)=>(o("replaceStars",_,T),_.trim().replace(d[f.STAR],"")),ee=(_,T)=>(o("replaceGTE0",_,T),_.trim().replace(d[T.includePrerelease?f.GTE0PRE:f.GTE0],"")),K=_=>(T,O,P,k,j,U,B,F,Q,M,J,se,Le)=>(C(P)?O="":C(k)?O=`>=${P}.0.0${_?"-0":""}`:C(j)?O=`>=${P}.${k}.0${_?"-0":""}`:U?O=`>=${O}`:O=`>=${O}${_?"-0":""}`,C(Q)?F="":C(M)?F=`<${+Q+1}.0.0-0`:C(J)?F=`<${Q}.${+M+1}.0-0`:se?F=`<=${Q}.${M}.${J}-${se}`:_?F=`<${Q}.${M}.${+J+1}-0`:F=`<=${F}`,`${O} ${F}`.trim()),x=(_,T,O)=>{for(let P=0;P<_.length;P++)if(!_[P].test(T))return!1;if(T.prerelease.length&&!O.includePrerelease){for(let P=0;P<_.length;P++)if(o(_[P].semver),_[P].semver!==i.ANY&&_[P].semver.prerelease.length>0){const k=_[P].semver;if(k.major===T.major&&k.minor===T.minor&&k.patch===T.patch)return!0}return!1}return!0};return ho}var po,_l;function pi(){if(_l)return po;_l=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,y){if(y=r(y),c instanceof t){if(c.loose===!!y.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),a("comparator",c,y),this.options=y,this.loose=!!y.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(c){const y=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],p=c.match(y);if(!p)throw new TypeError(`Invalid comparator: ${c}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new d(p[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(a("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new d(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,y){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(c.value,y).test(this.value):c.operator===""?c.value===""?!0:new f(this.value,y).test(c.semver):(y=r(y),y.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,y)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,y)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}po=t;const r=xs,{safeRe:n,t:i}=Sn,o=vf,a=di,d=Pe,f=et();return po}const f_=et(),d_=(e,t,r)=>{try{t=new f_(t,r)}catch{return!1}return t.test(e)};var bi=d_;const h_=et(),p_=(e,t)=>new h_(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var b_=p_;const g_=Pe,y_=et(),w_=(e,t,r)=>{let n=null,i=null,o=null;try{o=new y_(t,r)}catch{return null}return e.forEach(a=>{o.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new g_(n,r))}),n};var __=w_;const S_=Pe,m_=et(),E_=(e,t,r)=>{let n=null,i=null,o=null;try{o=new m_(t,r)}catch{return null}return e.forEach(a=>{o.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new S_(n,r))}),n};var R_=E_;const bo=Pe,A_=et(),Sl=hi,v_=(e,t)=>{e=new A_(e,t);let r=new bo("0.0.0");if(e.test(r)||(r=new bo("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let o=null;i.forEach(a=>{const d=new bo(a.semver.version);switch(a.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!o||Sl(d,o))&&(o=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),o&&(!r||Sl(r,o))&&(r=o)}return r&&e.test(r)?r:null};var $_=v_;const I_=et(),T_=(e,t)=>{try{return new I_(e,t).range||"*"}catch{return null}};var N_=T_;const C_=Pe,If=pi(),{ANY:O_}=If,P_=et(),D_=bi,ml=hi,El=Vs,L_=Gs,M_=Hs,j_=(e,t,r,n)=>{e=new C_(e,n),t=new P_(t,n);let i,o,a,d,f;switch(r){case">":i=ml,o=L_,a=El,d=">",f=">=";break;case"<":i=El,o=M_,a=ml,d="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(D_(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const c=t.set[u];let y=null,p=null;if(c.forEach(h=>{h.semver===O_&&(h=new If(">=0.0.0")),y=y||h,p=p||h,i(h.semver,y.semver,n)?y=h:a(h.semver,p.semver,n)&&(p=h)}),y.operator===d||y.operator===f||(!p.operator||p.operator===d)&&o(e,p.semver))return!1;if(p.operator===f&&a(e,p.semver))return!1}return!0};var qs=j_;const k_=qs,F_=(e,t,r)=>k_(e,t,">",r);var W_=F_;const U_=qs,x_=(e,t,r)=>U_(e,t,"<",r);var B_=x_;const Rl=et(),V_=(e,t,r)=>(e=new Rl(e,r),t=new Rl(t,r),e.intersects(t,r));var H_=V_;const G_=bi,q_=Qe;var J_=(e,t,r)=>{const n=[];let i=null,o=null;const a=e.sort((c,y)=>q_(c,y,r));for(const c of a)G_(c,t,r)?(o=c,i||(i=c)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);const d=[];for(const[c,y]of n)c===y?d.push(c):!y&&c===a[0]?d.push("*"):y?c===a[0]?d.push(`<=${y}`):d.push(`${c} - ${y}`):d.push(`>=${c}`);const f=d.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return f.length<u.length?f:t};const Al=et(),Js=pi(),{ANY:go}=Js,en=bi,Ks=Qe,K_=(e,t,r={})=>{if(e===t)return!0;e=new Al(e,r),t=new Al(t,r);let n=!1;e:for(const i of e.set){for(const o of t.set){const a=Y_(i,o,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},z_=[new Js(">=0.0.0-0")],vl=[new Js(">=0.0.0")],Y_=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===go){if(t.length===1&&t[0].semver===go)return!0;r.includePrerelease?e=z_:e=vl}if(t.length===1&&t[0].semver===go){if(r.includePrerelease)return!0;t=vl}const n=new Set;let i,o;for(const h of e)h.operator===">"||h.operator===">="?i=$l(i,h,r):h.operator==="<"||h.operator==="<="?o=Il(o,h,r):n.add(h.semver);if(n.size>1)return null;let a;if(i&&o){if(a=Ks(i.semver,o.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||o.operator!=="<="))return null}for(const h of n){if(i&&!en(h,String(i),r)||o&&!en(h,String(o),r))return null;for(const S of t)if(!en(h,String(S),r))return!1;return!0}let d,f,u,c,y=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;y&&y.prerelease.length===1&&o.operator==="<"&&y.prerelease[0]===0&&(y=!1);for(const h of t){if(c=c||h.operator===">"||h.operator===">=",u=u||h.operator==="<"||h.operator==="<=",i){if(p&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===p.major&&h.semver.minor===p.minor&&h.semver.patch===p.patch&&(p=!1),h.operator===">"||h.operator===">="){if(d=$l(i,h,r),d===h&&d!==i)return!1}else if(i.operator===">="&&!en(i.semver,String(h),r))return!1}if(o){if(y&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===y.major&&h.semver.minor===y.minor&&h.semver.patch===y.patch&&(y=!1),h.operator==="<"||h.operator==="<="){if(f=Il(o,h,r),f===h&&f!==o)return!1}else if(o.operator==="<="&&!en(o.semver,String(h),r))return!1}if(!h.operator&&(o||i)&&a!==0)return!1}return!(i&&u&&!o&&a!==0||o&&c&&!i&&a!==0||p||y)},$l=(e,t,r)=>{if(!e)return t;const n=Ks(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Il=(e,t,r)=>{if(!e)return t;const n=Ks(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var X_=K_;const yo=Sn,Tl=fi,Z_=Pe,Nl=Ef,Q_=Fr,eS=Qy,tS=rw,rS=iw,nS=sw,iS=uw,oS=dw,sS=bw,aS=ww,lS=Qe,uS=Ew,cS=vw,fS=Bs,dS=Nw,hS=Pw,pS=hi,bS=Vs,gS=Rf,yS=Af,wS=Hs,_S=Gs,SS=vf,mS=t_,ES=pi(),RS=et(),AS=bi,vS=b_,$S=__,IS=R_,TS=$_,NS=N_,CS=qs,OS=W_,PS=B_,DS=H_,LS=J_,MS=X_;var jS={parse:Q_,valid:eS,clean:tS,inc:rS,diff:nS,major:iS,minor:oS,patch:sS,prerelease:aS,compare:lS,rcompare:uS,compareLoose:cS,compareBuild:fS,sort:dS,rsort:hS,gt:pS,lt:bS,eq:gS,neq:yS,gte:wS,lte:_S,cmp:SS,coerce:mS,Comparator:ES,Range:RS,satisfies:AS,toComparators:vS,maxSatisfying:$S,minSatisfying:IS,minVersion:TS,validRange:NS,outside:CS,gtr:OS,ltr:PS,intersects:DS,simplifyRange:LS,subset:MS,SemVer:Z_,re:yo.re,src:yo.src,tokens:yo.t,SEMVER_SPEC_VERSION:Tl.SEMVER_SPEC_VERSION,RELEASE_TYPES:Tl.RELEASE_TYPES,compareIdentifiers:Nl.compareIdentifiers,rcompareIdentifiers:Nl.rcompareIdentifiers};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=jS,r=hr,n=Se;e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",y=>(0,t.valid)(y)===null?`Expected SemVer version, got "${y}"`:!0),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",y=>(0,t.validRange)(y)===null?`Expected SemVer range, got "${y}"`:!0);function i(y){return(0,r.is)(y,e.VersionStruct)}e.isValidSemVerVersion=i;function o(y){return(0,r.is)(y,e.VersionRangeStruct)}e.isValidSemVerRange=o;function a(y){(0,n.assertStruct)(y,e.VersionStruct)}e.assertIsSemVerVersion=a;function d(y){(0,n.assertStruct)(y,e.VersionRangeStruct)}e.assertIsSemVerRange=d;function f(y,p){return(0,t.gt)(y,p)}e.gtVersion=f;function u(y,p){return(0,t.gtr)(y,p)}e.gtRange=u;function c(y,p){return(0,t.satisfies)(y,p,{includePrerelease:!0})}e.satisfiesVersionRange=c})(_f);(function(e){var t=Be&&Be.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o);var d=Object.getOwnPropertyDescriptor(i,o);(!d||("get"in d?!i.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,a,d)}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=Be&&Be.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Se,e),r(wn,e),r(ne,e),r(ui,e),r(st,e),r(Nr,e),r(df,e),r(_n,e),r(hf,e),r(pf,e),r(Cr,e),r(bf,e),r(at,e),r(gf,e),r(yf,e),r(wf,e),r(_f,e)})(Os);var gi={},Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.errorValues=Lt.errorCodes=void 0;Lt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Lt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeCause=e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Os,r=Lt,n=r.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:a(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function a(h,S=i){if(d(h)){const w=h.toString();if((0,t.hasProperty)(r.errorValues,w))return r.errorValues[w].message;if(c(h))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return S}e.getMessageFromCode=a;function d(h){return Number.isInteger(h)}e.isValidCode=d;function f(h,{fallbackError:S=o,shouldIncludeStack:w=!0}={}){if(!(0,t.isJsonRpcError)(S))throw new Error("Must provide fallback error with integer number code and string message.");const m=u(h,S);return w||delete m.stack,m}e.serializeError=f;function u(h,S){if(h&&typeof h=="object"&&"serialize"in h&&typeof h.serialize=="function")return h.serialize();if((0,t.isJsonRpcError)(h))return h;const w=y(h);return{...S,data:{cause:w}}}function c(h){return h>=-32099&&h<=-32e3}function y(h){return Array.isArray(h)?h.map(S=>(0,t.isValidJson)(S)?S:(0,t.isObject)(S)?p(S):null):(0,t.isObject)(h)?p(h):(0,t.isValidJson)(h)?h:null}e.serializeCause=y;function p(h){return Object.getOwnPropertyNames(h).reduce((S,w)=>{const m=h[w];return(0,t.isValidJson)(m)&&(S[w]=m),S},{})}})(gi);var kS=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sr,"__esModule",{value:!0});sr.EthereumProviderError=sr.JsonRpcError=void 0;const FS=Os,WS=kS(Bc),US=gi;class Tf extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a non-empty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data,(0,FS.isPlainObject)(this.data)&&(t.data.cause=(0,US.serializeCause)(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return(0,WS.default)(this.serialize(),VS,2)}}sr.JsonRpcError=Tf;class xS extends Tf{constructor(t,r,n){if(!BS(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}sr.EthereumProviderError=xS;function BS(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function VS(e,t){if(t!=="[Circular]")return t}var Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.providerErrors=Or.rpcErrors=void 0;const zs=sr,Re=Lt,Nf=gi;Or.rpcErrors={parse:e=>He(Re.errorCodes.rpc.parse,e),invalidRequest:e=>He(Re.errorCodes.rpc.invalidRequest,e),invalidParams:e=>He(Re.errorCodes.rpc.invalidParams,e),methodNotFound:e=>He(Re.errorCodes.rpc.methodNotFound,e),internal:e=>He(Re.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return He(t,e)},invalidInput:e=>He(Re.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>He(Re.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>He(Re.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>He(Re.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>He(Re.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>He(Re.errorCodes.rpc.limitExceeded,e)};Or.providerErrors={userRejectedRequest:e=>tn(Re.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>tn(Re.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>tn(Re.errorCodes.provider.unsupportedMethod,e),disconnected:e=>tn(Re.errorCodes.provider.disconnected,e),chainDisconnected:e=>tn(Re.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new zs.EthereumProviderError(t,r,n)}};function He(e,t){const[r,n]=Cf(t);return new zs.JsonRpcError(e,r??(0,Nf.getMessageFromCode)(e),n)}function tn(e,t){const[r,n]=Cf(t);return new zs.EthereumProviderError(e,r??(0,Nf.getMessageFromCode)(e),n)}function Cf(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t??void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.errorCodes=e.providerErrors=e.rpcErrors=e.getMessageFromCode=e.serializeError=e.serializeCause=e.EthereumProviderError=e.JsonRpcError=void 0;var t=sr;Object.defineProperty(e,"JsonRpcError",{enumerable:!0,get:function(){return t.JsonRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});var r=gi;Object.defineProperty(e,"serializeCause",{enumerable:!0,get:function(){return r.serializeCause}}),Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});var n=Or;Object.defineProperty(e,"rpcErrors",{enumerable:!0,get:function(){return n.rpcErrors}}),Object.defineProperty(e,"providerErrors",{enumerable:!0,get:function(){return n.providerErrors}});var i=Lt;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Rt);var Ys={exports:{}},HS=Of;function Of(e,t){if(e&&t)return Of(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=e.apply(this,n),a=n[n.length-1];return typeof o=="function"&&o!==a&&Object.keys(a).forEach(function(d){o[d]=a[d]}),o}}var Pf=HS;Ys.exports=Pf(Wn);Ys.exports.strict=Pf(Df);Wn.proto=Wn(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Wn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Df(this)},configurable:!0})});function Wn(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Df(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}var Xs=Ys.exports;const GS=Dr(Xs);var qS=Xs,JS=function(){},KS=function(e){return e.setHeader&&typeof e.abort=="function"},zS=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},Lf=function(e,t,r){if(typeof t=="function")return Lf(e,null,t);t||(t={}),r=qS(r||JS);var n=e._writableState,i=e._readableState,o=t.readable||t.readable!==!1&&e.readable,a=t.writable||t.writable!==!1&&e.writable,d=!1,f=function(){e.writable||u()},u=function(){a=!1,o||r.call(e)},c=function(){o=!1,a||r.call(e)},y=function(m){r.call(e,m?new Error("exited with error code: "+m):null)},p=function(m){r.call(e,m)},h=function(){cn.nextTick(S)},S=function(){if(!d){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(a&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},w=function(){e.req.on("finish",u)};return KS(e)?(e.on("complete",u),e.on("abort",h),e.req?w():e.on("request",w)):a&&!n&&(e.on("end",f),e.on("close",f)),zS(e)&&e.on("exit",y),e.on("end",c),e.on("finish",u),t.error!==!1&&e.on("error",p),e.on("close",h),function(){d=!0,e.removeListener("complete",u),e.removeListener("abort",h),e.removeListener("request",w),e.req&&e.req.removeListener("finish",u),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",u),e.removeListener("exit",y),e.removeListener("end",c),e.removeListener("error",p),e.removeListener("close",h)}},Mf=Lf;const Cl=Dr(Mf);var YS=Xs,XS=Mf,wo=Dd,hn=function(){},ZS=/^v?\.0/.test(cn.version),yi=function(e){return typeof e=="function"},QS=function(e){return!ZS||!wo?!1:(e instanceof(wo.ReadStream||hn)||e instanceof(wo.WriteStream||hn))&&yi(e.close)},em=function(e){return e.setHeader&&yi(e.abort)},tm=function(e,t,r,n){n=YS(n);var i=!1;e.on("close",function(){i=!0}),XS(e,{readable:t,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,QS(e))return e.close(hn);if(em(e))return e.abort();if(yi(e.destroy))return e.destroy();n(a||new Error("stream was destroyed"))}}},Ol=function(e){e()},rm=function(e,t){return e.pipe(t)},nm=function(){var e=Array.prototype.slice.call(arguments),t=yi(e[e.length-1]||hn)&&e.pop()||hn;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,o){var a=o<e.length-1,d=o>0;return tm(i,a,d,function(f){r||(r=f),f&&n.forEach(Ol),!a&&(n.forEach(Ol),t(r))})});return e.reduce(rm)},im=nm;const Un=Dr(im);function Pn(){}const Pl="SYN",_o="ACK",Dl="BRK";class Ll extends ai.Duplex{constructor(t){let{name:r,target:n,targetWindow:i=window,targetOrigin:o="*"}=t;if(super({objectMode:!0}),G(this,"_init",void 0),G(this,"_haveSyn",void 0),G(this,"_name",void 0),G(this,"_target",void 0),G(this,"_targetWindow",void 0),G(this,"_targetOrigin",void 0),G(this,"_onMessage",void 0),G(this,"_synIntervalId",void 0),!r||!n)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=r,this._target=n,this._targetWindow=i,this._targetOrigin=o,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write(Dl,null,Pn),this._haveSyn=!1,this._init=!1}_handShake(){this._write(Pl,null,Pn),this.cork()}_onData(t){if(!this._init)t===Pl?(this._haveSyn=!0,this._write(_o,null,Pn)):t===_o&&(this._init=!0,this._haveSyn||this._write(_o,null,Pn),this.uncork());else if(t===Dl)this._break();else try{this.push(t)}catch(r){this.emit("error",r)}}_postMessage(t){const r=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:t},r)}onMessage(t){const r=t.data;this._targetOrigin!=="*"&&t.origin!==this._targetOrigin||t.source!==this._targetWindow||typeof r!="object"||r.target!==this._name||!r.data||this._onData(r.data)}_read(){}_write(t,r,n){this._postMessage(t),n()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function Ml(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function om(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}class mn extends bt.EventEmitter{emit(t){let r=t==="error";const n=this._events;if(n!==void 0)r=r&&n.error===void 0;else if(!r)return!1;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(r){let f;if(o.length>0&&([f]=o),f instanceof Error)throw f;const u=new Error(`Unhandled error.${f?` (${f.message})`:""}`);throw u.context=f,u}const d=n[t];if(d===void 0)return!1;if(typeof d=="function")Ml(d,this,o);else{const f=d.length,u=om(d);for(let c=0;c<f;c+=1)Ml(u[c],this,o)}return!0}}class rn extends Error{constructor(t){let{code:r,message:n,data:i}=t;if(!Number.isInteger(r))throw new Error("code must be an integer");if(!n||typeof n!="string")throw new Error("message must be string");super(n),G(this,"code",void 0),G(this,"data",void 0),this.code=r,i!==void 0&&(this.data=i)}toString(){return cg({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function sm(){const e={};function t(){return!1}const r=new mn;function n(f){const u=e[f.id];if(!u)throw new Error(`StreamMiddleware - Unknown response id "${f.id}"`);delete e[f.id],Object.assign(u.res,f),setTimeout(u.end)}function i(f){r.emit("notification",f)}function o(f,u,c){let y;try{!f.id?i(f):n(f)}catch(p){y=p}c(y)}const a=new ai.Duplex({objectMode:!0,read:t,write:o});return{events:r,middleware:(f,u,c,y)=>{a.push(f),e[f.id]={req:f,res:u,next:c,end:y}},stream:a}}function am(){return(e,t,r,n)=>{const i=e.id,o=Math.random().toString(36).slice(2);e.id=o,t.id=o,r(a=>{e.id=i,t.id=i,a()})}}function jl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jl(Object(r),!0).forEach(function(n){G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}class mt extends mn{constructor(){super(),G(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(t,r,n){const i=[];let o=null,a=!1;for(const d of n)if([o,a]=await mt._runMiddleware(t,r,d,i),a)break;return[o,a,i.reverse()]}static _runMiddleware(t,r,n,i){return new Promise(o=>{const a=f=>{const u=f||r.error;u&&(r.error=Rt.serializeError(u)),o([u,!0])},d=f=>{r.error?a(r.error):(f&&(typeof f!="function"&&a(new rn({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(f)),o([null,!1]))};try{n(t,r,d,a)}catch(f){a(f)}})}static async _runReturnHandlers(t){for(const r of t)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(t,r,n){if(!("result"in r)&&!("error"in r))throw new rn({code:-32603,message:"Response has no error or result for request"});if(!n)throw new rn({code:-32603,message:"Nothing ended request"})}push(t){this._middleware.push(t)}handle(t,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?r?this._handleBatch(t,r):this._handleBatch(t):r?this._handle(t,r):this._promiseHandle(t)}asMiddleware(){return async(t,r,n,i)=>{try{const[o,a,d]=await mt._runAllMiddleware(t,r,this._middleware);return a?(await mt._runReturnHandlers(d),i(o)):n(async f=>{try{await mt._runReturnHandlers(d)}catch(u){return f(u)}return f()})}catch(o){return i(o)}}}async _handleBatch(t,r){try{const n=await Promise.all(t.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(t){return new Promise(r=>{this._handle(t,(n,i)=>{r(i)})})}async _handle(t,r){if(!t||Array.isArray(t)||typeof t!="object"){const a=new rn({code:-32603,message:"request must be plain object"});return r(a,{id:void 0,jsonrpc:"2.0",error:a})}if(typeof t.method!="string"){const a=new rn({code:-32603,message:"method must be string"});return r(a,{id:t.id,jsonrpc:"2.0",error:a})}const n=lm({},t),i={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,i)}catch(a){o=a}return o&&(delete i.result,i.error||(i.error=Rt.serializeError(o))),r(o,i)}async _processRequest(t,r){const[n,i,o]=await mt._runAllMiddleware(t,r,this._middleware);if(mt._checkForCompletion(t,r,i),await mt._runReturnHandlers(o),n)throw n}}class um extends ai.Duplex{constructor(t){let{parent:r,name:n}=t;super({objectMode:!0}),G(this,"_parent",void 0),G(this,"_name",void 0),this._parent=r,this._name=n}_read(){}_write(t,r,n){this._parent.push({name:this._name,data:t}),n()}}function kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kl(Object(r),!0).forEach(function(n){G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Wl=Symbol("IGNORE_SUBSTREAM");class jf extends ai.Duplex{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(Fl(Fl({},t),{},{objectMode:!0})),G(this,"_substreams",void 0),G(this,"getStream",void 0),this._substreams={}}createStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);const r=new um({parent:this,name:t});return this._substreams[t]=r,cm(this,n=>r.destroy(n||void 0)),r}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=Wl}_read(){}_write(t,r,n){const{name:i,data:o}=t;if(!i)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();const a=this._substreams[i];return a?(a!==Wl&&a.push(o),n()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),n())}}function cm(e,t){const r=GS(t);Cl(e,{readable:!1},r),Cl(e,{writable:!1},r)}function fm(e){const t=new jf;return t.getStream=function(n){return this._substreams[n]?this._substreams[n]:this.createStream(n)},Un(e,t,e,r=>{r&&window.console.error(r)}),t}var dm=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r};const hm=Dr(dm),ct=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";ct.writable=e=>ct(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";ct.readable=e=>ct(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";ct.duplex=e=>ct.writable(e)&&ct.readable(e);ct.transform=e=>ct.duplex(e)&&typeof e._transform=="function";var pm=ct,kf={exports:{}},So={exports:{}},de={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},Ff={exports:{}};(function(e){const t=Ce,{kResistStopPropagation:r,SymbolDispose:n}=de,i=globalThis.AbortSignal||dt().AbortSignal,o=globalThis.AbortController||dt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||t.Blob,f=typeof d<"u"?function(h){return h instanceof d}:function(h){return!1},u=(p,h)=>{if(p!==void 0&&(p===null||typeof p!="object"||!("aborted"in p)))throw new ERR_INVALID_ARG_TYPE(h,"AbortSignal",p)},c=(p,h)=>{if(typeof p!="function")throw new ERR_INVALID_ARG_TYPE(h,"Function",p)};class y extends Error{constructor(h){if(!Array.isArray(h))throw new TypeError(`Expected input to be an Array, got ${typeof h}`);let S="";for(let w=0;w<h.length;w++)S+=`    ${h[w].stack}
`;super(S),this.name="AggregateError",this.errors=h}}e.exports={AggregateError:y,kEmptyObject:Object.freeze({}),once(p){let h=!1;return function(...S){h||(h=!0,p.apply(this,S))}},createDeferredPromise:function(){let p,h;return{promise:new Promise((w,m)=>{p=w,h=m}),resolve:p,reject:h}},promisify(p){return new Promise((h,S)=>{p((w,...m)=>w?S(w):h(...m))})},debuglog(){return function(){}},format(p,...h){return p.replace(/%([sdifj])/g,function(...[S,w]){const m=h.shift();return w==="f"?m.toFixed(6):w==="j"?JSON.stringify(m):w==="s"&&typeof m=="object"?`${m.constructor!==Object?m.constructor.name:""} {}`.trim():m.toString()})},inspect(p){switch(typeof p){case"string":if(p.includes("'"))if(p.includes('"')){if(!p.includes("`")&&!p.includes("${"))return`\`${p}\``}else return`"${p}"`;return`'${p}'`;case"number":return isNaN(p)?"NaN":Object.is(p,-0)?String(p):p;case"bigint":return`${String(p)}n`;case"boolean":case"undefined":return String(p);case"object":return"{}"}},types:{isAsyncFunction(p){return p instanceof a},isArrayBufferView(p){return ArrayBuffer.isView(p)}},isBlob:f,deprecate(p,h){return p},addAbortListener:bt.addAbortListener||function(h,S){if(h===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",h);u(h,"signal"),c(S,"listener");let w;return h.aborted?queueMicrotask(()=>S()):(h.addEventListener("abort",S,{__proto__:null,once:!0,[r]:!0}),w=()=>{h.removeEventListener("abort",S)}),{__proto__:null,[n](){var m;(m=w)===null||m===void 0||m()}}},AbortSignalAny:i.any||function(h){if(h.length===1)return h[0];const S=new o,w=()=>S.abort();return h.forEach(m=>{u(m,"signals"),m.addEventListener("abort",w,{once:!0})}),S.signal.addEventListener("abort",()=>{h.forEach(m=>m.removeEventListener("abort",w))},{once:!0}),S.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(Ff);var De=Ff.exports,Zs={};const{format:bm,inspect:Jn,AggregateError:gm}=De,ym=globalThis.AggregateError||gm,wm=Symbol("kIsNodeError"),_m=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Sm=/^([A-Z][a-z0-9]*)+$/,mm="__node_internal_",wi={};function nr(e,t){if(!e)throw new wi.ERR_INTERNAL_ASSERTION(t)}function Ul(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Em(e,t,r){if(typeof t=="function")return nr(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return nr(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:bm(t,...r)}function Ee(e,t,r){r||(r=Error);class n extends r{constructor(...o){super(Em(e,t,o))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[wm]=!0,wi[e]=n}function xl(e){const t=mm+e.name;return Object.defineProperty(e,"name",{value:t}),e}function Rm(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new ym([t,e],t.message);return r.code=t.code,r}return e||t}let Am=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new wi.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};Ee("ERR_ASSERTION","%s",Error);Ee("ERR_INVALID_ARG_TYPE",(e,t,r)=>{nr(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const i=[],o=[],a=[];for(const f of t)nr(typeof f=="string","All expected entries have to be of type string"),_m.includes(f)?i.push(f.toLowerCase()):Sm.test(f)?o.push(f):(nr(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(o.length>0){const f=i.indexOf("object");f!==-1&&(i.splice(i,f,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{const f=i.pop();n+=`one of type ${i.join(", ")}, or ${f}`}}(o.length>0||a.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+=`an instance of ${o[0]}`;break;case 2:n+=`an instance of ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`an instance of ${o.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var d;if((d=r.constructor)!==null&&d!==void 0&&d.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=Jn(r,{depth:-1});n+=`. Received ${f}`}}else{let f=Jn(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError);Ee("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=Jn(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError);Ee("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError);Ee("ERR_MISSING_ARGS",(...e)=>{nr(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);Ee("ERR_OUT_OF_RANGE",(e,t,r)=>{nr(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=Ul(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=Ul(n)),n+="n"):n=Jn(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);Ee("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Ee("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Ee("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Ee("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Ee("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Ee("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ee("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Ee("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Ee("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Ee("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Ee("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Fe={AbortError:Am,aggregateTwoErrors:xl(Rm),hideStackFrames:xl,codes:wi};const{ArrayIsArray:Qs,ArrayPrototypeIncludes:Wf,ArrayPrototypeJoin:Uf,ArrayPrototypeMap:vm,NumberIsInteger:ea,NumberIsNaN:$m,NumberMAX_SAFE_INTEGER:Im,NumberMIN_SAFE_INTEGER:Tm,NumberParseInt:Nm,ObjectPrototypeHasOwnProperty:Cm,RegExpPrototypeExec:xf,String:Om,StringPrototypeToUpperCase:Pm,StringPrototypeTrim:Dm}=de,{hideStackFrames:Je,codes:{ERR_SOCKET_BAD_PORT:Lm,ERR_INVALID_ARG_TYPE:ve,ERR_INVALID_ARG_VALUE:Wr,ERR_OUT_OF_RANGE:lr,ERR_UNKNOWN_SIGNAL:Bl}}=Fe,{normalizeEncoding:Mm}=De,{isAsyncFunction:jm,isArrayBufferView:km}=De.types,Vl={};function Fm(e){return e===(e|0)}function Wm(e){return e===e>>>0}const Um=/^[0-7]+$/,xm="must be a 32-bit unsigned integer or an octal string";function Bm(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(xf(Um,e)===null)throw new Wr(t,e,xm);e=Nm(e,8)}return Bf(e,t),e}const Vm=Je((e,t,r=Tm,n=Im)=>{if(typeof e!="number")throw new ve(t,"number",e);if(!ea(e))throw new lr(t,"an integer",e);if(e<r||e>n)throw new lr(t,`>= ${r} && <= ${n}`,e)}),Hm=Je((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new ve(t,"number",e);if(!ea(e))throw new lr(t,"an integer",e);if(e<r||e>n)throw new lr(t,`>= ${r} && <= ${n}`,e)}),Bf=Je((e,t,r=!1)=>{if(typeof e!="number")throw new ve(t,"number",e);if(!ea(e))throw new lr(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new lr(t,`>= ${n} && <= ${i}`,e)});function ta(e,t){if(typeof e!="string")throw new ve(t,"string",e)}function Gm(e,t,r=void 0,n){if(typeof e!="number")throw new ve(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&$m(e))throw new lr(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const qm=Je((e,t,r)=>{if(!Wf(r,e)){const i="must be one of: "+Uf(vm(r,o=>typeof o=="string"?`'${o}'`:Om(o)),", ");throw new Wr(t,e,i)}});function Vf(e,t){if(typeof e!="boolean")throw new ve(t,"boolean",e)}function mo(e,t,r){return e==null||!Cm(e,t)?r:e[t]}const Jm=Je((e,t,r=null)=>{const n=mo(r,"allowArray",!1),i=mo(r,"allowFunction",!1);if(!mo(r,"nullable",!1)&&e===null||!n&&Qs(e)||typeof e!="object"&&(!i||typeof e!="function"))throw new ve(t,"Object",e)}),Km=Je((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new ve(t,"a dictionary",e)}),_i=Je((e,t,r=0)=>{if(!Qs(e))throw new ve(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new Wr(t,e,n)}});function zm(e,t){_i(e,t);for(let r=0;r<e.length;r++)ta(e[r],`${t}[${r}]`)}function Ym(e,t){_i(e,t);for(let r=0;r<e.length;r++)Vf(e[r],`${t}[${r}]`)}function Xm(e,t){_i(e,t);for(let r=0;r<e.length;r++){const n=e[r],i=`${t}[${r}]`;if(n==null)throw new ve(i,"AbortSignal",n);Hf(n,i)}}function Zm(e,t="signal"){if(ta(e,t),Vl[e]===void 0)throw Vl[Pm(e)]!==void 0?new Bl(e+" (signals must use all capital letters)"):new Bl(e)}const Qm=Je((e,t="buffer")=>{if(!km(e))throw new ve(t,["Buffer","TypedArray","DataView"],e)});function eE(e,t){const r=Mm(t),n=e.length;if(r==="hex"&&n%2!==0)throw new Wr("encoding",t,`is invalid for data of length ${n}`)}function tE(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&Dm(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new Lm(t,e,r);return e|0}const Hf=Je((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new ve(t,"AbortSignal",e)}),rE=Je((e,t)=>{if(typeof e!="function")throw new ve(t,"Function",e)}),nE=Je((e,t)=>{if(typeof e!="function"||jm(e))throw new ve(t,"Function",e)}),iE=Je((e,t)=>{if(e!==void 0)throw new ve(t,"undefined",e)});function oE(e,t,r){if(!Wf(r,e))throw new ve(t,`('${Uf(r,"|")}')`,e)}const sE=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Hl(e,t){if(typeof e>"u"||!xf(sE,e))throw new Wr(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function aE(e){if(typeof e=="string")return Hl(e,"hints"),e;if(Qs(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const i=e[n];Hl(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new Wr("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var En={isInt32:Fm,isUint32:Wm,parseFileMode:Bm,validateArray:_i,validateStringArray:zm,validateBooleanArray:Ym,validateAbortSignalArray:Xm,validateBoolean:Vf,validateBuffer:Qm,validateDictionary:Km,validateEncoding:eE,validateFunction:rE,validateInt32:Hm,validateInteger:Vm,validateNumber:Gm,validateObject:Jm,validateOneOf:qm,validatePlainFunction:nE,validatePort:tE,validateSignalName:Zm,validateString:ta,validateUint32:Bf,validateUndefined:iE,validateUnion:oE,validateAbortSignal:Hf,validateLinkHeaderValue:aE},ra={exports:{}};const{SymbolAsyncIterator:Gl,SymbolIterator:ql,SymbolFor:pr}=de,Gf=pr("nodejs.stream.destroyed"),qf=pr("nodejs.stream.errored"),as=pr("nodejs.stream.readable"),ls=pr("nodejs.stream.writable"),Jf=pr("nodejs.stream.disturbed"),lE=pr("nodejs.webstream.isClosedPromise"),uE=pr("nodejs.webstream.controllerErrorFunction");function Si(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function mi(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function cE(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function yt(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function Kf(e){return!!(e&&!yt(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function zf(e){return!!(e&&!yt(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function Yf(e){return!!(e&&!yt(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function fE(e){return Kf(e)||zf(e)||Yf(e)}function dE(e,t){return e==null?!1:t===!0?typeof e[Gl]=="function":t===!1?typeof e[ql]=="function":typeof e[Gl]=="function"||typeof e[ql]=="function"}function Ei(e){if(!yt(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[Gf]||n!=null&&n.destroyed)}function Xf(e){if(!mi(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function hE(e,t){if(!mi(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function pE(e){if(!Si(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function Zf(e,t){if(!Si(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function Qf(e){return e&&e[as]!=null?e[as]:typeof(e==null?void 0:e.readable)!="boolean"?null:Ei(e)?!1:Si(e)&&e.readable&&!Zf(e)}function ed(e){return e&&e[ls]!=null?e[ls]:typeof(e==null?void 0:e.writable)!="boolean"?null:Ei(e)?!1:mi(e)&&e.writable&&!Xf(e)}function bE(e,t){return yt(e)?Ei(e)?!0:!((t==null?void 0:t.readable)!==!1&&Qf(e)||(t==null?void 0:t.writable)!==!1&&ed(e)):null}function gE(e){var t,r;return yt(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function yE(e){var t,r;return yt(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function wE(e){if(!yt(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&td(e)?e._closed:null}function td(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function rd(e){return typeof e._sent100=="boolean"&&td(e)}function _E(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function SE(e){if(!yt(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&rd(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function mE(e){var t;return!!(e&&((t=e[Jf])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function EE(e){var t,r,n,i,o,a,d,f,u,c;return!!(e&&((t=(r=(n=(i=(o=(a=e[qf])!==null&&a!==void 0?a:e.readableErrored)!==null&&o!==void 0?o:e.writableErrored)!==null&&i!==void 0?i:(d=e._readableState)===null||d===void 0?void 0:d.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((c=e._writableState)===null||c===void 0)&&c.errored))}var Ot={isDestroyed:Ei,kIsDestroyed:Gf,isDisturbed:mE,kIsDisturbed:Jf,isErrored:EE,kIsErrored:qf,isReadable:Qf,kIsReadable:as,kIsClosedPromise:lE,kControllerErrorFunction:uE,kIsWritable:ls,isClosed:wE,isDuplexNodeStream:cE,isFinished:bE,isIterable:dE,isReadableNodeStream:Si,isReadableStream:Kf,isReadableEnded:pE,isReadableFinished:Zf,isReadableErrored:yE,isNodeStream:yt,isWebStream:fE,isWritable:ed,isWritableNodeStream:mi,isWritableStream:zf,isWritableEnded:Xf,isWritableFinished:hE,isWritableErrored:gE,isServerRequest:_E,isServerResponse:rd,willEmitClose:SE,isTransformStream:Yf};const Dt=je,{AbortError:nd,codes:RE}=Fe,{ERR_INVALID_ARG_TYPE:AE,ERR_STREAM_PREMATURE_CLOSE:Jl}=RE,{kEmptyObject:us,once:cs}=De,{validateAbortSignal:vE,validateFunction:$E,validateObject:IE,validateBoolean:TE}=En,{Promise:NE,PromisePrototypeThen:CE,SymbolDispose:id}=de,{isClosed:OE,isReadable:Kl,isReadableNodeStream:Eo,isReadableStream:PE,isReadableFinished:zl,isReadableErrored:Yl,isWritable:Xl,isWritableNodeStream:Zl,isWritableStream:DE,isWritableFinished:Ql,isWritableErrored:eu,isNodeStream:LE,willEmitClose:ME,kIsClosedPromise:jE}=Ot;let Ir;function kE(e){return e.setHeader&&typeof e.abort=="function"}const fs=()=>{};function od(e,t,r){var n,i;if(arguments.length===2?(r=t,t=us):t==null?t=us:IE(t,"options"),$E(r,"callback"),vE(t.signal,"options.signal"),r=cs(r),PE(e)||DE(e))return FE(e,t,r);if(!LE(e))throw new AE("stream",["ReadableStream","WritableStream","Stream"],e);const o=(n=t.readable)!==null&&n!==void 0?n:Eo(e),a=(i=t.writable)!==null&&i!==void 0?i:Zl(e),d=e._writableState,f=e._readableState,u=()=>{e.writable||p()};let c=ME(e)&&Eo(e)===o&&Zl(e)===a,y=Ql(e,!1);const p=()=>{y=!0,e.destroyed&&(c=!1),!(c&&(!e.readable||o))&&(!o||h)&&r.call(e)};let h=zl(e,!1);const S=()=>{h=!0,e.destroyed&&(c=!1),!(c&&(!e.writable||a))&&(!a||y)&&r.call(e)},w=I=>{r.call(e,I)};let m=OE(e);const $=()=>{m=!0;const I=eu(e)||Yl(e);if(I&&typeof I!="boolean")return r.call(e,I);if(o&&!h&&Eo(e,!0)&&!zl(e,!1))return r.call(e,new Jl);if(a&&!y&&!Ql(e,!1))return r.call(e,new Jl);r.call(e)},C=()=>{m=!0;const I=eu(e)||Yl(e);if(I&&typeof I!="boolean")return r.call(e,I);r.call(e)},E=()=>{e.req.on("finish",p)};kE(e)?(e.on("complete",p),c||e.on("abort",$),e.req?E():e.on("request",E)):a&&!d&&(e.on("end",u),e.on("close",u)),!c&&typeof e.aborted=="boolean"&&e.on("aborted",$),e.on("end",S),e.on("finish",p),t.error!==!1&&e.on("error",w),e.on("close",$),m?Dt.nextTick($):d!=null&&d.errorEmitted||f!=null&&f.errorEmitted?c||Dt.nextTick(C):(!o&&(!c||Kl(e))&&(y||Xl(e)===!1)||!a&&(!c||Xl(e))&&(h||Kl(e)===!1)||f&&e.req&&e.aborted)&&Dt.nextTick(C);const H=()=>{r=fs,e.removeListener("aborted",$),e.removeListener("complete",p),e.removeListener("abort",$),e.removeListener("request",E),e.req&&e.req.removeListener("finish",p),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",p),e.removeListener("end",S),e.removeListener("error",w),e.removeListener("close",$)};if(t.signal&&!m){const I=()=>{const V=r;H(),V.call(e,new nd(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Dt.nextTick(I);else{Ir=Ir||De.addAbortListener;const V=Ir(t.signal,I),te=r;r=cs((...q)=>{V[id](),te.apply(e,q)})}}return H}function FE(e,t,r){let n=!1,i=fs;if(t.signal)if(i=()=>{n=!0,r.call(e,new nd(void 0,{cause:t.signal.reason}))},t.signal.aborted)Dt.nextTick(i);else{Ir=Ir||De.addAbortListener;const a=Ir(t.signal,i),d=r;r=cs((...f)=>{a[id](),d.apply(e,f)})}const o=(...a)=>{n||Dt.nextTick(()=>r.apply(e,a))};return CE(e[jE].promise,o,o),fs}function WE(e,t){var r;let n=!1;return t===null&&(t=us),(r=t)!==null&&r!==void 0&&r.cleanup&&(TE(t.cleanup,"cleanup"),n=t.cleanup),new NE((i,o)=>{const a=od(e,t,d=>{n&&a(),d?o(d):i()})})}ra.exports=od;ra.exports.finished=WE;var jt=ra.exports;const ft=je,{aggregateTwoErrors:UE,codes:{ERR_MULTIPLE_CALLBACK:xE},AbortError:BE}=Fe,{Symbol:sd}=de,{kIsDestroyed:VE,isDestroyed:HE,isFinished:GE,isServerRequest:qE}=Ot,ad=sd("kDestroy"),ds=sd("kConstruct");function ld(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function JE(e,t){const r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(ld(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?tu(this,e,t):this.once(ad,function(o){tu(this,UE(o,e),t)}),this)}function tu(e,t,r){let n=!1;function i(o){if(n)return;n=!0;const a=e._readableState,d=e._writableState;ld(o,d,a),d&&(d.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(o),o?ft.nextTick(KE,e,o):ft.nextTick(ud,e)}try{e._destroy(t||null,i)}catch(o){i(o)}}function KE(e,t){hs(e,t),ud(e)}function ud(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function hs(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function zE(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function ps(e,t,r){const n=e._readableState,i=e._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?ft.nextTick(hs,e,t):hs(e,t))}function YE(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(ds,t),!(e.listenerCount(ds)>1)&&ft.nextTick(XE,e)}function XE(e){let t=!1;function r(n){if(t){ps(e,n??new xE);return}t=!0;const i=e._readableState,o=e._writableState,a=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),a.destroyed?e.emit(ad,n):n?ps(e,n,!0):ft.nextTick(ZE,e)}try{e._construct(n=>{ft.nextTick(r,n)})}catch(n){ft.nextTick(r,n)}}function ZE(e){e.emit(ds)}function ru(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function cd(e){e.emit("close")}function QE(e,t){e.emit("error",t),ft.nextTick(cd,e)}function eR(e,t){!e||HE(e)||(!t&&!GE(e)&&(t=new BE),qE(e)?(e.socket=null,e.destroy(t)):ru(e)?e.abort():ru(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?ft.nextTick(QE,e,t):ft.nextTick(cd,e),e.destroyed||(e[VE]=!0))}var Ur={construct:YE,destroyer:eR,destroy:JE,undestroy:zE,errorOrDestroy:ps};const{ArrayIsArray:tR,ObjectSetPrototypeOf:fd}=de,{EventEmitter:Ri}=bt;function Ai(e){Ri.call(this,e)}fd(Ai.prototype,Ri.prototype);fd(Ai,Ri);Ai.prototype.pipe=function(e,t){const r=this;function n(c){e.writable&&e.write(c)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",d));let o=!1;function a(){o||(o=!0,e.end())}function d(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}function f(c){u(),Ri.listenerCount(this,"error")===0&&this.emit("error",c)}bs(r,"error",f),bs(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",d),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function bs(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):tR(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var na={Stream:Ai,prependListener:bs},dd={exports:{}};(function(e){const{SymbolDispose:t}=de,{AbortError:r,codes:n}=Fe,{isNodeStream:i,isWebStream:o,kControllerErrorFunction:a}=Ot,d=jt,{ERR_INVALID_ARG_TYPE:f}=n;let u;const c=(y,p)=>{if(typeof y!="object"||!("aborted"in y))throw new f(p,"AbortSignal",y)};e.exports.addAbortSignal=function(p,h){if(c(p,"signal"),!i(h)&&!o(h))throw new f("stream",["ReadableStream","WritableStream","Stream"],h);return e.exports.addAbortSignalNoValidate(p,h)},e.exports.addAbortSignalNoValidate=function(y,p){if(typeof y!="object"||!("aborted"in y))return p;const h=i(p)?()=>{p.destroy(new r(void 0,{cause:y.reason}))}:()=>{p[a](new r(void 0,{cause:y.reason}))};if(y.aborted)h();else{u=u||De.addAbortListener;const S=u(y,h);d(p,S[t])}return p}})(dd);var vi=dd.exports;const{StringPrototypeSlice:nu,SymbolIterator:rR,TypedArrayPrototypeSet:Dn,Uint8Array:nR}=de,{Buffer:Ro}=Ce,{inspect:iR}=De;var oR=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return Ro.alloc(0);const r=Ro.allocUnsafe(t>>>0);let n=this.head,i=0;for(;n;)Dn(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const i=n.slice(0,t);return this.head.data=n.slice(t),i}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[rR](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,i=0;do{const o=n.data;if(t>o.length)r+=o,t-=o.length;else{t===o.length?(r+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=nu(o,0,t),this.head=n,n.data=nu(o,t));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(t){const r=Ro.allocUnsafe(t),n=t;let i=this.head,o=0;do{const a=i.data;if(t>a.length)Dn(r,a,n-t),t-=a.length;else{t===a.length?(Dn(r,a,n-t),++o,i.next?this.head=i.next:this.head=this.tail=null):(Dn(r,new nR(a.buffer,a.byteOffset,t),n-t),this.head=i,i.data=a.slice(t));break}++o}while((i=i.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return iR(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:sR,NumberIsInteger:aR}=de,{validateInteger:lR}=En,{ERR_INVALID_ARG_VALUE:uR}=Fe.codes;let hd=16*1024,pd=16;function cR(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function bd(e){return e?pd:hd}function fR(e,t){lR(t,"value",0),e?pd=t:hd=t}function dR(e,t,r,n){const i=cR(t,n,r);if(i!=null){if(!aR(i)||i<0){const o=n?`options.${r}`:"options.highWaterMark";throw new uR(o,i)}return sR(i)}return bd(e.objectMode)}var $i={getHighWaterMark:dR,getDefaultHighWaterMark:bd,setDefaultHighWaterMark:fR};const iu=je,{PromisePrototypeThen:hR,SymbolAsyncIterator:ou,SymbolIterator:su}=de,{Buffer:pR}=Ce,{ERR_INVALID_ARG_TYPE:bR,ERR_STREAM_NULL_VALUES:gR}=Fe.codes;function yR(e,t,r){let n;if(typeof t=="string"||t instanceof pR)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let i;if(t&&t[ou])i=!0,n=t[ou]();else if(t&&t[su])i=!1,n=t[su]();else throw new bR("iterable",["Iterable"],t);const o=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;o._read=function(){a||(a=!0,f())},o._destroy=function(u,c){hR(d(u),()=>iu.nextTick(c,u),y=>iu.nextTick(c,y||u))};async function d(u){const c=u!=null,y=typeof n.throw=="function";if(c&&y){const{value:p,done:h}=await n.throw(u);if(await p,h)return}if(typeof n.return=="function"){const{value:p}=await n.return();await p}}async function f(){for(;;){try{const{value:u,done:c}=i?await n.next():n.next();if(c)o.push(null);else{const y=u&&typeof u.then=="function"?await u:u;if(y===null)throw a=!1,new gR;if(o.push(y))continue;a=!1}}catch(u){o.destroy(u)}break}}return o}var gd=yR,Ao,au;function Ii(){if(au)return Ao;au=1;const e=je,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:d,Promise:f,SafeSet:u,SymbolAsyncDispose:c,SymbolAsyncIterator:y,Symbol:p}=de;Ao=W,W.ReadableState=be;const{EventEmitter:h}=bt,{Stream:S,prependListener:w}=na,{Buffer:m}=Ce,{addAbortSignal:$}=vi,C=jt;let E=De.debuglog("stream",s=>{E=s});const H=oR,I=Ur,{getHighWaterMark:V,getDefaultHighWaterMark:te}=$i,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:z,ERR_METHOD_NOT_IMPLEMENTED:ee,ERR_OUT_OF_RANGE:K,ERR_STREAM_PUSH_AFTER_EOF:x,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:_},AbortError:T}=Fe,{validateObject:O}=En,P=p("kPaused"),{StringDecoder:k}=As,j=gd;d(W.prototype,S.prototype),d(W,S);const U=()=>{},{errorOrDestroy:B}=I,F=1,Q=2,M=4,J=8,se=16,Le=32,We=64,Ue=128,Ke=256,kt=512,ze=1024,xe=2048,b=4096,g=8192,R=16384,D=32768,L=65536,X=1<<17,Z=1<<18;function Y(s){return{enumerable:!1,get(){return(this.state&s)!==0},set(l){l?this.state|=s:this.state&=~s}}}o(be.prototype,{objectMode:Y(F),ended:Y(Q),endEmitted:Y(M),reading:Y(J),constructed:Y(se),sync:Y(Le),needReadable:Y(We),emittedReadable:Y(Ue),readableListening:Y(Ke),resumeScheduled:Y(kt),errorEmitted:Y(ze),emitClose:Y(xe),autoDestroy:Y(b),destroyed:Y(g),closed:Y(R),closeEmitted:Y(D),multiAwaitDrain:Y(L),readingMore:Y(X),dataEmitted:Y(Z)});function be(s,l,A){typeof A!="boolean"&&(A=l instanceof It()),this.state=xe|b|se|Le,s&&s.objectMode&&(this.state|=F),A&&s&&s.readableObjectMode&&(this.state|=F),this.highWaterMark=s?V(this,s,"readableHighWaterMark",A):te(!1),this.buffer=new H,this.length=0,this.pipes=[],this.flowing=null,this[P]=null,s&&s.emitClose===!1&&(this.state&=~xe),s&&s.autoDestroy===!1&&(this.state&=~b),this.errored=null,this.defaultEncoding=s&&s.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,s&&s.encoding&&(this.decoder=new k(s.encoding),this.encoding=s.encoding)}function W(s){if(!(this instanceof W))return new W(s);const l=this instanceof It();this._readableState=new be(s,this,l),s&&(typeof s.read=="function"&&(this._read=s.read),typeof s.destroy=="function"&&(this._destroy=s.destroy),typeof s.construct=="function"&&(this._construct=s.construct),s.signal&&!l&&$(s.signal,this)),S.call(this,s),I.construct(this,()=>{this._readableState.needReadable&&_t(this,this._readableState)})}W.prototype.destroy=I.destroy,W.prototype._undestroy=I.undestroy,W.prototype._destroy=function(s,l){l(s)},W.prototype[h.captureRejectionSymbol]=function(s){this.destroy(s)},W.prototype[c]=function(){let s;return this.destroyed||(s=this.readableEnded?null:new T,this.destroy(s)),new f((l,A)=>C(this,v=>v&&v!==s?A(v):l(null)))},W.prototype.push=function(s,l){return _e(this,s,l,!1)},W.prototype.unshift=function(s,l){return _e(this,s,l,!0)};function _e(s,l,A,v){E("readableAddChunk",l);const N=s._readableState;let re;if(N.state&F||(typeof l=="string"?(A=A||N.defaultEncoding,N.encoding!==A&&(v&&N.encoding?l=m.from(l,A).toString(N.encoding):(l=m.from(l,A),A=""))):l instanceof m?A="":S._isUint8Array(l)?(l=S._uint8ArrayToBuffer(l),A=""):l!=null&&(re=new z("chunk",["string","Buffer","Uint8Array"],l))),re)B(s,re);else if(l===null)N.state&=~J,Pi(s,N);else if(N.state&F||l&&l.length>0)if(v)if(N.state&M)B(s,new _);else{if(N.destroyed||N.errored)return!1;Ft(s,N,l,!0)}else if(N.ended)B(s,new x);else{if(N.destroyed||N.errored)return!1;N.state&=~J,N.decoder&&!A?(l=N.decoder.write(l),N.objectMode||l.length!==0?Ft(s,N,l,!1):_t(s,N)):Ft(s,N,l,!1)}else v||(N.state&=~J,_t(s,N));return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function Ft(s,l,A,v){l.flowing&&l.length===0&&!l.sync&&s.listenerCount("data")>0?(l.state&L?l.awaitDrainWriters.clear():l.awaitDrainWriters=null,l.dataEmitted=!0,s.emit("data",A)):(l.length+=l.objectMode?1:A.length,v?l.buffer.unshift(A):l.buffer.push(A),l.state&We&&wt(s)),_t(s,l)}W.prototype.isPaused=function(){const s=this._readableState;return s[P]===!0||s.flowing===!1},W.prototype.setEncoding=function(s){const l=new k(s);this._readableState.decoder=l,this._readableState.encoding=this._readableState.decoder.encoding;const A=this._readableState.buffer;let v="";for(const N of A)v+=l.write(N);return A.clear(),v!==""&&A.push(v),this._readableState.length=v.length,this};const Ci=1073741824;function Oi(s){if(s>Ci)throw new K("size","<= 1GiB",s);return s--,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s++,s}function xr(s,l){return s<=0||l.length===0&&l.ended?0:l.state&F?1:n(s)?l.flowing&&l.length?l.buffer.first().length:l.length:s<=l.length?s:l.ended?l.length:0}W.prototype.read=function(s){E("read",s),s===void 0?s=NaN:r(s)||(s=i(s,10));const l=this._readableState,A=s;if(s>l.highWaterMark&&(l.highWaterMark=Oi(s)),s!==0&&(l.state&=~Ue),s===0&&l.needReadable&&((l.highWaterMark!==0?l.length>=l.highWaterMark:l.length>0)||l.ended))return E("read: emitReadable",l.length,l.ended),l.length===0&&l.ended?Wt(this):wt(this),null;if(s=xr(s,l),s===0&&l.ended)return l.length===0&&Wt(this),null;let v=(l.state&We)!==0;if(E("need readable",v),(l.length===0||l.length-s<l.highWaterMark)&&(v=!0,E("length less than watermark",v)),l.ended||l.reading||l.destroyed||l.errored||!l.constructed)v=!1,E("reading, ended or constructing",v);else if(v){E("do read"),l.state|=J|Le,l.length===0&&(l.state|=We);try{this._read(l.highWaterMark)}catch(re){B(this,re)}l.state&=~Le,l.reading||(s=xr(A,l))}let N;return s>0?N=qr(s,l):N=null,N===null?(l.needReadable=l.length<=l.highWaterMark,s=0):(l.length-=s,l.multiAwaitDrain?l.awaitDrainWriters.clear():l.awaitDrainWriters=null),l.length===0&&(l.ended||(l.needReadable=!0),A!==s&&l.ended&&Wt(this)),N!==null&&!l.errorEmitted&&!l.closeEmitted&&(l.dataEmitted=!0,this.emit("data",N)),N};function Pi(s,l){if(E("onEofChunk"),!l.ended){if(l.decoder){const A=l.decoder.end();A&&A.length&&(l.buffer.push(A),l.length+=l.objectMode?1:A.length)}l.ended=!0,l.sync?wt(s):(l.needReadable=!1,l.emittedReadable=!0,Br(s))}}function wt(s){const l=s._readableState;E("emitReadable",l.needReadable,l.emittedReadable),l.needReadable=!1,l.emittedReadable||(E("emitReadable",l.flowing),l.emittedReadable=!0,e.nextTick(Br,s))}function Br(s){const l=s._readableState;E("emitReadable_",l.destroyed,l.length,l.ended),!l.destroyed&&!l.errored&&(l.length||l.ended)&&(s.emit("readable"),l.emittedReadable=!1),l.needReadable=!l.flowing&&!l.ended&&l.length<=l.highWaterMark,Hr(s)}function _t(s,l){!l.readingMore&&l.constructed&&(l.readingMore=!0,e.nextTick(Di,s,l))}function Di(s,l){for(;!l.reading&&!l.ended&&(l.length<l.highWaterMark||l.flowing&&l.length===0);){const A=l.length;if(E("maybeReadMore read 0"),s.read(0),A===l.length)break}l.readingMore=!1}W.prototype._read=function(s){throw new ee("_read()")},W.prototype.pipe=function(s,l){const A=this,v=this._readableState;v.pipes.length===1&&(v.multiAwaitDrain||(v.multiAwaitDrain=!0,v.awaitDrainWriters=new u(v.awaitDrainWriters?[v.awaitDrainWriters]:[]))),v.pipes.push(s),E("pipe count=%d opts=%j",v.pipes.length,l);const re=(!l||l.end!==!1)&&s!==e.stdout&&s!==e.stderr?Kr:Ye;v.endEmitted?e.nextTick(re):A.once("end",re),s.on("unpipe",le);function le(Ie,ge){E("onunpipe"),Ie===A&&ge&&ge.hasUnpiped===!1&&(ge.hasUnpiped=!0,xi())}function Kr(){E("onend"),s.end()}let $e,zr=!1;function xi(){E("cleanup"),s.removeListener("close",Bt),s.removeListener("finish",Vt),$e&&s.removeListener("drain",$e),s.removeListener("error",xt),s.removeListener("unpipe",le),A.removeListener("end",Kr),A.removeListener("end",Ye),A.removeListener("data",Xr),zr=!0,$e&&v.awaitDrainWriters&&(!s._writableState||s._writableState.needDrain)&&$e()}function Yr(){zr||(v.pipes.length===1&&v.pipes[0]===s?(E("false write response, pause",0),v.awaitDrainWriters=s,v.multiAwaitDrain=!1):v.pipes.length>1&&v.pipes.includes(s)&&(E("false write response, pause",v.awaitDrainWriters.size),v.awaitDrainWriters.add(s)),A.pause()),$e||($e=Li(A,s),s.on("drain",$e))}A.on("data",Xr);function Xr(Ie){E("ondata");const ge=s.write(Ie);E("dest.write",ge),ge===!1&&Yr()}function xt(Ie){if(E("onerror",Ie),Ye(),s.removeListener("error",xt),s.listenerCount("error")===0){const ge=s._writableState||s._readableState;ge&&!ge.errorEmitted?B(s,Ie):s.emit("error",Ie)}}w(s,"error",xt);function Bt(){s.removeListener("finish",Vt),Ye()}s.once("close",Bt);function Vt(){E("onfinish"),s.removeListener("close",Bt),Ye()}s.once("finish",Vt);function Ye(){E("unpipe"),A.unpipe(s)}return s.emit("pipe",A),s.writableNeedDrain===!0?Yr():v.flowing||(E("pipe resume"),A.resume()),s};function Li(s,l){return function(){const v=s._readableState;v.awaitDrainWriters===l?(E("pipeOnDrain",1),v.awaitDrainWriters=null):v.multiAwaitDrain&&(E("pipeOnDrain",v.awaitDrainWriters.size),v.awaitDrainWriters.delete(l)),(!v.awaitDrainWriters||v.awaitDrainWriters.size===0)&&s.listenerCount("data")&&s.resume()}}W.prototype.unpipe=function(s){const l=this._readableState,A={hasUnpiped:!1};if(l.pipes.length===0)return this;if(!s){const N=l.pipes;l.pipes=[],this.pause();for(let re=0;re<N.length;re++)N[re].emit("unpipe",this,{hasUnpiped:!1});return this}const v=t(l.pipes,s);return v===-1?this:(l.pipes.splice(v,1),l.pipes.length===0&&this.pause(),s.emit("unpipe",this,A),this)},W.prototype.on=function(s,l){const A=S.prototype.on.call(this,s,l),v=this._readableState;return s==="data"?(v.readableListening=this.listenerCount("readable")>0,v.flowing!==!1&&this.resume()):s==="readable"&&!v.endEmitted&&!v.readableListening&&(v.readableListening=v.needReadable=!0,v.flowing=!1,v.emittedReadable=!1,E("on readable",v.length,v.reading),v.length?wt(this):v.reading||e.nextTick(Mi,this)),A},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(s,l){const A=S.prototype.removeListener.call(this,s,l);return s==="readable"&&e.nextTick(Vr,this),A},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(s){const l=S.prototype.removeAllListeners.apply(this,arguments);return(s==="readable"||s===void 0)&&e.nextTick(Vr,this),l};function Vr(s){const l=s._readableState;l.readableListening=s.listenerCount("readable")>0,l.resumeScheduled&&l[P]===!1?l.flowing=!0:s.listenerCount("data")>0?s.resume():l.readableListening||(l.flowing=null)}function Mi(s){E("readable nexttick read 0"),s.read(0)}W.prototype.resume=function(){const s=this._readableState;return s.flowing||(E("resume"),s.flowing=!s.readableListening,ji(this,s)),s[P]=!1,this};function ji(s,l){l.resumeScheduled||(l.resumeScheduled=!0,e.nextTick(ki,s,l))}function ki(s,l){E("resume",l.reading),l.reading||s.read(0),l.resumeScheduled=!1,s.emit("resume"),Hr(s),l.flowing&&!l.reading&&s.read(0)}W.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[P]=!0,this};function Hr(s){const l=s._readableState;for(E("flow",l.flowing);l.flowing&&s.read()!==null;);}W.prototype.wrap=function(s){let l=!1;s.on("data",v=>{!this.push(v)&&s.pause&&(l=!0,s.pause())}),s.on("end",()=>{this.push(null)}),s.on("error",v=>{B(this,v)}),s.on("close",()=>{this.destroy()}),s.on("destroy",()=>{this.destroy()}),this._read=()=>{l&&s.resume&&(l=!1,s.resume())};const A=a(s);for(let v=1;v<A.length;v++){const N=A[v];this[N]===void 0&&typeof s[N]=="function"&&(this[N]=s[N].bind(s))}return this},W.prototype[y]=function(){return Gr(this)},W.prototype.iterator=function(s){return s!==void 0&&O(s,"options"),Gr(this,s)};function Gr(s,l){typeof s.read!="function"&&(s=W.wrap(s,{objectMode:!0}));const A=Fi(s,l);return A.stream=s,A}async function*Fi(s,l){let A=U;function v(le){this===s?(A(),A=U):A=le}s.on("readable",v);let N;const re=C(s,{writable:!1},le=>{N=le?q(N,le):null,A(),A=U});try{for(;;){const le=s.destroyed?null:s.read();if(le!==null)yield le;else{if(N)throw N;if(N===null)return;await new f(v)}}}catch(le){throw N=q(N,le),N}finally{(N||(l==null?void 0:l.destroyOnReturn)!==!1)&&(N===void 0||s._readableState.autoDestroy)?I.destroyer(s,null):(s.off("readable",v),re())}}o(W.prototype,{readable:{__proto__:null,get(){const s=this._readableState;return!!s&&s.readable!==!1&&!s.destroyed&&!s.errorEmitted&&!s.endEmitted},set(s){this._readableState&&(this._readableState.readable=!!s)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(s){this._readableState&&(this._readableState.flowing=s)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(s){this._readableState&&(this._readableState.destroyed=s)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(be.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[P]!==!1},set(s){this[P]=!!s}}}),W._fromList=qr;function qr(s,l){if(l.length===0)return null;let A;return l.objectMode?A=l.buffer.shift():!s||s>=l.length?(l.decoder?A=l.buffer.join(""):l.buffer.length===1?A=l.buffer.first():A=l.buffer.concat(l.length),l.buffer.clear()):A=l.buffer.consume(s,l.decoder),A}function Wt(s){const l=s._readableState;E("endReadable",l.endEmitted),l.endEmitted||(l.ended=!0,e.nextTick(Wi,l,s))}function Wi(s,l){if(E("endReadableNT",s.endEmitted,s.length),!s.errored&&!s.closeEmitted&&!s.endEmitted&&s.length===0){if(s.endEmitted=!0,l.emit("end"),l.writable&&l.allowHalfOpen===!1)e.nextTick(Ui,l);else if(s.autoDestroy){const A=l._writableState;(!A||A.autoDestroy&&(A.finished||A.writable===!1))&&l.destroy()}}}function Ui(s){s.writable&&!s.writableEnded&&!s.destroyed&&s.end()}W.from=function(s,l){return j(W,s,l)};let Ut;function Jr(){return Ut===void 0&&(Ut={}),Ut}return W.fromWeb=function(s,l){return Jr().newStreamReadableFromReadableStream(s,l)},W.toWeb=function(s,l){return Jr().newReadableStreamFromStreamReadable(s,l)},W.wrap=function(s,l){var A,v;return new W({objectMode:(A=(v=s.readableObjectMode)!==null&&v!==void 0?v:s.objectMode)!==null&&A!==void 0?A:!0,...l,destroy(N,re){I.destroyer(s,N),re(N)}}).wrap(s)},Ao}var vo,lu;function ia(){if(lu)return vo;lu=1;const e=je,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:d,Symbol:f,SymbolHasInstance:u}=de;vo=O,O.WritableState=_;const{EventEmitter:c}=bt,y=na.Stream,{Buffer:p}=Ce,h=Ur,{addAbortSignal:S}=vi,{getHighWaterMark:w,getDefaultHighWaterMark:m}=$i,{ERR_INVALID_ARG_TYPE:$,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:H,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:V,ERR_STREAM_NULL_VALUES:te,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:z}=Fe.codes,{errorOrDestroy:ee}=h;a(O.prototype,y.prototype),a(O,y);function K(){}const x=f("kOnFinished");function _(b,g,R){typeof R!="boolean"&&(R=g instanceof It()),this.objectMode=!!(b&&b.objectMode),R&&(this.objectMode=this.objectMode||!!(b&&b.writableObjectMode)),this.highWaterMark=b?w(this,b,"writableHighWaterMark",R):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const D=!!(b&&b.decodeStrings===!1);this.decodeStrings=!D,this.defaultEncoding=b&&b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,g),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,T(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!b||b.emitClose!==!1,this.autoDestroy=!b||b.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[x]=[]}function T(b){b.buffered=[],b.bufferedIndex=0,b.allBuffers=!0,b.allNoop=!0}_.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(_.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function O(b){const g=this instanceof It();if(!g&&!n(O,this))return new O(b);this._writableState=new _(b,this,g),b&&(typeof b.write=="function"&&(this._write=b.write),typeof b.writev=="function"&&(this._writev=b.writev),typeof b.destroy=="function"&&(this._destroy=b.destroy),typeof b.final=="function"&&(this._final=b.final),typeof b.construct=="function"&&(this._construct=b.construct),b.signal&&S(b.signal,this)),y.call(this,b),h.construct(this,()=>{const R=this._writableState;R.writing||J(this,R),Ue(this,R)})}i(O,u,{__proto__:null,value:function(b){return n(this,b)?!0:this!==O?!1:b&&b._writableState instanceof _}}),O.prototype.pipe=function(){ee(this,new H)};function P(b,g,R,D){const L=b._writableState;if(typeof R=="function")D=R,R=L.defaultEncoding;else{if(!R)R=L.defaultEncoding;else if(R!=="buffer"&&!p.isEncoding(R))throw new z(R);typeof D!="function"&&(D=K)}if(g===null)throw new te;if(!L.objectMode)if(typeof g=="string")L.decodeStrings!==!1&&(g=p.from(g,R),R="buffer");else if(g instanceof p)R="buffer";else if(y._isUint8Array(g))g=y._uint8ArrayToBuffer(g),R="buffer";else throw new $("chunk",["string","Buffer","Uint8Array"],g);let X;return L.ending?X=new q:L.destroyed&&(X=new I("write")),X?(e.nextTick(D,X),ee(b,X,!0),X):(L.pendingcb++,k(b,L,g,R,D))}O.prototype.write=function(b,g,R){return P(this,b,g,R)===!0},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){const b=this._writableState;b.corked&&(b.corked--,b.writing||J(this,b))},O.prototype.setDefaultEncoding=function(g){if(typeof g=="string"&&(g=d(g)),!p.isEncoding(g))throw new z(g);return this._writableState.defaultEncoding=g,this};function k(b,g,R,D,L){const X=g.objectMode?1:R.length;g.length+=X;const Z=g.length<g.highWaterMark;return Z||(g.needDrain=!0),g.writing||g.corked||g.errored||!g.constructed?(g.buffered.push({chunk:R,encoding:D,callback:L}),g.allBuffers&&D!=="buffer"&&(g.allBuffers=!1),g.allNoop&&L!==K&&(g.allNoop=!1)):(g.writelen=X,g.writecb=L,g.writing=!0,g.sync=!0,b._write(R,D,g.onwrite),g.sync=!1),Z&&!g.errored&&!g.destroyed}function j(b,g,R,D,L,X,Z){g.writelen=D,g.writecb=Z,g.writing=!0,g.sync=!0,g.destroyed?g.onwrite(new I("write")):R?b._writev(L,g.onwrite):b._write(L,X,g.onwrite),g.sync=!1}function U(b,g,R,D){--g.pendingcb,D(R),M(g),ee(b,R)}function B(b,g){const R=b._writableState,D=R.sync,L=R.writecb;if(typeof L!="function"){ee(b,new E);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,g?(g.stack,R.errored||(R.errored=g),b._readableState&&!b._readableState.errored&&(b._readableState.errored=g),D?e.nextTick(U,b,R,g,L):U(b,R,g,L)):(R.buffered.length>R.bufferedIndex&&J(b,R),D?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===L?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:L,stream:b,state:R},e.nextTick(F,R.afterWriteTickInfo)):Q(b,R,1,L))}function F({stream:b,state:g,count:R,cb:D}){return g.afterWriteTickInfo=null,Q(b,g,R,D)}function Q(b,g,R,D){for(!g.ending&&!b.destroyed&&g.length===0&&g.needDrain&&(g.needDrain=!1,b.emit("drain"));R-- >0;)g.pendingcb--,D();g.destroyed&&M(g),Ue(b,g)}function M(b){if(b.writing)return;for(let L=b.bufferedIndex;L<b.buffered.length;++L){var g;const{chunk:X,callback:Z}=b.buffered[L],Y=b.objectMode?1:X.length;b.length-=Y,Z((g=b.errored)!==null&&g!==void 0?g:new I("write"))}const R=b[x].splice(0);for(let L=0;L<R.length;L++){var D;R[L]((D=b.errored)!==null&&D!==void 0?D:new I("end"))}T(b)}function J(b,g){if(g.corked||g.bufferProcessing||g.destroyed||!g.constructed)return;const{buffered:R,bufferedIndex:D,objectMode:L}=g,X=R.length-D;if(!X)return;let Z=D;if(g.bufferProcessing=!0,X>1&&b._writev){g.pendingcb-=X-1;const Y=g.allNoop?K:W=>{for(let _e=Z;_e<R.length;++_e)R[_e].callback(W)},be=g.allNoop&&Z===0?R:t(R,Z);be.allBuffers=g.allBuffers,j(b,g,!0,g.length,be,"",Y),T(g)}else{do{const{chunk:Y,encoding:be,callback:W}=R[Z];R[Z++]=null;const _e=L?1:Y.length;j(b,g,!1,_e,Y,be,W)}while(Z<R.length&&!g.writing);Z===R.length?T(g):Z>256?(R.splice(0,Z),g.bufferedIndex=0):g.bufferedIndex=Z}g.bufferProcessing=!1}O.prototype._write=function(b,g,R){if(this._writev)this._writev([{chunk:b,encoding:g}],R);else throw new C("_write()")},O.prototype._writev=null,O.prototype.end=function(b,g,R){const D=this._writableState;typeof b=="function"?(R=b,b=null,g=null):typeof g=="function"&&(R=g,g=null);let L;if(b!=null){const X=P(this,b,g);X instanceof r&&(L=X)}return D.corked&&(D.corked=1,this.uncork()),L||(!D.errored&&!D.ending?(D.ending=!0,Ue(this,D,!0),D.ended=!0):D.finished?L=new V("end"):D.destroyed&&(L=new I("end"))),typeof R=="function"&&(L||D.finished?e.nextTick(R,L):D[x].push(R)),this};function se(b){return b.ending&&!b.destroyed&&b.constructed&&b.length===0&&!b.errored&&b.buffered.length===0&&!b.finished&&!b.writing&&!b.errorEmitted&&!b.closeEmitted}function Le(b,g){let R=!1;function D(L){if(R){ee(b,L??E());return}if(R=!0,g.pendingcb--,L){const X=g[x].splice(0);for(let Z=0;Z<X.length;Z++)X[Z](L);ee(b,L,g.sync)}else se(g)&&(g.prefinished=!0,b.emit("prefinish"),g.pendingcb++,e.nextTick(Ke,b,g))}g.sync=!0,g.pendingcb++;try{b._final(D)}catch(L){D(L)}g.sync=!1}function We(b,g){!g.prefinished&&!g.finalCalled&&(typeof b._final=="function"&&!g.destroyed?(g.finalCalled=!0,Le(b,g)):(g.prefinished=!0,b.emit("prefinish")))}function Ue(b,g,R){se(g)&&(We(b,g),g.pendingcb===0&&(R?(g.pendingcb++,e.nextTick((D,L)=>{se(L)?Ke(D,L):L.pendingcb--},b,g)):se(g)&&(g.pendingcb++,Ke(b,g))))}function Ke(b,g){g.pendingcb--,g.finished=!0;const R=g[x].splice(0);for(let D=0;D<R.length;D++)R[D]();if(b.emit("finish"),g.autoDestroy){const D=b._readableState;(!D||D.autoDestroy&&(D.endEmitted||D.readable===!1))&&b.destroy()}}o(O.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(b){this._writableState&&(this._writableState.destroyed=b)}},writable:{__proto__:null,get(){const b=this._writableState;return!!b&&b.writable!==!1&&!b.destroyed&&!b.errored&&!b.ending&&!b.ended},set(b){this._writableState&&(this._writableState.writable=!!b)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const b=this._writableState;return b?!b.destroyed&&!b.ending&&b.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const kt=h.destroy;O.prototype.destroy=function(b,g){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[x].length)&&e.nextTick(M,R),kt.call(this,b,g),this},O.prototype._undestroy=h.undestroy,O.prototype._destroy=function(b,g){g(b)},O.prototype[c.captureRejectionSymbol]=function(b){this.destroy(b)};let ze;function xe(){return ze===void 0&&(ze={}),ze}return O.fromWeb=function(b,g){return xe().newStreamWritableFromWritableStream(b,g)},O.toWeb=function(b){return xe().newWritableStreamFromStreamWritable(b)},vo}var $o,uu;function wR(){if(uu)return $o;uu=1;const e=je,t=Ce,{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:a,isWritableNodeStream:d,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:c}=Ot,y=jt,{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:S}}=Fe,{destroyer:w}=Ur,m=It(),$=Ii(),C=ia(),{createDeferredPromise:E}=De,H=gd,I=globalThis.Blob||t.Blob,V=typeof I<"u"?function(_){return _ instanceof I}:function(_){return!1},te=globalThis.AbortController||dt().AbortController,{FunctionPrototypeCall:q}=de;class z extends m{constructor(_){super(_),(_==null?void 0:_.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(_==null?void 0:_.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}$o=function x(_,T){if(f(_))return _;if(a(_))return K({readable:_});if(d(_))return K({writable:_});if(o(_))return K({writable:!1,readable:!1});if(u(_))return K({readable:$.fromWeb(_)});if(c(_))return K({writable:C.fromWeb(_)});if(typeof _=="function"){const{value:P,write:k,final:j,destroy:U}=ee(_);if(i(P))return H(z,P,{objectMode:!0,write:k,final:j,destroy:U});const B=P==null?void 0:P.then;if(typeof B=="function"){let F;const Q=q(B,P,M=>{if(M!=null)throw new S("nully","body",M)},M=>{w(F,M)});return F=new z({objectMode:!0,readable:!1,write:k,final(M){j(async()=>{try{await Q,e.nextTick(M,null)}catch(J){e.nextTick(M,J)}})},destroy:U})}throw new S("Iterable, AsyncIterable or AsyncFunction",T,P)}if(V(_))return x(_.arrayBuffer());if(i(_))return H(z,_,{objectMode:!0,writable:!1});if(u(_==null?void 0:_.readable)&&c(_==null?void 0:_.writable))return z.fromWeb(_);if(typeof(_==null?void 0:_.writable)=="object"||typeof(_==null?void 0:_.readable)=="object"){const P=_!=null&&_.readable?a(_==null?void 0:_.readable)?_==null?void 0:_.readable:x(_.readable):void 0,k=_!=null&&_.writable?d(_==null?void 0:_.writable)?_==null?void 0:_.writable:x(_.writable):void 0;return K({readable:P,writable:k})}const O=_==null?void 0:_.then;if(typeof O=="function"){let P;return q(O,_,k=>{k!=null&&P.push(k),P.push(null)},k=>{w(P,k)}),P=new z({objectMode:!0,writable:!1,read(){}})}throw new h(T,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],_)};function ee(x){let{promise:_,resolve:T}=E();const O=new te,P=O.signal;return{value:x(async function*(){for(;;){const j=_;_=null;const{chunk:U,done:B,cb:F}=await j;if(e.nextTick(F),B)return;if(P.aborted)throw new p(void 0,{cause:P.reason});({promise:_,resolve:T}=E()),yield U}}(),{signal:P}),write(j,U,B){const F=T;T=null,F({chunk:j,done:!1,cb:B})},final(j){const U=T;T=null,U({done:!0,cb:j})},destroy(j,U){O.abort(),U(j)}}}function K(x){const _=x.readable&&typeof x.readable.read!="function"?$.wrap(x.readable):x.readable,T=x.writable;let O=!!r(_),P=!!n(T),k,j,U,B,F;function Q(M){const J=B;B=null,J?J(M):M&&F.destroy(M)}return F=new z({readableObjectMode:!!(_!=null&&_.readableObjectMode),writableObjectMode:!!(T!=null&&T.writableObjectMode),readable:O,writable:P}),P&&(y(T,M=>{P=!1,M&&w(_,M),Q(M)}),F._write=function(M,J,se){T.write(M,J)?se():k=se},F._final=function(M){T.end(),j=M},T.on("drain",function(){if(k){const M=k;k=null,M()}}),T.on("finish",function(){if(j){const M=j;j=null,M()}})),O&&(y(_,M=>{O=!1,M&&w(_,M),Q(M)}),_.on("readable",function(){if(U){const M=U;U=null,M()}}),_.on("end",function(){F.push(null)}),F._read=function(){for(;;){const M=_.read();if(M===null){U=F._read;return}if(!F.push(M))return}}),F._destroy=function(M,J){!M&&B!==null&&(M=new p),U=null,k=null,j=null,B===null?J(M):(B=J,w(T,M),w(_,M))},F}return $o}var Io,cu;function It(){if(cu)return Io;cu=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=de;Io=a;const i=Ii(),o=ia();n(a.prototype,i.prototype),n(a,i);{const c=r(o.prototype);for(let y=0;y<c.length;y++){const p=c[y];a.prototype[p]||(a.prototype[p]=o.prototype[p])}}function a(c){if(!(this instanceof a))return new a(c);i.call(this,c),o.call(this,c),c?(this.allowHalfOpen=c.allowHalfOpen!==!1,c.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),c.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(c){this._readableState&&this._writableState&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}});let d;function f(){return d===void 0&&(d={}),d}a.fromWeb=function(c,y){return f().newStreamDuplexFromReadableWritablePair(c,y)},a.toWeb=function(c){return f().newReadableWritablePairFromDuplex(c)};let u;return a.from=function(c){return u||(u=wR()),u(c,"body")},Io}const{ObjectSetPrototypeOf:yd,Symbol:_R}=de;var wd=Tt;const{ERR_METHOD_NOT_IMPLEMENTED:SR}=Fe.codes,oa=It(),{getHighWaterMark:mR}=$i;yd(Tt.prototype,oa.prototype);yd(Tt,oa);const un=_R("kCallback");function Tt(e){if(!(this instanceof Tt))return new Tt(e);const t=e?mR(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),oa.call(this,e),this._readableState.sync=!1,this[un]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",ER)}function gs(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function ER(){this._final!==gs&&gs.call(this)}Tt.prototype._final=gs;Tt.prototype._transform=function(e,t,r){throw new SR("_transform()")};Tt.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(a,d)=>{if(a){r(a);return}d!=null&&this.push(d),i.ended||o===n.length||n.length<n.highWaterMark?r():this[un]=r})};Tt.prototype._read=function(){if(this[un]){const e=this[un];this[un]=null,e()}};const{ObjectSetPrototypeOf:_d}=de;var Sd=Pr;const sa=wd;_d(Pr.prototype,sa.prototype);_d(Pr,sa);function Pr(e){if(!(this instanceof Pr))return new Pr(e);sa.call(this,e)}Pr.prototype._transform=function(e,t,r){r(null,e)};const sn=je,{ArrayIsArray:RR,Promise:AR,SymbolAsyncIterator:vR,SymbolDispose:$R}=de,Kn=jt,{once:IR}=De,TR=Ur,fu=It(),{aggregateTwoErrors:NR,codes:{ERR_INVALID_ARG_TYPE:ys,ERR_INVALID_RETURN_VALUE:To,ERR_MISSING_ARGS:CR,ERR_STREAM_DESTROYED:OR,ERR_STREAM_PREMATURE_CLOSE:PR},AbortError:DR}=Fe,{validateFunction:LR,validateAbortSignal:MR}=En,{isIterable:zt,isReadable:No,isReadableNodeStream:xn,isNodeStream:du,isTransformStream:mr,isWebStream:jR,isReadableStream:Co,isReadableFinished:kR}=Ot,FR=globalThis.AbortController||dt().AbortController;let Oo,Po,Do;function hu(e,t,r){let n=!1;e.on("close",()=>{n=!0});const i=Kn(e,{readable:t,writable:r},o=>{n=!o});return{destroy:o=>{n||(n=!0,TR.destroyer(e,o||new OR("pipe")))},cleanup:i}}function WR(e){return LR(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function Lo(e){if(zt(e))return e;if(xn(e))return UR(e);throw new ys("val",["Readable","Iterable","AsyncIterable"],e)}async function*UR(e){Po||(Po=Ii()),yield*Po.prototype[vR].call(e)}async function Ln(e,t,r,{end:n}){let i,o=null;const a=u=>{if(u&&(i=u),o){const c=o;o=null,c()}},d=()=>new AR((u,c)=>{i?c(i):o=()=>{i?c(i):u()}});t.on("drain",a);const f=Kn(t,{readable:!1},a);try{t.writableNeedDrain&&await d();for await(const u of e)t.write(u)||await d();n&&(t.end(),await d()),r()}catch(u){r(i!==u?NR(i,u):u)}finally{f(),t.off("drain",a)}}async function Mo(e,t,r,{end:n}){mr(t)&&(t=t.writable);const i=t.getWriter();try{for await(const o of e)await i.ready,i.write(o).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(o){try{await i.abort(o),r(o)}catch(a){r(a)}}}function xR(...e){return md(e,IR(WR(e)))}function md(e,t,r){if(e.length===1&&RR(e[0])&&(e=e[0]),e.length<2)throw new CR("streams");const n=new FR,i=n.signal,o=r==null?void 0:r.signal,a=[];MR(o,"options.signal");function d(){S(new DR)}Do=Do||De.addAbortListener;let f;o&&(f=Do(o,d));let u,c;const y=[];let p=0;function h(C){S(C,--p===0)}function S(C,E){var H;if(C&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=C),!(!u&&!E)){for(;y.length;)y.shift()(u);(H=f)===null||H===void 0||H[$R](),n.abort(),E&&(u||a.forEach(I=>I()),sn.nextTick(t,u,c))}}let w;for(let C=0;C<e.length;C++){const E=e[C],H=C<e.length-1,I=C>0,V=H||(r==null?void 0:r.end)!==!1,te=C===e.length-1;if(du(E)){let q=function(z){z&&z.name!=="AbortError"&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"&&h(z)};if(V){const{destroy:z,cleanup:ee}=hu(E,H,I);y.push(z),No(E)&&te&&a.push(ee)}E.on("error",q),No(E)&&te&&a.push(()=>{E.removeListener("error",q)})}if(C===0)if(typeof E=="function"){if(w=E({signal:i}),!zt(w))throw new To("Iterable, AsyncIterable or Stream","source",w)}else zt(E)||xn(E)||mr(E)?w=E:w=fu.from(E);else if(typeof E=="function"){if(mr(w)){var m;w=Lo((m=w)===null||m===void 0?void 0:m.readable)}else w=Lo(w);if(w=E(w,{signal:i}),H){if(!zt(w,!0))throw new To("AsyncIterable",`transform[${C-1}]`,w)}else{var $;Oo||(Oo=Sd);const q=new Oo({objectMode:!0}),z=($=w)===null||$===void 0?void 0:$.then;if(typeof z=="function")p++,z.call(w,x=>{c=x,x!=null&&q.write(x),V&&q.end(),sn.nextTick(h)},x=>{q.destroy(x),sn.nextTick(h,x)});else if(zt(w,!0))p++,Ln(w,q,h,{end:V});else if(Co(w)||mr(w)){const x=w.readable||w;p++,Ln(x,q,h,{end:V})}else throw new To("AsyncIterable or Promise","destination",w);w=q;const{destroy:ee,cleanup:K}=hu(w,!1,!0);y.push(ee),te&&a.push(K)}}else if(du(E)){if(xn(w)){p+=2;const q=BR(w,E,h,{end:V});No(E)&&te&&a.push(q)}else if(mr(w)||Co(w)){const q=w.readable||w;p++,Ln(q,E,h,{end:V})}else if(zt(w))p++,Ln(w,E,h,{end:V});else throw new ys("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],w);w=E}else if(jR(E)){if(xn(w))p++,Mo(Lo(w),E,h,{end:V});else if(Co(w)||zt(w))p++,Mo(w,E,h,{end:V});else if(mr(w))p++,Mo(w.readable,E,h,{end:V});else throw new ys("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],w);w=E}else w=fu.from(E)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&sn.nextTick(d),w}function BR(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new PR)}),e.pipe(t,{end:!1}),n){let o=function(){i=!0,t.end()};kR(e)?sn.nextTick(o):e.once("end",o)}else r();return Kn(e,{readable:!0,writable:!1},o=>{const a=e._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(o)}),Kn(t,{readable:!1,writable:!0},r)}var aa={pipelineImpl:md,pipeline:xR};const{pipeline:VR}=aa,Mn=It(),{destroyer:HR}=Ur,{isNodeStream:jn,isReadable:pu,isWritable:bu,isWebStream:jo,isTransformStream:Gt,isWritableStream:gu,isReadableStream:yu}=Ot,{AbortError:GR,codes:{ERR_INVALID_ARG_VALUE:wu,ERR_MISSING_ARGS:qR}}=Fe,JR=jt;var Ed=function(...t){if(t.length===0)throw new qR("streams");if(t.length===1)return Mn.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=Mn.from(t[0])),typeof t[t.length-1]=="function"){const h=t.length-1;t[h]=Mn.from(t[h])}for(let h=0;h<t.length;++h)if(!(!jn(t[h])&&!jo(t[h]))){if(h<t.length-1&&!(pu(t[h])||yu(t[h])||Gt(t[h])))throw new wu(`streams[${h}]`,r[h],"must be readable");if(h>0&&!(bu(t[h])||gu(t[h])||Gt(t[h])))throw new wu(`streams[${h}]`,r[h],"must be writable")}let n,i,o,a,d;function f(h){const S=a;a=null,S?S(h):h?d.destroy(h):!p&&!y&&d.destroy()}const u=t[0],c=VR(t,f),y=!!(bu(u)||gu(u)||Gt(u)),p=!!(pu(c)||yu(c)||Gt(c));if(d=new Mn({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(c!=null&&c.readableObjectMode),writable:y,readable:p}),y){if(jn(u))d._write=function(S,w,m){u.write(S,w)?m():n=m},d._final=function(S){u.end(),i=S},u.on("drain",function(){if(n){const S=n;n=null,S()}});else if(jo(u)){const w=(Gt(u)?u.writable:u).getWriter();d._write=async function(m,$,C){try{await w.ready,w.write(m).catch(()=>{}),C()}catch(E){C(E)}},d._final=async function(m){try{await w.ready,w.close().catch(()=>{}),i=m}catch($){m($)}}}const h=Gt(c)?c.readable:c;JR(h,()=>{if(i){const S=i;i=null,S()}})}if(p){if(jn(c))c.on("readable",function(){if(o){const h=o;o=null,h()}}),c.on("end",function(){d.push(null)}),d._read=function(){for(;;){const h=c.read();if(h===null){o=d._read;return}if(!d.push(h))return}};else if(jo(c)){const S=(Gt(c)?c.readable:c).getReader();d._read=async function(){for(;;)try{const{value:w,done:m}=await S.read();if(!d.push(w))return;if(m){d.push(null);return}}catch{return}}}}return d._destroy=function(h,S){!h&&a!==null&&(h=new GR),o=null,n=null,i=null,a===null?S(h):(a=S,jn(c)&&HR(c,h))},d};const KR=globalThis.AbortController||dt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:zR,ERR_INVALID_ARG_TYPE:Rn,ERR_MISSING_ARGS:YR,ERR_OUT_OF_RANGE:XR},AbortError:pt}=Fe,{validateAbortSignal:br,validateInteger:_u,validateObject:gr}=En,ZR=de.Symbol("kWeak"),QR=de.Symbol("kResistStopPropagation"),{finished:e0}=jt,t0=Ed,{addAbortSignalNoValidate:r0}=vi,{isWritable:n0,isNodeStream:i0}=Ot,{deprecate:o0}=De,{ArrayPrototypePush:s0,Boolean:a0,MathFloor:Su,Number:l0,NumberIsNaN:u0,Promise:mu,PromiseReject:Eu,PromiseResolve:c0,PromisePrototypeThen:Ru,Symbol:Rd}=de,zn=Rd("kEmpty"),Au=Rd("kEof");function f0(e,t){if(t!=null&&gr(t,"options"),(t==null?void 0:t.signal)!=null&&br(t.signal,"options.signal"),i0(e)&&!n0(e))throw new zR("stream",e,"must be writable");const r=t0(this,e);return t!=null&&t.signal&&r0(t.signal,r),r}function Ti(e,t){if(typeof e!="function")throw new Rn("fn",["Function","AsyncFunction"],e);t!=null&&gr(t,"options"),(t==null?void 0:t.signal)!=null&&br(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=Su(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=Su(t.highWaterMark)),_u(r,"options.concurrency",1),_u(n,"options.highWaterMark",0),n+=r,(async function*(){const o=De.AbortSignalAny([t==null?void 0:t.signal].filter(a0)),a=this,d=[],f={signal:o};let u,c,y=!1,p=0;function h(){y=!0,S()}function S(){p-=1,w()}function w(){c&&!y&&p<r&&d.length<n&&(c(),c=null)}async function m(){try{for await(let $ of a){if(y)return;if(o.aborted)throw new pt;try{if($=e($,f),$===zn)continue;$=c0($)}catch(C){$=Eu(C)}p+=1,Ru($,S,h),d.push($),u&&(u(),u=null),!y&&(d.length>=n||p>=r)&&await new mu(C=>{c=C})}d.push(Au)}catch($){const C=Eu($);Ru(C,S,h),d.push(C)}finally{y=!0,u&&(u(),u=null)}}m();try{for(;;){for(;d.length>0;){const $=await d[0];if($===Au)return;if(o.aborted)throw new pt;$!==zn&&(yield $),d.shift(),w()}await new mu($=>{u=$})}}finally{y=!0,c&&(c(),c=null)}}).call(this)}function d0(e=void 0){return e!=null&&gr(e,"options"),(e==null?void 0:e.signal)!=null&&br(e.signal,"options.signal"),(async function*(){let r=0;for await(const i of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new pt({cause:e.signal.reason});yield[r++,i]}}).call(this)}async function Ad(e,t=void 0){for await(const r of la.call(this,e,t))return!0;return!1}async function h0(e,t=void 0){if(typeof e!="function")throw new Rn("fn",["Function","AsyncFunction"],e);return!await Ad.call(this,async(...r)=>!await e(...r),t)}async function p0(e,t){for await(const r of la.call(this,e,t))return r}async function b0(e,t){if(typeof e!="function")throw new Rn("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i),zn}for await(const n of Ti.call(this,r,t));}function la(e,t){if(typeof e!="function")throw new Rn("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i)?n:zn}return Ti.call(this,r,t)}class g0 extends YR{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function y0(e,t,r){var n;if(typeof e!="function")throw new Rn("reducer",["Function","AsyncFunction"],e);r!=null&&gr(r,"options"),(r==null?void 0:r.signal)!=null&&br(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new pt(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await e0(this.destroy(u)),u}const o=new KR,a=o.signal;if(r!=null&&r.signal){const u={once:!0,[ZR]:this,[QR]:!0};r.signal.addEventListener("abort",()=>o.abort(),u)}let d=!1;try{for await(const u of this){var f;if(d=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new pt;i?t=await e(t,u,{signal:a}):(t=u,i=!0)}if(!d&&!i)throw new g0}finally{o.abort()}return t}async function w0(e){e!=null&&gr(e,"options"),(e==null?void 0:e.signal)!=null&&br(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new pt(void 0,{cause:e.signal.reason});s0(t,n)}return t}function _0(e,t){const r=Ti.call(this,e,t);return(async function*(){for await(const i of r)yield*i}).call(this)}function vd(e){if(e=l0(e),u0(e))return 0;if(e<0)throw new XR("number",">= 0",e);return e}function S0(e,t=void 0){return t!=null&&gr(t,"options"),(t==null?void 0:t.signal)!=null&&br(t.signal,"options.signal"),e=vd(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new pt;for await(const o of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new pt;e--<=0&&(yield o)}}).call(this)}function m0(e,t=void 0){return t!=null&&gr(t,"options"),(t==null?void 0:t.signal)!=null&&br(t.signal,"options.signal"),e=vd(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new pt;for await(const o of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new pt;if(e-- >0&&(yield o),e<=0)return}}).call(this)}Zs.streamReturningOperators={asIndexedPairs:o0(d0,"readable.asIndexedPairs will be removed in a future version."),drop:S0,filter:la,flatMap:_0,map:Ti,take:m0,compose:f0};Zs.promiseReturningOperators={every:h0,forEach:b0,reduce:y0,toArray:w0,some:Ad,find:p0};var ko,vu;function $d(){if(vu)return ko;vu=1;const{ArrayPrototypePop:e,Promise:t}=de,{isIterable:r,isNodeStream:n,isWebStream:i}=Ot,{pipelineImpl:o}=aa,{finished:a}=jt;Id();function d(...f){return new t((u,c)=>{let y,p;const h=f[f.length-1];if(h&&typeof h=="object"&&!n(h)&&!r(h)&&!i(h)){const S=e(f);y=S.signal,p=S.end}o(f,(S,w)=>{S?c(S):u(w)},{signal:y,end:p})})}return ko={finished:a,pipeline:d},ko}var $u;function Id(){if($u)return So.exports;$u=1;const{Buffer:e}=Ce,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=de,{promisify:{custom:i}}=De,{streamReturningOperators:o,promiseReturningOperators:a}=Zs,{codes:{ERR_ILLEGAL_CONSTRUCTOR:d}}=Fe,f=Ed,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:c}=$i,{pipeline:y}=aa,{destroyer:p}=Ur,h=jt,S=$d(),w=Ot,m=So.exports=na.Stream;m.isDestroyed=w.isDestroyed,m.isDisturbed=w.isDisturbed,m.isErrored=w.isErrored,m.isReadable=w.isReadable,m.isWritable=w.isWritable,m.Readable=Ii();for(const C of r(o)){let H=function(...I){if(new.target)throw d();return m.Readable.from(n(E,this,I))};const E=o[C];t(H,"name",{__proto__:null,value:E.name}),t(H,"length",{__proto__:null,value:E.length}),t(m.Readable.prototype,C,{__proto__:null,value:H,enumerable:!1,configurable:!0,writable:!0})}for(const C of r(a)){let H=function(...I){if(new.target)throw d();return n(E,this,I)};const E=a[C];t(H,"name",{__proto__:null,value:E.name}),t(H,"length",{__proto__:null,value:E.length}),t(m.Readable.prototype,C,{__proto__:null,value:H,enumerable:!1,configurable:!0,writable:!0})}m.Writable=ia(),m.Duplex=It(),m.Transform=wd,m.PassThrough=Sd,m.pipeline=y;const{addAbortSignal:$}=vi;return m.addAbortSignal=$,m.finished=h,m.destroy=p,m.compose=f,m.setDefaultHighWaterMark=u,m.getDefaultHighWaterMark=c,t(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return S}}),t(y,i,{__proto__:null,enumerable:!0,get(){return S.pipeline}}),t(h,i,{__proto__:null,enumerable:!0,get(){return S.finished}}),m.Stream=m,m._isUint8Array=function(E){return E instanceof Uint8Array},m._uint8ArrayToBuffer=function(E){return e.from(E.buffer,E.byteOffset,E.byteLength)},So.exports}(function(e){const t=Id(),r=$d(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(kf);var E0=kf.exports;const Yt={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord",EMAIL_PASSWORDLESS:"torus-auth0-email-passwordless"},Iu={[Yt.GOOGLE]:"tkey-google",[Yt.FACEBOOK]:"tkey-facebook",[Yt.TWITCH]:"tkey-twitch",[Yt.REDDIT]:"tkey-reddit",[Yt.DISCORD]:"tkey-discord",[Yt.EMAIL_PASSWORDLESS]:"tkey-auth0-email-passwordless"},ce={MOONPAY:"moonpay",WYRE:"wyre",RAMPNETWORK:"rampnetwork",XANPOOL:"xanpool",MERCURYO:"mercuryo",TRANSAK:"transak",BANXA:"banxa"},oe={MAINNET:"mainnet",MATIC:"matic",BSC_MAINNET:"bsc_mainnet",AVALANCHE_MAINNET:"avalanche_mainnet",XDAI:"xdai",ARBITRUM_MAINNET:"arbitrum_mainnet",OPTIMISM_MAINNET:"optimism_mainnet"},R0={PRODUCTION:"production",DEVELOPMENT:"development",BINANCE:"binance",TESTING:"testing",LRC:"lrc",BETA:"beta",BNB:"bnb",POLYGON:"polygon",ALPHA:"alpha"},_r={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},A0=["ETH","USDT","USDC","TUSD","EOSDT","USD","DAI","GUSD","DKKT","PAX","ILS","RUB","BYN","EUR","GBP","JPY","KRW","PLN","MXN","AUD","BRL","CAD","CHF","KPW","LAK","LBP","LKR","XOF","CNHT","DOGE","UAH","TRY","HKD","XJP","SGD","USC","NZD","NGN","RUR","COP","GHS","EGP","IDR","BHD","CRC","PEN","AED","DOP","PKR","HUF","VND","XAR","LTC","RON","OMR","MYR","DKK","UGX","ZMW","SAR","SEK","GEL","RWF","IRR","TZS","CNY","VEF","BDT","HRK","CLP","THB","XAF","ARS","UYU","SZL","KZT","NOK","KES","PAB","INR","CZK","MAD","TWD","PHP","ZAR","BOB","CDF","DASH","VES","ISK","MWK","BAM","TTD","XRP","JOD","RSD","HNL","BGN","GTQ","BWP","XMR","MMK","QAR","AOA","KWD","MUR","WUSD","WEUR","WAVES","WTRY","LRD","LSL","LYD","AWG","MDL","BTO","EURS","CHFT","MKD","MNT","MOP","MRO","MVR","VOLLAR","CKUSD","KHR","VUV","BITCNY","QC","BBD","NAD","NPR","PGK","PYG","BIF","BMD","BND","XLM","BNB","SCR","BAT","CRO","HT","KCS","LEO","LINK","MKR","NPXS","OMG","REP","ZB","ZIL","ZRX","BCH","BZD","CUP","CVE","DJF","DZD","ERN","ETB","FJD","FKP","BUSD","ANCT","ALL","AMD","ANG","CNYX","IQD","UZS","TND","GGP","XAU","KGS","GIP","JMD","ZEC","USDP","BSV","EMC2","SNT","GTO","POWR","EUSD","EURT","BCY","BTS","ATM","BLOCKPAY","ARDR","AMP","B2X","BITGOLD","BITEUR","ATB","BITUSD","AGRS","DFXT","HIKEN","BIX","KNC","EOS","COB","COSS","BMH","NANO","BDG","BNT","XVG","LKK1Y","LKK","USDK","EURN","NZDT","JSE","GMD","GNF","GYD","YER","XPF","HTG","SLL","SOS","WST","SVC","SYP","NEO","KMF","JUMP","AYA","BLAST","WGR","BCN","BTG","URALS","INN","USDQ","CNH","HUSD","BKRW","NZDX","EURX","CADX","USDEX","JPYX","AUDX","VNDC","EON","GBPX","CHFX","USDJ","IDRT","USDS","USDN","BIDR","IDK","BSD","BTN","KYD","NIO","SBD","SDG","SHP","TOP","XCD","XCHF","CNYT","GYEN","ZUSD","GOLD","TRX","TRYB","PLATC","STRAX","UST","GLM","VAI","BRZ","DDRST","XAUT","MIM"],v0={[ce.MOONPAY]:["AUD","BGN","BRL","CAD","CHF","CNY","COP","CZK","DKK","DOP","EGP","EUR","GBP","HKD","HRK","IDR","ILS","JPY","JOD","KES","KRW","KWD","LKR","MAD","MXN","MYR","NGN","NOK","NZD","OMR","PEN","PKR","PLN","RON","RUB","SEK","SGD","THB","TRY","TWD","USD","VND","ZAR"],[ce.WYRE]:["USD","EUR","GBP","AUD","CAD","NZD","CNY","ARS","BRL","CHF","CLP","COP","CZK","DKK","HKD","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","PHP","PLN","SEK","SGD","THB","VND","ZAR"],[ce.RAMPNETWORK]:["USD","EUR","GBP","BMD","BAM","BWP","BRL","BGN","COP","CRC","CZK","DKK","DOP","GEL","GTQ","HNL","HUF","ISK","INR","ILS","KZT","KES","KWD","LAK","MKD","MYR","MXN","MDL","MZN","NZD","NGN","PYG","PEN","PLN","RON","RSD","SGD","ZAR","LKR","SEK","CHF","TJS","THB","UYU"],[ce.XANPOOL]:["SGD","HKD","THB","PHP","INR","IDR","MYR","AUD","NZD","KRW"],[ce.MERCURYO]:["EUR","USD","GBP","TRY","JPY","BRL","NGN","VND","MXN","KRW","PLN","SEK","CHF","CAD","CZK","DKK","BGN","HKD","AUD","INR"],[ce.TRANSAK]:["ARS","AUD","BBD","BGN","BMD","BRL","CAD","CHF","CLP","CRC","CZK","DKK","DOP","EUR","FJD","FKP","GBP","GIP","HRK","HUF","IDR","ILS","ISK","JMD","JPY","KES","KRW","MDL","MXN","MYR","NOK","NZD","PEN","PHP","PLN","PYG","RON","SEK","SGD","THB","TRY","TZS","USD","ZAR"],[ce.BANXA]:["AUD","CAD","CZK","DKK","EUR","GBP","HKD","JPY","NOK","NZD","NZD","PLN","RUB","SEK","SGD","TRY","USD"]},$0=new Set(A0);function qt(e){return v0[e].filter(r=>$0.has(r))}const I0={[ce.MOONPAY]:{line1:"Credit/ Debit Card/ Apple Pay",line2:"4.5% or 5 USD",line3:"2,000€/day, 10,000€/mo",supportPage:"https://help.moonpay.io/en/",minOrderValue:24.99,maxOrderValue:5e4,validCurrencies:qt(ce.MOONPAY),validCryptoCurrenciesByChain:{[oe.MAINNET]:[{value:"aave",display:"AAVE"},{value:"bat",display:"BAT"},{value:"dai",display:"DAI"},{value:"eth",display:"ETH"},{value:"mkr",display:"MKR"},{value:"matic",display:"MATIC"},{value:"usdt",display:"USDT"},{value:"uni",display:"UNI"},{value:"usdc",display:"USDC"},{value:"weth",display:"WETH"}],[oe.MATIC]:[{value:"eth_polygon",display:"ETH"},{value:"matic_polygon",display:"MATIC"},{value:"usdc_polygon",display:"USDC"},{value:"usdt_polygon",display:"USDT"}],[oe.BSC_MAINNET]:[{value:"bnb_bsc",display:"BNB"},{value:"busd_bsc",display:"BUSD"}],[oe.AVALANCHE_MAINNET]:[{value:"avax_cchain",display:"AVAX"},{value:"usdc_cchain",display:"USDC"}],[oe.ARBITRUM_MAINNET]:[{value:"eth_arbitrum",display:"ETH"},{value:"usdc_arbitrum",display:"USDC"}],[oe.OPTIMISM_MAINNET]:[{value:"eth_optimism",display:"ETH"},{value:"usdc_optimism",display:"USDC"}]},includeFees:!0,api:!0,enforceMax:!1},[ce.WYRE]:{line1:"Apple Pay/ Debit/ Credit Card",line2:"4.9% + 30¢ or 5 USD",line3:"$250/day",supportPage:"https://support.sendwyre.com/en/",minOrderValue:5,maxOrderValue:500,validCurrencies:qt(ce.WYRE),validCryptoCurrenciesByChain:{[oe.MAINNET]:[{value:"AAVE",display:"AAVE"},{value:"COMP",display:"COMP"},{value:"BAT",display:"BAT"},{value:"BUSD",display:"BUSD"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"WBTC",display:"WBTC"},{value:"MKR",display:"MKR"},{value:"UNI",display:"UNI"},{value:"WETH",display:"WETH"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[oe.MATIC]:[{value:"mUSDC",display:"USDC"},{value:"MATIC",display:"MATIC"},{value:"MWETH",display:"WETH"}],[oe.AVALANCHE_MAINNET]:[{value:"AVAXC",display:"AVAX"},{value:"AVAXCUSDC",display:"USDC"}],[oe.BSC_MAINNET]:[{value:"BNB",display:"BNB"},{value:"BBUSD",display:"BUSD"}]},includeFees:!1,api:!0,enforceMax:!1},[ce.RAMPNETWORK]:{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000€/purchase, 20,000€/mo",supportPage:"https://instant.ramp.network/",minOrderValue:50,maxOrderValue:2e4,validCurrencies:qt(ce.RAMPNETWORK),validCryptoCurrenciesByChain:{[oe.MAINNET]:[{value:"ETH",display:"ETH"},{value:"DAI",display:"DAI"},{value:"BAT",display:"BAT"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[oe.MATIC]:[{value:"MATIC_BAT",display:"BAT"},{value:"MATIC_DAI",display:"DAI"},{value:"MATIC_MATIC",display:"MATIC"},{value:"MATIC_USDC",display:"USDC"},{value:"MATIC_USDT",display:"USDT"}],[oe.AVALANCHE_MAINNET]:[{value:"AVAX_AVAX",display:"AVAX"},{value:"AVAX_USDC",display:"USDC"},{value:"AVAX_USDT",display:"USDT"}],[oe.ARBITRUM_MAINNET]:[{value:"ARBITRUM_ETH",display:"ETH"},{value:"ARBITRUM_USDC.e	",display:"USDC"},{value:"ARBITRUM_USDT",display:"USDT"}],[oe.OPTIMISM_MAINNET]:[{value:"OPTIMISM_DAI",display:"DAI"},{value:"OPTIMISM_OPTIMISM",display:"OPTIMISM"},{value:"OPTIMISM_USDC",display:"USDC"},{value:"OPTIMISM_USDT",display:"USDT"}],[oe.BSC_MAINNET]:[{value:"BSC_BNB",display:"BNB"},{value:"BSC_BUSD",display:"BUSD"}]},includeFees:!0,api:!0,receiveHint:"walletTopUp.receiveHintRamp",enforceMax:!1},[ce.XANPOOL]:{line1:"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ <br>ViettelPay/ DuitNow",line2:"2.5% buying, 3% selling",line3:"$2,500 / day",supportPage:"mailto:support@xanpool.com",minOrderValue:100,maxOrderValue:2500,validCurrencies:qt(ce.XANPOOL),validCryptoCurrenciesByChain:{[oe.MAINNET]:[{value:"ETH",display:"ETH"},{value:"USDT",display:"USDT"},{value:"USDC",display:"USDC"}]},includeFees:!0,api:!0,sell:!0,enforceMax:!1},[ce.MERCURYO]:{line1:"Credit/ Debit Card/ Apple Pay",line2:"3.95% or 4 USD",line3:"10,000€/day, 25,000€/mo",supportPage:"mailto:support@mercuryo.io",minOrderValue:30,maxOrderValue:5e3,validCurrencies:qt(ce.MERCURYO),validCryptoCurrenciesByChain:{[oe.MAINNET]:[{value:"ETH",display:"ETH"},{value:"BAT",display:"BAT"},{value:"USDT",display:"USDT"},{value:"DAI",display:"DAI"}],[oe.BSC_MAINNET]:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"},{value:"1INCH",display:"1INCH"}],[oe.AVALANCHE_MAINNET]:[{value:"AVAX",display:"AVAX"}],[oe.MATIC]:[{value:"MATIC",display:"MATIC"}]},includeFees:!0,api:!0,enforceMax:!1},[ce.TRANSAK]:{line1:"Apple & Google Pay / Credit/Debit Card<br/>Bangkok Bank Mobile & iPay<br/>Bank Transfer (sepa/gbp) / SCB Mobile & Easy",line2:"0.99% - 5.5% or 5 USD",line3:"$5,000/day, $28,000/mo",supportPage:"https://support.transak.com/hc/en-US",minOrderValue:30,maxOrderValue:500,validCurrencies:qt(ce.TRANSAK),validCryptoCurrenciesByChain:{[oe.MAINNET]:[{value:"1INCH",display:"1INCH"},{value:"BAT",display:"BAT"},{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[oe.MATIC]:[{value:"BAT",display:"BAT"},{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"MATIC",display:"MATIC"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"},{value:"WETH",display:"WETH"}],[oe.BSC_MAINNET]:[{value:"BAT",display:"BAT"},{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"}],[oe.AVALANCHE_MAINNET]:[{value:"AVAX",display:"AVAX"}],[oe.OPTIMISM_MAINNET]:[{value:"ETH",display:"ETH"},{value:"USDC",display:"USDC"}],[oe.ARBITRUM_MAINNET]:[{value:"USDC",display:"USDC"},{value:"ETH",display:"ETH"}]},includeFees:!0,enforceMax:!0},[ce.BANXA]:{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000€/purchase, 20,000€/mo",supportPage:"https://support.banxa.com",minOrderValue:20,maxOrderValue:15e3,validCurrencies:qt(ce.BANXA),validCryptoCurrenciesByChain:{[oe.MAINNET]:[{value:"ETH",display:"ETH"},{value:"DAI",display:"DAI"},{value:"MKR",display:"MKR"},{value:"USDT",display:"USDT"},{value:"BUSD",display:"BUSD"},{value:"USDC",display:"USDC"},{value:"BAT",display:"BAT"},{value:"AAVE",display:"AAVE"},{value:"COMP",display:"COMP"},{value:"UNI",display:"UNI"}],[oe.MATIC]:[{value:"MATIC",display:"MATIC"}]},includeFees:!0,enforceMax:!0}},T0={en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies benötigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"継続する",actionRequired:"認証が必要です",pendingAction:"続行をクリックして、ポップアップでリクエストを続行します",cookiesRequired:"必要なクッキー",enableCookies:"Torusにアクセスするには、ブラウザの設定でCookieを有効にしてください。",clickHere:"詳しくは"}},ko:{embed:{continue:"계속하다",actionRequired:"승인 필요",pendingAction:"팝업에서 요청을 진행하려면 계속을 클릭하십시오.",cookiesRequired:"쿠키 필요",enableCookies:"브라우저 환경 설정에서 쿠키를 활성화하여 Torus에 액세스하십시오.",clickHere:"더 많은 정보"}},zh:{embed:{continue:"继续",actionRequired:"需要授权",pendingAction:"单击继续以在弹出窗口中继续您的请求",cookiesRequired:"必填Cookie",enableCookies:"请在您的浏览器首选项中启用cookie以访问Torus。",clickHere:"更多信息"}}};var lt={supportedVerifierList:Object.values(Yt),paymentProviders:I0,api:"https://api.tor.us",translations:T0,prodTorusUrl:"",localStorageKeyPrefix:"torus-"};const nn=e=>{const t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild},rt=(e,t,r)=>{const n=i=>{r(i),e.removeListener(t,n)};e.on(t,n)};var ae=Gu.getLogger("torus-embed"),Te={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",sendSiteMetadata:()=>"Torus: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:(e,t)=>`Invalid options. Received: { maxEventListeners: ${e}, shouldSendMetadata: ${t} }`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`Torus: Connected to chain with ID "${e}".`},warnings:{enableDeprecation:'Torus: ""ethereum.enable()" is deprecated and may be removed in the future. Please use "ethereum.send("eth_requestAccounts")" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',sendDeprecation:`Torus: "ethereum.send(...)" is deprecated and may be removed in the future. Please use "ethereum.sendAsync(...)" or "ethereum.request(...)" instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`Torus: The event "close" is deprecated and may be removed in the future. Please use "disconnect" instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,data:`Torus: The event "data" is deprecated and will be removed in the future.Use "message" instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`Torus: The event "networkChanged" is deprecated and may be removed in the future. Please use "chainChanged" instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,notification:`Torus: The event "notification" is deprecated and may be removed in the future. Please use "message" instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`},publicConfigStore:'Torus: The property "publicConfigStore" is deprecated and WILL be removed in the future.'}};function Tu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tu(Object(r),!0).forEach(function(n){G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}class N0 extends mn{constructor(t){super(),G(this,"_state",void 0),t===void 0?this._state={}:this._state=t}getState(){return this._getState()}putState(t){this._putState(t),this.emit("update",t)}updateState(t){if(t&&typeof t=="object"){const r=this.getState();this.putState(Nu(Nu({},r),t))}else this.putState(t)}subscribe(t){this.on("update",t)}unsubscribe(t){this.removeListener("update",t)}_getState(){return this._state}_putState(t){this._state=t}}class C0 extends E0.Duplex{constructor(t){super({objectMode:!0}),G(this,"handler",void 0),G(this,"obsStore",void 0),this.resume(),this.handler=r=>this.push(r),this.obsStore=t,this.obsStore.subscribe(this.handler)}pipe(t,r){const n=super.pipe(t,r);return t.write(this.obsStore.getState()),n}_write(t,r,n){this.obsStore.putState(t),n()}_read(t){}_destroy(t,r){this.obsStore.unsubscribe(this.handler),super._destroy(t,r)}}function O0(e){return new C0(e)}function Cu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cu(Object(r),!0).forEach(function(n){G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const{paymentProviders:Pu}=lt,P0=(e,t)=>{const r={};if(!e)return{errors:r,isValid:!0};if(e&&!Pu[e])return r.provider="Invalid Provider",{errors:r,isValid:Object.keys(r).length===0};const n=Pu[e],i=t||{};if(i.fiatValue){const o=+parseFloat(i.fiatValue.toString())||0;o<n.minOrderValue&&(r.fiatValue="Requested amount is lower than supported"),o>n.maxOrderValue&&n.enforceMax&&(r.fiatValue="Requested amount is higher than supported")}if(i.selectedCurrency&&!n.validCurrencies.includes(i.selectedCurrency)&&(r.selectedCurrency="Unsupported currency"),i.selectedCryptoCurrency){const o=Object.values(n.validCryptoCurrenciesByChain).flat().map(d=>d.value),a=e===ce.MOONPAY?i.selectedCryptoCurrency.toLowerCase():i.selectedCryptoCurrency;o&&!o.includes(a)&&(r.selectedCryptoCurrency="Unsupported cryptoCurrency")}return{errors:r,isValid:Object.keys(r).length===0}};function D0(){return(e,t,r)=>{(typeof e.method!="string"||!e.method)&&(t.error=Rt.rpcErrors.invalidRequest({message:"The request 'method' must be a non-empty string.",data:Ou(Ou({},e||{}),{},{cause:"The request 'method' must be a non-empty string."})})),r(n=>{const{error:i}=t;return i&&ae.error(`MetaMask - RPC Error: ${i.message}`,i),n()})}}function Du(e,t,r){let n=`MetaMask: Lost connection to "${e}".`;t!=null&&t.stack&&(n+=`
${t.stack}`),ae.warn(n),r&&r.listenerCount("error")>0&&r.emit("error",n)}const Xt=()=>Math.random().toString(36).slice(2),Td=async(e,t)=>{let r,n;const i="2.2.9";let o=t.version||i;try{if((e==="binance"||e==="production")&&!t.version){let a;lt.prodTorusUrl?a={data:lt.prodTorusUrl}:a=await qu(`${lt.api}/latestversion?name=@toruslabs/torus-embed&version=${i}`,{},{useAPIKey:!0}),o=a.data,lt.prodTorusUrl=a.data}}catch(a){ae.error(a,"unable to fetch latest version")}switch(ae.info("version used: ",o),e){case"binance":r=`https://binance.tor.us/v${o}`,n="info";break;case"testing":r="https://testing.tor.us",n="debug";break;case"bnb":r="https://bnb.tor.us",n="error";break;case"polygon":r="https://polygon.tor.us",n="error";break;case"lrc":r="https://lrc.tor.us",n="debug";break;case"beta":r="https://beta.tor.us",n="debug";break;case"development":r="http://localhost:4050",n="debug";break;case"alpha":r="https://alpha.tor.us",n="debug";break;default:r=`https://app.tor.us/v${o}`,n="error";break}return{torusUrl:r,logLevel:n}},Lu=()=>{let e=window.navigator.language||"en-US";const t=e.split("-");return e=Object.prototype.hasOwnProperty.call(lt.translations,t[0])?t[0]:"en",e},L0=["eth_subscription"],Nd=()=>{},Mu="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375",M0="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315",ju="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450";function j0(){const e=window.screenLeft!==void 0?window.screenLeft:window.screenX,t=window.screenTop!==void 0?window.screenTop:window.screenY,r=1200,n=700,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,a=1,d=Math.abs((i-r)/2/a+e),f=Math.abs((o-n)/2/a+t);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${n/a},width=${r/a},top=${f},left=${d}`}function ku(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ku(Object(r),!0).forEach(function(n){G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ku(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}mn.defaultMaxListeners=100;const Fu=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(n,i)=>n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)};class Ni extends mn{constructor(t){let{maxEventListeners:r=100,shouldSendMetadata:n=!0,jsonRpcStreamName:i="provider"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(super(),G(this,"chainId",void 0),G(this,"selectedAddress",void 0),G(this,"_rpcEngine",void 0),G(this,"networkVersion",void 0),G(this,"shouldSendMetadata",void 0),G(this,"isTorus",void 0),G(this,"_publicConfigStore",void 0),G(this,"tryPreopenHandle",void 0),G(this,"enable",void 0),G(this,"_state",void 0),G(this,"_jsonRpcConnection",void 0),G(this,"_sentWarnings",{enable:!1,experimentalMethods:!1,send:!1,publicConfigStore:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}}),!pm.duplex(t))throw new Error(Te.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(r),this._state=Jt({},Ni._defaultState),this.selectedAddress=null,this.networkVersion=null,this.chainId=null,this.shouldSendMetadata=n,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._sendSync=this._sendSync.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this);const o=new jf;Un(t,o,t,this._handleStreamDisconnect.bind(this,"MetaMask")),this._publicConfigStore=new N0({storageKey:"Metamask-Config"}),Un(o.createStream("publicConfig"),O0(this._publicConfigStore),Du.bind(this,"MetaMask PublicConfigStore")),o.ignoreStream("phishing"),this.on("connect",()=>{this._state.isConnected=!0});const a=sm();Un(a.stream,o.createStream(i),a.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const d=new mt;d.push(am()),d.push(D0()),d.push(a.middleware),this._rpcEngine=d,a.events.on("notification",f=>{const{method:u,params:c}=f;u==="wallet_accountsChanged"?this._handleAccountsChanged(c):u==="wallet_unlockStateChanged"?this._handleUnlockStateChanged(c):u==="wallet_chainChanged"?this._handleChainChanged(c):L0.includes(f.method)&&(this.emit("data",f),this.emit("notification",c.result),this.emit("message",{type:u,data:c}))})}get publicConfigStore(){return this._sentWarnings.publicConfigStore||(ae.warn(Te.warnings.publicConfigStore),this._sentWarnings.publicConfigStore=!0),this._publicConfigStore}isConnected(){return this._state.isConnected}async request(t){if(!t||typeof t!="object"||Array.isArray(t))throw Rt.rpcErrors.invalidRequest({message:Te.errors.invalidRequestArgs(),data:Jt(Jt({},t||{}),{},{cause:Te.errors.invalidRequestArgs()})});const{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw Rt.rpcErrors.invalidRequest({message:Te.errors.invalidRequestMethod(),data:Jt(Jt({},t||{}),{},{cause:Te.errors.invalidRequestArgs()})});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Rt.rpcErrors.invalidRequest({message:Te.errors.invalidRequestParams(),data:Jt(Jt({},t||{}),{},{cause:Te.errors.invalidRequestArgs()})});return new Promise((i,o)=>{this._rpcRequest({method:r,params:n},Fu(i,o))})}sendAsync(t,r){this._rpcRequest(t,r)}addListener(t,r){return this._warnOfDeprecation(t),super.addListener(t,r)}on(t,r){return this._warnOfDeprecation(t),super.on(t,r)}once(t,r){return this._warnOfDeprecation(t),super.once(t,r)}prependListener(t,r){return this._warnOfDeprecation(t),super.prependListener(t,r)}prependOnceListener(t,r){return this._warnOfDeprecation(t),super.prependOnceListener(t,r)}async _initializeState(){try{const{accounts:t,chainId:r,isUnlocked:n,networkVersion:i}=await this.request({method:"wallet_getProviderState"});this.emit("connect",{chainId:r}),this._handleChainChanged({chainId:r,networkVersion:i}),this._handleUnlockStateChanged({accounts:t,isUnlocked:n}),this._handleAccountsChanged(t)}catch(t){ae.error("MetaMask: Failed to get initial state. Please report this bug.",t)}finally{ae.info("initialized state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=r;const o=t;if(!Array.isArray(o)){if(o.jsonrpc||(o.jsonrpc="2.0"),o.method==="eth_accounts"||o.method==="eth_requestAccounts")i=(a,d)=>{this._handleAccountsChanged(d.result||[],o.method==="eth_accounts",n),r(a,d)};else if(o.method==="wallet_getProviderState"){this._rpcEngine.handle(t,i);return}}this.tryPreopenHandle(o,i)}send(t,r){return this._sentWarnings.send||(ae.warn(Te.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof t=="string"&&(!r||Array.isArray(r))?new Promise((n,i)=>{try{this._rpcRequest({method:t,params:r},Fu(n,i,!1))}catch(o){i(o)}}):t&&typeof t=="object"&&typeof r=="function"?this._rpcRequest(t,r):this._sendSync(t)}_sendSync(t){let r;switch(t.method){case"eth_accounts":r=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":r=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(t,Nd),r=!0;break;case"net_version":r=this.networkVersion||null;break;default:throw new Error(Te.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:r}}_handleConnect(t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:t}),ae.debug(Te.info.connected(t)))}_handleDisconnect(t,r){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!t){this._state.isConnected=!1;let n;t?(n=new Rt.EthereumProviderError(1013,r||Te.errors.disconnected()),ae.debug(n)):(n=new Rt.EthereumProviderError(1011,r||Te.errors.permanentlyDisconnected()),ae.error(n),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}_handleStreamDisconnect(t,r){Du(t,r,this),this._handleDisconnect(!1,r?r.message:void 0)}_handleAccountsChanged(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=t;Array.isArray(i)||(ae.error("MetaMask: Received non-array accounts parameter. Please report this bug.",i),i=[]);for(const o of t)if(typeof o!="string"){ae.error("MetaMask: Received non-string account. Please report this bug.",t),i=[];break}hm(this._state.accounts,i)||(r&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!n&&ae.error('MetaMask: "eth_accounts" unexpectedly updated accounts. Please report this bug.',i),this._state.accounts=i,this.emit("accountsChanged",i)),this.selectedAddress!==i[0]&&(this.selectedAddress=i[0]||null)}_handleChainChanged(){let{chainId:t,networkVersion:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!t||!r){ae.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:t,networkVersion:r});return}r==="loading"?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit("chainChanged",this.chainId)))}_handleUnlockStateChanged(){let{accounts:t,isUnlocked:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof r!="boolean"){ae.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:r});return}r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(t||[]))}_warnOfDeprecation(t){this._sentWarnings.events[t]===!1&&(ae.warn(Te.warnings.events[t]),this._sentWarnings.events[t]=!0)}}G(Ni,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});class Wu extends bt.EventEmitter{constructor(t){let{url:r,target:n,features:i}=t;super(),G(this,"url",void 0),G(this,"target",void 0),G(this,"features",void 0),G(this,"window",void 0),G(this,"windowTimer",void 0),G(this,"iClosedWindow",void 0),this.url=r,this.target=n||"_blank",this.features=i||j0(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var t;this.window=window.open(this.url.href,this.target,this.features),(t=this.window)!==null&&t!==void 0&&t.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(t){t?window.location.replace(this.url.href):window.location.href=this.url.href}}function Uu(e){return new Promise((t,r)=>{try{const n=document.createElement("img");n.onload=()=>t(!0),n.onerror=()=>t(!1),n.src=e}catch(n){r(n)}})}const k0=e=>{const{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};async function F0(e){const{document:t}=e;let r=t.querySelector('head > link[rel="shortcut icon"]');return r&&await Uu(r.href)||(r=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(n=>!!n.href),r&&await Uu(r.href))?r.href:null}const W0=async()=>({name:k0(window),icon:await F0(window)});async function U0(e){try{const t=await W0();e.handle({jsonrpc:"2.0",id:Xt(),method:"wallet_sendDomainMetadata",params:t},Nd)}catch(t){ae.error({message:Te.errors.sendSiteMetadata(),originalError:t})}}const x0=["host","chainId","networkName"];function xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xu(Object(r),!0).forEach(function(n){G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const V0=["eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","eth_getEncryptionPublicKey","eth_decrypt","wallet_addEthereumChain","wallet_switchEthereumChain"];(async function(){try{if(typeof document>"u")return;const t=document.createElement("link"),{torusUrl:r}=await Td("production",{version:""});t.href=`${r}/popup`,t.crossOrigin="anonymous",t.type="text/html",t.rel="prefetch",t.relList&&t.relList.supports&&t.relList.supports("prefetch")&&document.head.appendChild(t)}catch(t){ae.warn(t)}})();class X0{constructor(){let{buttonPosition:t=_r.BOTTOM_LEFT,buttonSize:r=56,modalZIndex:n=99999,apiKey:i="torus-default"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};G(this,"buttonPosition",_r.BOTTOM_LEFT),G(this,"buttonSize",void 0),G(this,"torusUrl",void 0),G(this,"torusIframe",void 0),G(this,"styleLink",void 0),G(this,"isLoggedIn",void 0),G(this,"isInitialized",void 0),G(this,"torusWidgetVisibility",void 0),G(this,"torusAlert",void 0),G(this,"apiKey",void 0),G(this,"modalZIndex",void 0),G(this,"alertZIndex",void 0),G(this,"torusAlertContainer",void 0),G(this,"isIframeFullScreen",void 0),G(this,"whiteLabel",void 0),G(this,"requestedVerifier",void 0),G(this,"currentVerifier",void 0),G(this,"embedTranslations",void 0),G(this,"ethereum",void 0),G(this,"provider",void 0),G(this,"communicationMux",void 0),G(this,"isLoginCallback",void 0),G(this,"paymentProviders",lt.paymentProviders),G(this,"loginHint",""),G(this,"useWalletConnect",void 0),G(this,"isCustomLogin",!1),this.buttonPosition=t,this.buttonSize=r,this.torusUrl="",this.isLoggedIn=!1,this.isInitialized=!1,this.torusWidgetVisibility=!0,this.requestedVerifier="",this.currentVerifier="",this.apiKey=i,jd(i),this.modalZIndex=n,this.alertZIndex=n+1e3,this.isIframeFullScreen=!1}async init(){let{buildEnv:t=R0.PRODUCTION,enableLogging:r=!1,network:n={host:"mainnet",chainId:null,networkName:"",blockExplorer:"",ticker:"",tickerName:""},loginConfig:i={},showTorusButton:o=!0,integrity:a={version:""},whiteLabel:d,useWalletConnect:f=!1,mfaLevel:u="default"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.isInitialized)throw new Error("Already initialized");const{torusUrl:c,logLevel:y}=await Td(t,a);ae.info(c,"url loaded"),this.torusUrl=c,this.whiteLabel=d,this.useWalletConnect=f,this.isCustomLogin=!!(i&&Object.keys(i).length>0)||!!(d&&Object.keys(d).length>0),ae.setDefaultLevel(y),r?ae.enableAll():ae.disableAll(),this.torusWidgetVisibility=o;const p=new URL(c);p.pathname.endsWith("/")?p.pathname+="popup":p.pathname+="/popup",p.hash=`#isCustomLogin=${this.isCustomLogin}`,this.torusIframe=nn(`<iframe
        id="torusIframe"
        allow=${f?"camera":""}
        class="torusIframe"
        src="${p.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%; color-scheme: none;
        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex}"
      ></iframe>`),this.torusAlertContainer=nn('<div id="torusAlertContainer"></div>'),this.torusAlertContainer.style.display="none",this.torusAlertContainer.style.setProperty("z-index",this.alertZIndex.toString());const h=window.document.createElement("link");h.setAttribute("rel","stylesheet"),h.setAttribute("type","text/css"),h.setAttribute("href",`${c}/css/widget.css`),this.styleLink=h;const{defaultLanguage:S=Lu(),customTranslations:w={}}=this.whiteLabel||{},$=Bu(lt.translations,w)[S]||lt.translations[Lu()];return this.embedTranslations=$.embed,new Promise((C,E)=>{this.torusIframe.onload=async()=>{this._setupWeb3();const H=this.communicationMux.getStream("init_stream");H.on("data",I=>{const{name:V,data:te,error:q}=I;V==="init_complete"&&te.success?(this.isInitialized=!0,this._displayIframe(this.isIframeFullScreen),C(void 0)):q&&E(new Error(q))}),H.write({name:"init_stream",data:{loginConfig:i,whiteLabel:this.whiteLabel,buttonPosition:this.buttonPosition,buttonSize:this.buttonSize,torusWidgetVisibility:this.torusWidgetVisibility,apiKey:this.apiKey,network:n,mfaLevel:u}})},window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer)})}login(){let{verifier:t="",login_hint:r=""}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");return this.requestedVerifier=t,this.loginHint=r,this.ethereum.enable()}logout(){return new Promise((t,r)=>{if(!this.isLoggedIn){r(new Error("User has not logged in yet"));return}this.communicationMux.getStream("logout").write({name:"logOut"});const i=this.communicationMux.getStream("status");rt(i,"data",a=>{a.loggedIn?r(new Error("Some Error Occured")):(this.isLoggedIn=!1,this.currentVerifier="",this.requestedVerifier="",t())})})}async cleanUp(){this.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function t(r){return r instanceof Element||r instanceof HTMLDocument}t(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),t(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),t(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.torusWidgetVisibility=!1,this._sendWidgetVisibilityStatus(!1),this._displayIframe()}showTorusButton(){this.torusWidgetVisibility=!0,this._sendWidgetVisibilityStatus(!0),this._displayIframe()}setProvider(t){let{host:r="mainnet",chainId:n=null,networkName:i=""}=t,o=Ld(t,x0);return new Promise((a,d)=>{const f=this.communicationMux.getStream("provider_change");rt(f,"data",y=>{const{err:p,success:h}=y.data;ae.info(y),p?d(p):h?a():d(new Error("some error occurred"))});const c=Xt();this._handleWindow(c,{target:"_blank",features:Mu}),f.write({name:"show_provider_change",data:{network:B0({host:r,chainId:n,networkName:i},o),preopenInstanceId:c,override:!1}})})}showWallet(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.communicationMux.getStream("show_wallet"),i=t?`/${t}`:"";n.write({name:"show_wallet",data:{path:i}}),rt(n,"data",a=>{if(a.name==="show_wallet_instance"){const{instanceId:d}=a.data,f=new URL(`${this.torusUrl}/wallet${i}`);f.searchParams.append("integrity","true"),f.searchParams.append("instanceId",d),Object.keys(r).forEach(c=>{f.searchParams.append(c,r[c])}),f.hash=`#isCustomLogin=${this.isCustomLogin}`,new Wu({url:f,features:M0}).open()}})}async getPublicAddress(t){let{verifier:r,verifierId:n,isExtended:i=!1}=t;if(!lt.supportedVerifierList.includes(r)||!Iu[r])throw new Error("Unsupported verifier");const o=r,a=Iu[r],d=new URL("https://api.tor.us/lookup/torus");return d.searchParams.append("verifier",a),d.searchParams.append("verifierId",n),d.searchParams.append("walletVerifier",o),d.searchParams.append("network","mainnet"),d.searchParams.append("isExtended",i.toString()),qu(d.href,{headers:{"Content-Type":"application/json; charset=utf-8"}},{useAPIKey:!0})}getUserInfo(t){return new Promise((r,n)=>{if(this.isLoggedIn){const i=this.communicationMux.getStream("user_info_access");i.write({name:"user_info_access_request"}),rt(i,"data",a=>{const{name:d,data:{approved:f,payload:u,rejected:c,newRequest:y}}=a;if(d==="user_info_access_response"){if(f)r(u);else if(c)n(new Error("User rejected the request"));else if(y){const p=this.communicationMux.getStream("user_info");rt(p,"data",w=>{w.name==="user_info_response"&&(w.data.approved?r(w.data.payload):n(new Error("User rejected the request")))});const S=Xt();this._handleWindow(S,{target:"_blank",features:Mu}),p.write({name:"user_info_request",data:{message:t,preopenInstanceId:S}})}}})}else n(new Error("User has not logged in yet"))})}initiateTopup(t,r){return new Promise((n,i)=>{if(this.isInitialized){const{errors:o,isValid:a}=P0(t,r);if(!a){i(new Error(JSON.stringify(o)));return}const d=this.communicationMux.getStream("topup");rt(d,"data",c=>{c.name==="topup_response"&&(c.data.success?n(c.data.success):i(new Error(c.data.error)))});const u=Xt();this._handleWindow(u),d.write({name:"topup_request",data:{provider:t,params:r,preopenInstanceId:u}})}else i(new Error("Torus is not initialized yet"))})}async loginWithPrivateKey(t){const{privateKey:r,userInfo:n}=t;return new Promise((i,o)=>{if(this.isInitialized){if(Fo.from(r,"hex").length!==32){o(new Error("Invalid private key, Please provide a 32 byte valid secp25k1 private key"));return}const a=this.communicationMux.getStream("login_with_private_key");rt(a,"data",f=>{f.name==="login_with_private_key_response"&&(f.data.success?i(f.data.success):o(new Error(f.data.error)))}),a.write({name:"login_with_private_key_request",data:{privateKey:r,userInfo:n}})}else o(new Error("Torus is not initialized yet"))})}async showWalletConnectScanner(){if(!this.useWalletConnect)throw new Error("Set `useWalletConnect` as true in init function options to use wallet connect scanner");return new Promise((t,r)=>{if(this.isLoggedIn){const n=this.communicationMux.getStream("wallet_connect_stream");rt(n,"data",o=>{o.name==="wallet_connect_stream_res"&&(o.data.success?t(o.data.success):r(new Error(o.data.error)),this._displayIframe())}),n.write({name:"wallet_connect_stream_req"}),this._displayIframe(!0)}else r(new Error("User has not logged in yet"))})}_handleWindow(t){let{url:r,target:n,features:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){const o=this.communicationMux.getStream("window"),a=new URL(r||`${this.torusUrl}/redirect?preopenInstanceId=${t}`);a.hash?a.hash+=`&isCustomLogin=${this.isCustomLogin}`:a.hash=`#isCustomLogin=${this.isCustomLogin}`;const d=new Wu({url:a,target:n,features:i});if(d.open(),!d.window){this._createPopupBlockAlert(t,a.href);return}o.write({name:"opened_window",data:{preopenInstanceId:t}});const f=u=>{let{preopenInstanceId:c,close:y}=u;c===t&&y&&(d.close(),o.removeListener("data",f))};o.on("data",f),d.once("close",()=>{o.write({data:{preopenInstanceId:t,closed:!0}}),o.removeListener("data",f)})}}_setEmbedWhiteLabel(t){const{theme:r}=this.whiteLabel||{};if(r){const{isDark:n=!1,colors:i={}}=r;n&&t.classList.add("torus-dark"),i.torusBrand1&&t.style.setProperty("--torus-brand-1",i.torusBrand1),i.torusGray2&&t.style.setProperty("--torus-gray-2",i.torusGray2)}}_getLogoUrl(){var t,r;let n=`${this.torusUrl}/images/torus_icon-blue.svg`;if((t=this.whiteLabel)!==null&&t!==void 0&&(r=t.theme)!==null&&r!==void 0&&r.isDark){var i;n=((i=this.whiteLabel)===null||i===void 0?void 0:i.logoLight)||n}else{var o;n=((o=this.whiteLabel)===null||o===void 0?void 0:o.logoDark)||n}return n}_sendWidgetVisibilityStatus(t){this.communicationMux.getStream("torus-widget-visibility").write({data:t})}_displayIframe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const r={},n=this.buttonSize+14;if(t)r.display="block",r.width="100%",r.height="100%",r.top="0px",r.right="0px",r.left="0px",r.bottom="0px";else switch(r.display=this.torusWidgetVisibility?"block":"none",r.height=`${n}px`,r.width=`${n}px`,this.buttonPosition){case _r.TOP_LEFT:r.top="0px",r.left="0px",r.right="auto",r.bottom="auto";break;case _r.TOP_RIGHT:r.top="0px",r.right="0px",r.left="auto",r.bottom="auto";break;case _r.BOTTOM_RIGHT:r.bottom="0px",r.right="0px",r.top="auto",r.left="auto";break;case _r.BOTTOM_LEFT:default:r.bottom="0px",r.left="0px",r.top="auto",r.right="auto";break}Object.assign(this.torusIframe.style,r),this.isIframeFullScreen=t}_setupWeb3(){ae.info("setupWeb3 running");const t=new Ll({name:"embed_metamask",target:"iframe_metamask",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),r=new Ll({name:"embed_comm",target:"iframe_comm",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),n=new Ni(t),i=c=>{const y=n[c];n[c]=function(h){if(h&&h==="eth_requestAccounts")return n.enable();for(var S=arguments.length,w=new Array(S>1?S-1:0),m=1;m<S;m++)w[m-1]=arguments[m];return y.apply(this,[h,...w])}};i("send"),i("sendAsync"),n.enable=()=>new Promise((c,y)=>{n.sendAsync({jsonrpc:"2.0",id:Xt(),method:"eth_requestAccounts",params:[]},(p,h)=>{const{result:S}=h||{};if(p)setTimeout(()=>{y(p)},50);else if(Array.isArray(S)&&S.length>0){const w=()=>{if(this.requestedVerifier!==""&&this.currentVerifier!==this.requestedVerifier){const{requestedVerifier:m}=this;this.logout().then($=>{this.requestedVerifier=m,this._showLoginPopup(!0,c,y)}).catch($=>y($))}else c(S)};this.isLoggedIn?w():this.isLoginCallback=w}else this._showLoginPopup(!0,c,y)})}),n.tryPreopenHandle=(c,y)=>{const p=c;if(!Array.isArray(p)&&V0.includes(p.method)){const h=Xt();this._handleWindow(h,{target:"_blank",features:ju}),p.preopenInstanceId=h}n._rpcEngine.handle(p,y)};const o=new Proxy(n,{deleteProperty:()=>!0});this.ethereum=o;const a=fm(r);this.communicationMux=a,a.getStream("window").on("data",c=>{c.name==="create_window"&&this._createPopupBlockAlert(c.data.preopenInstanceId,c.data.url)}),a.getStream("widget").on("data",c=>{const{data:y}=c;this._displayIframe(y)}),a.getStream("status").on("data",c=>{c.loggedIn?(this.isLoggedIn=c.loggedIn,this.currentVerifier=c.verifier):this._displayIframe(),this.isLoginCallback&&(this.isLoginCallback(),delete this.isLoginCallback)}),this.provider=o,this.provider.shouldSendMetadata&&U0(this.provider._rpcEngine),n._initializeState(),ae.debug("Torus - injected provider")}_showLoginPopup(t,r,n){const i=a=>{const{err:d,selectedAddress:f}=a;d?(ae.error(d),n&&n(d)):r&&r([f]),this.isIframeFullScreen&&this._displayIframe()},o=this.communicationMux.getStream("oauth");if(!this.requestedVerifier)this._displayIframe(!0),rt(o,"data",i),o.write({name:"oauth_modal",data:{calledFromEmbed:t}});else{rt(o,"data",i);const a=Xt();this._handleWindow(a),o.write({name:"oauth",data:{calledFromEmbed:t,verifier:this.requestedVerifier,preopenInstanceId:a,login_hint:this.loginHint}})}}_createPopupBlockAlert(t,r){const n=this._getLogoUrl(),i=nn(`<div id="torusAlert" class="torus-alert--v2"><div id="torusAlert__logo"><img src="${n}" /></div><div><h1 id="torusAlert__title">${this.embedTranslations.actionRequired}</h1><p id="torusAlert__desc">${this.embedTranslations.pendingAction}</p></div></div>`),o=nn(`<div><a id="torusAlert__btn">${this.embedTranslations.continue}</a></div>`),a=nn('<div id="torusAlert__btn-container"></div>');a.appendChild(o),i.appendChild(a),this._setEmbedWhiteLabel(i),this.torusAlertContainer.style.display="block",this.torusAlertContainer.appendChild(i),o.addEventListener("click",()=>{this._handleWindow(t,{url:r,target:"_blank",features:ju}),i.remove(),this.torusAlertContainer.children.length===0&&(this.torusAlertContainer.style.display="none")})}}export{_r as BUTTON_POSITION,ce as PAYMENT_PROVIDER,oe as SUPPORTED_PAYMENT_NETWORK,R0 as TORUS_BUILD_ENV,Ni as TorusInpageProvider,Iu as WALLET_OPENLOGIN_VERIFIER_MAP,Yt as WALLET_VERIFIERS,X0 as default};
